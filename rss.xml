<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Gatsby Starter Blog RSS Feed]]></title><description><![CDATA[klloo blog]]></description><link>https://klloo.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 04 Dec 2023 12:08:26 GMT</lastBuildDate><item><title><![CDATA[React + dayjs로 달력 컴포넌트 만들기]]></title><description><![CDATA[…]]></description><link>https://klloo.github.io/make-calendar/</link><guid isPermaLink="false">https://klloo.github.io/make-calendar/</guid><pubDate>Mon, 04 Dec 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;요즘 진행중인 프로젝트 중 스터디의 일정과 출결을 관리하는 웹 서비스가 있습니다. 그래서 스터디의 일정을 한 눈에 보여줄 수 있는 달력 컴포넌트가 필요했는데요. 원래는 달력 라이브러리를 찾아 적용을 했었습니다.&lt;/p&gt;
&lt;p&gt;그런데 ... 디자인이 정말... 마음에 들지 않았고. 원하는대로 커스텀하기에는 너무 복잡한 것이었습니다 !! 마침(?) 제가 원한 달력의 모양은 간결한 형태였고 저에게도 많은 도움이 될 것 같아 직접 만들어보기로 했습니다.&lt;/p&gt;
&lt;p&gt;먼저 완성본입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/56eb4afd44924bd870582244772fcd51/84f4d/calendar.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.94202898550725%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA7klEQVR42p2T6w7DIAiF+/5v2v6e9a7rIR5G7dosMyFjCB8HtUvOucNqKb0cBr8Mn1ZrFZvjzMUe/YWbKaU+r9aa/G7b1td1PcXsQi05AmxHh5aLbKIbC+mjAArmfcKpUoAZwHQkv5xshhA0maql6Si2MTaxx7Tgjx2DxTD4VgF9KqUvd6AKJ2Atn5Fs8e9AKAJkyI8x6vlxPByD9Tk6Y957M7IAC0gKBAzQOGI8IwtEzDY5A3HDPlyAtvgJeFVogCggEIlswuJ93zVG+FUhuofnkb9dio3dvkMoYIJzTpvwzd0tBfKzy+Oh/mv8/N5oVQOsya0sCAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;calendar&quot;
        title=&quot;&quot;
        src=&quot;/static/56eb4afd44924bd870582244772fcd51/dd45a/calendar.png&quot;
        srcset=&quot;/static/56eb4afd44924bd870582244772fcd51/948cf/calendar.png 138w,
/static/56eb4afd44924bd870582244772fcd51/6b2ea/calendar.png 275w,
/static/56eb4afd44924bd870582244772fcd51/dd45a/calendar.png 550w,
/static/56eb4afd44924bd870582244772fcd51/d4c13/calendar.png 825w,
/static/56eb4afd44924bd870582244772fcd51/99f37/calendar.png 1100w,
/static/56eb4afd44924bd870582244772fcd51/84f4d/calendar.png 1208w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;너무 귀엽지 않나요 . 저만의.. My own Calendar..&lt;/p&gt;
&lt;p&gt;아무튼 ... 이제 dayjs 라이브러리와 제가 어떻게 달력을 만들었는지에 대해 적어보려고 합니다.&lt;/p&gt;
&lt;h2&gt;Dayjs 라이브러리&lt;/h2&gt;
&lt;p&gt;dayjs란 날짜와 관련된 다양한 기능을 제공해주는 라이브러리 입니다. 제가 이 라이브러리르 사용하면서 가장 많이 쓰는 기능에는 날짜 연산, 날짜 포맷팅 등이 있을 것 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9ccf7a12b7b1eb3e853386e076ad611e/8963a/dayjs.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.91304347826086%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABfklEQVR42o1TWXaCQBDk/qfK8wgBhn2bAZRNQfPf6eo4hvgU8lGvBhiqqzdHa02e51HbtrQsC10uF5rn+cFrnM/nXTh5UdDH4UBBGNLpdBJh4Hg8Ptieh2HYF2xrQ6nyKXQ/SYFZWCklHAQBRVEk7Pu+iML5NE3vBeehp1tT01fb0JXTWq5XSf0VILbrEGk0LafF6SLyFv5Vw6rS5LoepWkmP8HFHjYFm6aR2kCs73vquk6A8zOQDXizhuhsnudU1zVB3LIFnu07BAa/y0QECx4bO4fGGIEVwNmOkRUDY3bXgXAPziHq4EKWZZQkCYVBKOOCUYmiWMalLEuZQ5QB2VisSwMex/E+hyyYJCkVRfmIWLEDY3CGGyM/LMvvxmw1Spriui61zPiASMA0WfDI8HN3bwzEd5sSc7q+r2T9ZCt4UxSz5/myNXGciHtbY7uCr4QdXNAMfMTFYfhxCLauRv72vDFvU0YNq6qSyNK9uwstddR/nOHd+u76jFKgy9+WMluCPNDQ9AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;dayjs&quot;
        title=&quot;&quot;
        src=&quot;/static/9ccf7a12b7b1eb3e853386e076ad611e/dd45a/dayjs.png&quot;
        srcset=&quot;/static/9ccf7a12b7b1eb3e853386e076ad611e/948cf/dayjs.png 138w,
/static/9ccf7a12b7b1eb3e853386e076ad611e/6b2ea/dayjs.png 275w,
/static/9ccf7a12b7b1eb3e853386e076ad611e/dd45a/dayjs.png 550w,
/static/9ccf7a12b7b1eb3e853386e076ad611e/d4c13/dayjs.png 825w,
/static/9ccf7a12b7b1eb3e853386e076ad611e/99f37/dayjs.png 1100w,
/static/9ccf7a12b7b1eb3e853386e076ad611e/8963a/dayjs.png 1918w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;공식문서에서는 위와 같이 소개하고 있습니다. Moment.js의 대안이라고 나와있는데 Moment.js는 그간 자바스크립트에서 가장 많이 사용되었던 날짜 관련 라이브러리입니다. 하지만 큰 번들 사이즈, Tree shaking 미지원, mutable 한 구조 등의 단점으로 인해 더 이상의 업데이트를 하지 않기로 선언하면서 Day.js, Luxon, date-fns등 &lt;a href=&quot;https://momentjs.com/docs/#/-project-status/recommendations/&quot;&gt;다른 라이브러리를 대안으로 제안&lt;/a&gt;하고 있습니다.&lt;/p&gt;
&lt;p&gt;이 중 사용자가 가장 많고 사이즈가 가장 작은 것이 dayjs입니다. 공식문서에서도 나와있든 dayjs는 2kB의 작은 사이즈를 강조하고 있습니다. 번들 사이즈에 예민한 프론트 세상에서 작은 사이즈라는 것은 큰 장점이 될 수 있을 것 같습니다. 또한 dayjs는 immutable한 구조를 갖추고 있어 자바스크립트의 트렌드와도 잘 부합하는 라이브러리로 볼 수 있을 것 같습니다.&lt;/p&gt;
&lt;h2&gt;달력 만들기&lt;/h2&gt;
&lt;p&gt;이제 달력을 만들어보겠습니다.&lt;/p&gt;
&lt;h3&gt;달력 틀 만들기&lt;/h3&gt;
&lt;p&gt;먼저 달력 틀을 만들어줬습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Calendar&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;FC&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ICalendarProps&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 selectDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 선택된 날짜&lt;/span&gt;
 setSelectDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 날짜 설정&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// 보여질 날짜&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setViewDate&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dayjs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; weekDays &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useMemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;일&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;월&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;화&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;수&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;목&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;금&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;토&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;changeMonth&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; changeString&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;changeString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;add&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setViewDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;subtract&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setViewDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subtract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;today&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setViewDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dayjs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Container&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarHeaderDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;changeMonth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;subtract&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MdArrowBackIos&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;changeMonth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;today&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;M&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;월&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;changeMonth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;add&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MdArrowForwardIos&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarHeaderDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WeekDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;weekDays&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;day&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
       &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DayNumberDiv&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;sun&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;day&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DayNumberDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WeekDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Container&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Calendar&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;viewDate&lt;/code&gt;는 달력에 보여질 날짜입니다. 먼저 오늘 날짜로 설정을 해주고, 현재 월과 달력에 나타낼 요일을 그려줬습니다. &lt;code class=&quot;language-text&quot;&gt;viewDate&lt;/code&gt;에서 중요한건 보여질 날짜가 몇년 몇월인가 하는 것입니다. 몇년 몇월인지에 따라 달력에 그려주는 날짜들이 달라지기 때문입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/63c164c1a7353b2bf9cc8244f0baf3c6/5148a/calendar1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.536231884057973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAgUlEQVR42q1QwQrFIAzz/7/TkydBUFFrZ7plsD18pxVio6mx1vXedYyhyDuIiOFfDTxaa+qscBEczDntIjI5Isao3nvjb50ZZjA2Q7kKdpFS0hDCVqcpmnIw01xOrMg53y+XUu6u2G2t9cGp89uur0UwJ2DKz8z4MkC+022G3HyFA5M82c0eGIkQAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;calendar1&quot;
        title=&quot;&quot;
        src=&quot;/static/63c164c1a7353b2bf9cc8244f0baf3c6/dd45a/calendar1.png&quot;
        srcset=&quot;/static/63c164c1a7353b2bf9cc8244f0baf3c6/948cf/calendar1.png 138w,
/static/63c164c1a7353b2bf9cc8244f0baf3c6/6b2ea/calendar1.png 275w,
/static/63c164c1a7353b2bf9cc8244f0baf3c6/dd45a/calendar1.png 550w,
/static/63c164c1a7353b2bf9cc8244f0baf3c6/d4c13/calendar1.png 825w,
/static/63c164c1a7353b2bf9cc8244f0baf3c6/99f37/calendar1.png 1100w,
/static/63c164c1a7353b2bf9cc8244f0baf3c6/5148a/calendar1.png 1228w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;여기까지 하면 이런 달력이 생깁니다. 좌우 버튼을 클릭하면 보여질 날짜에 월을 하나씩 더하고 빼면서 &lt;code class=&quot;language-text&quot;&gt;viewDate&lt;/code&gt;를 조작할 수 있도록 했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;changeMonth&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; changeString&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;changeString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;add&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setViewDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;subtract&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setViewDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subtract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;today&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setViewDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dayjs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 부분인데요 dayjs를 활용해서 월을 더하고 빼는 날짜연산을 해줬습니다.&lt;/p&gt;
&lt;h3&gt;달력에 보여지는 주(week) 구하기&lt;/h3&gt;
&lt;p&gt;이제 날짜를 그려줘야 합니다. 그러기 위해서는 달력에 몇개의 주를 그려줘야할지 구해야합니다.&lt;/p&gt;
&lt;p&gt;먼저 dayjs는 일반적으로 사용될만한 기본적인 기능들만 포함되어 있고 이외의 기능은 dayjs/plugin를 통해 확장하여 사용할 수 있습니다. 이 점은 dayjs가 작은 사이즈라는 장점을 가지는데 한 몫 하고 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;dayjs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;weekday&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
dayjs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isoWeek&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
dayjs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;weekOfYear&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그래서 일단 주를 계산하는데 필요한 확장들을 추가했습니다. 각 확장에 대한 설명은 아래와 같습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;dayjs.extend(weekday)&lt;/code&gt;: 날짜 객체에서 요일에 대한 정보를 쉽게 다룰 수 있도록 도와줍니다.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;dayjs.extend(isoWeek)&lt;/code&gt;: 주차를 나타내는데, 특히 연도의 주차를 정의하는 국제 표준에 따라 동작합니다. ISO 주차는 주의 시작을 월요일로 설정하며, 연도의 첫 주는 그 해의 첫 번째 목요일을 포함하는 주입니다.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;dayjs.extend(weekOfYear)&lt;/code&gt;: 특정 날짜가 해당 연도의 몇 번째 주에 속하는지를 계산하고 반환하는 기능을 제공합니다.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이제 첫주차와 마지막 주차를 구해보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; startWeek &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; endWeek &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;endOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;53&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;endOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;dayjs를 사용하여 비교적 쉽게 구할 수 있었는데요. &lt;code class=&quot;language-text&quot;&gt;viewDate.startOf(&apos;month&apos;)&lt;/code&gt;이 부분은 viewDate에 나타나있는 월의 시작일로 날짜를 지정하겠다는 의미입니다. 즉 &lt;code class=&quot;language-text&quot;&gt;viewDate&lt;/code&gt;가 12월 9일이라면, &lt;code class=&quot;language-text&quot;&gt;viewDate.startOf(&apos;month&apos;)&lt;/code&gt;는 12월의 시작일이 됩니다. 그리고 &lt;code class=&quot;language-text&quot;&gt;.week()&lt;/code&gt;를 통해 그 날짜가 몇주차인지 구해줍니다. 그러면 &lt;code class=&quot;language-text&quot;&gt;viewDate&lt;/code&gt;에 해당하는 월의 시작일이, 1년 중 몇주차인지 구할 수 있게 됩니다.&lt;/p&gt;
&lt;p&gt;마지막 주차도 마찬가지입니다. &lt;code class=&quot;language-text&quot;&gt;viewDate&lt;/code&gt;의 마지막일이 1년 중 몇주차인지 구하면 됩니다. 이 때 주의할 점이 있습니다. 1년의 주수는 52주 또는 53주입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/819d90b735b8619b1c8c835a2134d059/e8814/december.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.28985507246377%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACAElEQVR42m2T6ZKbQAyEeZBkbWPu4RwMNrbZZO09KiGVrUre/1mUbsHE8VZ+qNAMoqe/kfCexkF+v/+QX++TvF6+IJ9kertK7D9IFm4kDdb6/Dc+7j0ee/n28iTH3op33rfy/fUib9evct7v8OKiEW0+Sx5vpUxDFTCRr2vmRRIiAkm2K80Pba1ifVOIl0VbFAbSVrmEq09SZZF0eEGHQ9dIb0vND7tabJmpyKlvpckTScO1jIcO38RioEFhr85TiBUQKfV0CtYo5od8llhrbmIpFrcUzuEwCzZii1QahC2NdLaaBSuDD9NIseiGAi53uLwCd3eaL/fHvMJh1Cmg4VGsh/LQWYkhtIdtRgQxPts61/0z0JoCyBAdh05FDO50HHrdp8MTeqAOuWDQAZtATJc7TEUGpsvZIDqs1V2iouzDDZkX65AXTEXmmCDC9T2mGxnWOOTSIRNt6GdkdtMhH9HNrsmlTHy5jnttQLrMXQmRDIdy1Jy7M/D/j7xg8kSbhzKNRn4+oibjUM+YZkF2U3GH7LA//gXM6SjyVxIistC/1US33CFTQ5EPuwbI7TLMFsiVInOfyG2Ooa05WoEewKbpHEJ0djib4iyrQ9pl8ER2T4uRG/xFFmLTKZVn+/AX2UQbbZojoSmnc4/sing/DolDvUU3A6yjZZ8R33InyPgDnDylK4d+PdsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;december&quot;
        title=&quot;&quot;
        src=&quot;/static/819d90b735b8619b1c8c835a2134d059/dd45a/december.png&quot;
        srcset=&quot;/static/819d90b735b8619b1c8c835a2134d059/948cf/december.png 138w,
/static/819d90b735b8619b1c8c835a2134d059/6b2ea/december.png 275w,
/static/819d90b735b8619b1c8c835a2134d059/dd45a/december.png 550w,
/static/819d90b735b8619b1c8c835a2134d059/d4c13/december.png 825w,
/static/819d90b735b8619b1c8c835a2134d059/99f37/december.png 1100w,
/static/819d90b735b8619b1c8c835a2134d059/e8814/december.png 1392w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그런데 이렇게 12월의 마지막 주차는 그 다음해 1월과 나눠가지며, 그 다음 해의 첫 주차일수도, 이번 해의 마지막 주차일수도 있습니다. 전자라면 12월의 마지막주차는 1주차, 후자라면 53주차가 나오게 될 것 입니다. 하지만 달력의 주수가 정상적으로 그려지려면 12월의 마지막 주차는 항상 53주차가 되어야 하므로 &lt;code class=&quot;language-text&quot;&gt;viewDate.endOf(&apos;month&apos;).week() === 1 ? 53 : viewDate.endOf(&apos;month&apos;).week()&lt;/code&gt; 이런 예외 처리를 추가해준 것입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; length&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; endWeek &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; startWeek &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; startWeek &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;startWeek&lt;/code&gt;부터 &lt;code class=&quot;language-text&quot;&gt;endWeek&lt;/code&gt;까지 그려보면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ab67309d2c7969b183d0d1c5c3204251/e9140/week.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 76.81159420289856%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAoklEQVR42sVT7QoDIQzz/Z/T/4o7xW9nioob5wY3jwWq0KYxpchijMWHUGKNsAhwUkrL+sxjM3kFpVThnC/rXYwEQxPMNd6Rc6bbOUeic24G9dc8hBkOojwOsOkVCADW2tGQ2oOo5cbz3lMOd5+SRj60PnV45vZTfQhKKYeDq3gRFELsE8RhjPk60n8daixll8NbBLdu+RaHW5fSv1X/3L/GE7AvpYKt/hVXAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;week&quot;
        title=&quot;&quot;
        src=&quot;/static/ab67309d2c7969b183d0d1c5c3204251/dd45a/week.png&quot;
        srcset=&quot;/static/ab67309d2c7969b183d0d1c5c3204251/948cf/week.png 138w,
/static/ab67309d2c7969b183d0d1c5c3204251/6b2ea/week.png 275w,
/static/ab67309d2c7969b183d0d1c5c3204251/dd45a/week.png 550w,
/static/ab67309d2c7969b183d0d1c5c3204251/d4c13/week.png 825w,
/static/ab67309d2c7969b183d0d1c5c3204251/99f37/week.png 1100w,
/static/ab67309d2c7969b183d0d1c5c3204251/e9140/week.png 1226w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;주차가 잘 구해진 것을 확인할 수 있습니다.&lt;/p&gt;
&lt;h3&gt;달력 날짜 그리기&lt;/h3&gt;
&lt;p&gt;이제 각 주마다 7개의 날짜를 그려서 달력을 채워주면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; length&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; endWeek &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; startWeek &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; startWeek &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WeekDiv&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token comment&quot;&gt;// 나타낼 날짜&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;week&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;day&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;week&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;i&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
       &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DayNumberDiv&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;sun&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;d&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DateBoxDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;D&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DateBoxDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
       &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DayNumberDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WeekDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;매 주차마다 7개의 날짜를 그려줍니다. 그려주는 날짜는 &lt;code class=&quot;language-text&quot;&gt;const current = viewDate.week(week).startOf(&apos;week&apos;).add(i, &apos;day&apos;);&lt;/code&gt; 와 같이 구할 수 있습니다. 먼저 보여질 날짜를 기준으로 날짜의 주차를 현재 그려지고 있는 주차로 설정하고, 그 주의 시작일로 설정한다음, 그로부터 0~6일을 더해가면서 해당 주차에 그려질 날짜를 설정해줍니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1c83b3635aeedb173b991c9e67554c16/84f4d/allday.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.36231884057972%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJElEQVR42p1T246FIAz0/z/VxMQHQASh2+E4WMmyJ1mSehnaYejAcl2XpJQk5zyNUoogbzZPDryXBmgAqCJSa+0BIoxt22Rd1/YNzOYgKKgR4oEkFtuBZIx931vMBus/CvVRUxZxvk2eMXYV53l2Yi5IDP9QhsHtPoQaEj+JWSfHYvaKxVwEBBjc5UOYdcKFTsJi733HSASMvSOhNe5WWIB2BSwgMRtONd+3XB5CgCOhNc0Sjgu+exjCs9qdeBxHx/KA4T+qgRhBa6emoF9UwQJLaI3iN/IGwncPSfiXy7wdVoRxWZN96Fv6zWVizrlOzO0Dm59DLeQNsabYIzKa8nI5wSFVUFSh3g9JRj6U0W0ep3jfJPaQGPu8tEkQ3Cr+E1wA7x//2qDU2FeaMgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;allday&quot;
        title=&quot;&quot;
        src=&quot;/static/1c83b3635aeedb173b991c9e67554c16/dd45a/allday.png&quot;
        srcset=&quot;/static/1c83b3635aeedb173b991c9e67554c16/948cf/allday.png 138w,
/static/1c83b3635aeedb173b991c9e67554c16/6b2ea/allday.png 275w,
/static/1c83b3635aeedb173b991c9e67554c16/dd45a/allday.png 550w,
/static/1c83b3635aeedb173b991c9e67554c16/d4c13/allday.png 825w,
/static/1c83b3635aeedb173b991c9e67554c16/99f37/allday.png 1100w,
/static/1c83b3635aeedb173b991c9e67554c16/84f4d/allday.png 1208w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그러면 이렇게 날짜를 제대로 그릴 수 있게 됩니다.&lt;/p&gt;
&lt;p&gt;이제 여기에&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;해당 달의 범위를 벗어나는 날짜 숨기기&lt;/li&gt;
&lt;li&gt;날짜 선택할 수 있도록 하기&lt;/li&gt;
&lt;li&gt;오늘 날짜 표시하기&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이 세가지 기능만 추가하면 됩니다.&lt;/p&gt;
&lt;p&gt;먼저 1, 3의 경우에는&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; length&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; endWeek &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; startWeek &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; startWeek &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WeekDiv&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token comment&quot;&gt;// 나타낼 날짜&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;week&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;day&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token comment&quot;&gt;// 오늘 날짜 여부&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isToday &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dayjs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;YYYYMMDD&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;YYYYMMDD&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;today&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token comment&quot;&gt;// 보여질 날짜가 아닌 경우 (다른 달의 날짜인 경우)&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isNone &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;MM&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;MM&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;none&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;week&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;i&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
       &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DayNumberDiv&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;sun&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;d&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;isToday&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;isNone&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DateBoxDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;D&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DateBoxDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
       &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DayNumberDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WeekDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 처리하였습니다. 먼저 오늘날짜 여부는 오늘 날짜와 달력에 그려질 날짜를 비교해줬고, 다른 달의 날짜인 경우는 현재 달력에 나타낼 날짜인 &lt;code class=&quot;language-text&quot;&gt;viewDate&lt;/code&gt;의 월과 그려질 날짜의 월이 다른 경우를 비교해줬습니다. 이렇게 비교한 결과를 className으로 전달하여 다른 스타일을 적용해줬습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c5d6d1af9b3233da9b579dc3e2538d1b/a3767/todaynone.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.18840579710144%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABM0lEQVR42q1TW46EMAzj/pfbM8wnowWhkei7zcSlLgwsP6ONFFGS2thtGGKMgkwpCdfnzDnXvOsfsUNvhCCIUkpPkCCmaZJxHOsatXPfe98/WAlzyTXvYlkWmef5tg+FfA4x64tzIqupRWdtV+FQb6oIQo3q2A/qDrWNUBUKpDf5OYFMuv3jMZCcNa4/FYLwi6AiBDh2hShqlrA1Hz9JXk+oKWolXiwTjAztIv+23AC/jyz2VTUoOF0Ij5bp7qoQStqlhOgUlOoGY0wfCyRiXdcOZh81vDfCuKlr8r0P+rrPFxVQDW1CaegYfz3DTqijgMZxbAAgmDXssTpiCNtGbSfE163rAM4hASCjQtg8W8Zzt4yNsBj2AyYhVWEjL4M3er7lT4V6bmIsB0y+jfov085/5RtLoqGMPWCSdgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;todaynone&quot;
        title=&quot;&quot;
        src=&quot;/static/c5d6d1af9b3233da9b579dc3e2538d1b/dd45a/todaynone.png&quot;
        srcset=&quot;/static/c5d6d1af9b3233da9b579dc3e2538d1b/948cf/todaynone.png 138w,
/static/c5d6d1af9b3233da9b579dc3e2538d1b/6b2ea/todaynone.png 275w,
/static/c5d6d1af9b3233da9b579dc3e2538d1b/dd45a/todaynone.png 550w,
/static/c5d6d1af9b3233da9b579dc3e2538d1b/d4c13/todaynone.png 825w,
/static/c5d6d1af9b3233da9b579dc3e2538d1b/99f37/todaynone.png 1100w,
/static/c5d6d1af9b3233da9b579dc3e2538d1b/a3767/todaynone.png 1210w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;달을 벗어나는 날짜의 경우에는 보여지지는 않지만 공간은 차지하고 있어야하므로 opacity속성을 사용했습니다.&lt;/p&gt;
&lt;p&gt;다음으로 2번의 경우는 달력 컴포넌트를 사용한 컴포넌트에서 선택한 날짜를 사용할 수 있도록 &lt;code class=&quot;language-text&quot;&gt;selectDate&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;setSelectDate&lt;/code&gt;를 상위 컴포넌트에서 prop으로 전달받아 사용했습니다.&lt;/p&gt;
&lt;p&gt;그리고 날짜를 클릭했을 경우 해당 날짜를 선택한 날짜로 설정하도록&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;isSelected&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;isToday&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;isNone&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setSelectDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DateBoxDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;D&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DateBoxDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;핸들러를 이렇게 설정해주고, 1, 3을 처리한 것과 마찬가지로&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 선택됐는지 여부&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isSelected &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; selectDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;YYYYMMDD&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;YYYYMMDD&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;selected&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 선택됐는지 여부를 비교하여 className으로 넣어주고 다른 스타일을 적용해줬습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bdc7d9ac730d612fb81e18fbbba56beb/21de8/done.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.68115942028986%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAoklEQVR42pVS7Q6EIAzz/d8UEv6B4WvrOXAXhNOLTRp1tA1u24gIylIKUkoYa7XWxn3f4b1vnDUjNz7EzNwoQjEKtKaBzjkYY2Ct/WpmtEAwgdHNCnmXQ33KzcfzO7RAKgzvxMhL0Bz4i0sg56NvsZvUXDOu32dbFDlnhBAQY7zU+y9Lj6guAU+BjzdEqX1Cp2mcrg7lZQ/L7QqM6/RPo2vzASrmeQRS7PNgAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;done&quot;
        title=&quot;&quot;
        src=&quot;/static/bdc7d9ac730d612fb81e18fbbba56beb/dd45a/done.png&quot;
        srcset=&quot;/static/bdc7d9ac730d612fb81e18fbbba56beb/948cf/done.png 138w,
/static/bdc7d9ac730d612fb81e18fbbba56beb/6b2ea/done.png 275w,
/static/bdc7d9ac730d612fb81e18fbbba56beb/dd45a/done.png 550w,
/static/bdc7d9ac730d612fb81e18fbbba56beb/d4c13/done.png 825w,
/static/bdc7d9ac730d612fb81e18fbbba56beb/99f37/done.png 1100w,
/static/bdc7d9ac730d612fb81e18fbbba56beb/21de8/done.png 2436w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그러면 이렇게 선택한 날짜를 상위 컴포넌트에서 사용할 수 있게 됩니다! 저는 여기에 일정 정보를 props로 받은 다음 그려질 날짜와 비교하여 일정이 있는 경우 날짜 밑에 점으로 표시될 수 있도록 해줬습니다.&lt;/p&gt;
&lt;p&gt;제가 진행하고 있는 프로젝트에서는 스터디 일정에 최적화된 달력을 구현해야해서 요일별로 스터디 일정이 표시되도록 해줬는데, 보통의 일정 달력이라면 여기서 특정 날짜별로 일정을 관리할 수 있도록 해주면 될 것 같습니다. 이 부분의 코드는 위의 과정과 유사하여 생략하도록 하겠습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/316857468e7a3f7e84de5438b088f657/636d3/studycalendar.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 78.26086956521739%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABcklEQVR42qWU7W7DIAxF8/6v2d9dSQIkYMDjGpyGtN0mzZIFNf44GDdTjJFTSkxEHzXn/OM54pGnlMITDCEE+fFOkex2u0kg5HquybBCJwRArwJnFWPMW59zASSDjyTk1TLDUA+2bRNHUGsSOOsKGsi+77JqOxSsJQQNKl2ClZIoHcF6ri1Q25iwC6XM2+6OgJawMAU70MA625lTSRLjwwthp+xBuiqhUp37rTbt39BDCu16qe69X8UxRu1hYe/mgxq9hTzmR/VvhNbvI2HpfcxSjV4Icx5HRgpSfL6wJDsRptXXO2SptqyNxntfKUkIN287dTymwChhfbDVupEw9xfOMsh0mUNQpMvs4QEjTmSfoecepsXhXvUaxEut3Ahdn7nC69Jse+0fyCH3x/0gtM5fCFGiNML0R8IIwpJlnwbCaiSz4A4cKqExXxLknO0vWthZw7/JMTbyxUjtpQhfnVpZ8Z9Kb2yj6t9vksx9MP+rkG/IaPC/qCEPhAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;studycalendar&quot;
        title=&quot;&quot;
        src=&quot;/static/316857468e7a3f7e84de5438b088f657/dd45a/studycalendar.png&quot;
        srcset=&quot;/static/316857468e7a3f7e84de5438b088f657/948cf/studycalendar.png 138w,
/static/316857468e7a3f7e84de5438b088f657/6b2ea/studycalendar.png 275w,
/static/316857468e7a3f7e84de5438b088f657/dd45a/studycalendar.png 550w,
/static/316857468e7a3f7e84de5438b088f657/d4c13/studycalendar.png 825w,
/static/316857468e7a3f7e84de5438b088f657/99f37/studycalendar.png 1100w,
/static/316857468e7a3f7e84de5438b088f657/636d3/studycalendar.png 1222w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;짠 이렇게 완성입니다.&lt;/p&gt;
&lt;p&gt;전체 코드는 아래와 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**
 * 달력 컴포넌트
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Calendar&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;FC&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ICalendarProps&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 selectDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 선택된 날짜&lt;/span&gt;
 setSelectDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 날짜 설정&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// day extend&lt;/span&gt;
 dayjs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;weekday&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 dayjs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isoWeek&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 dayjs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;weekOfYear&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token comment&quot;&gt;// 보여질 날짜&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setViewDate&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dayjs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; startWeek &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; endWeek &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;endOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;53&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;endOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; weekDays &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useMemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;일&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;월&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;화&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;수&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;목&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;금&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;토&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;changeMonth&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; changeString&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;changeString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;add&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setViewDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;subtract&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setViewDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subtract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;month&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;today&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setViewDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dayjs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Container&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarHeaderDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;changeMonth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;subtract&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MdArrowBackIos&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;changeMonth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;today&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;M&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;월&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;changeMonth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;add&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MdArrowForwardIos&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarHeaderDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WeekDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;weekDays&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;day&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
       &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DayNumberDiv&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;sun&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;day&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DayNumberDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WeekDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; length&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; endWeek &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; startWeek &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; startWeek &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WeekDiv&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
       &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;token comment&quot;&gt;// 나타낼 날짜&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;week&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;week&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;day&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         &lt;span class=&quot;token comment&quot;&gt;// 선택됐는지 여부&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isSelected &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; selectDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;YYYYMMDD&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;YYYYMMDD&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;selected&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         &lt;span class=&quot;token comment&quot;&gt;// 오늘 날짜 여부&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isToday &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dayjs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;YYYYMMDD&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;YYYYMMDD&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;today&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         &lt;span class=&quot;token comment&quot;&gt;// 보여질 날짜가 아닌 경우 (다른 달의 날짜인 경우)&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isNone &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;MM&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; viewDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;MM&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;none&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;week&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;i&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
           &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DayNumberDiv&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;sun&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;d&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
             &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;isSelected&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;isToday&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;isNone&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
             &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token function&quot;&gt;setSelectDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
             &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
             &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DateBoxDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;D&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DateBoxDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
             &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* &amp;lt;ScheduleDot /&gt; -&gt; 스케줄이 있는 경우 */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
           &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DayNumberDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WeekDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CalendarContentDiv&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Container&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Calendar&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[날백수인 내가 SWR로 무한 스크롤(Infinite scroll)을 구현한 방법]]></title><description><![CDATA[무한 스크롤 ? 무한 스크롤이란 사용자가 페이지 하단에 도달했을 때, 콘텐츠가 계속 로드되는 사용자 경험 방식입니다. 페이지를 클릭하면 다음 페이지 주소로 이동하는 페이지네이션(Pagination…]]></description><link>https://klloo.github.io/swr-pagination/</link><guid isPermaLink="false">https://klloo.github.io/swr-pagination/</guid><pubDate>Sun, 26 Nov 2023 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;무한 스크롤 ?&lt;/h3&gt;
&lt;p&gt;무한 스크롤이란 사용자가 페이지 하단에 도달했을 때, 콘텐츠가 계속 로드되는 사용자 경험 방식입니다. 페이지를 클릭하면 다음 페이지 주소로 이동하는 페이지네이션(Pagination)과 달리, 한 페이지에서 스크롤만으로 새로운 콘텐츠를 보여주게 되므로 많은 양의 콘텐츠를 스크롤하여 볼 수 있는 장점이 있습니다.&lt;/p&gt;
&lt;p&gt;하지만 스크롤을 내릴때 마다 네트워크 요청이 이루어지므로 페이지 성능이 느려질 수 있다는 단점도 있습니다. 그럼에도 개발중인 내용 중 로그를 보여주는 페이지가 있는데, 이 경우에는 페이지네이션 기능보다는 계속 스크롤하며 로그를 확인하는 무한 스크롤 방식이 더 사용자들이 더 쉽게 사용할 수 있을 것 같아 이 방식을 구현해보기로 했습니다!&lt;/p&gt;
&lt;h3&gt;useSWRInfinite&lt;/h3&gt;
&lt;p&gt;useSWRInfinite은 SWR에서 제공하는 훅으로, 하나의 훅을 사용해서 많은 요청을 트리거 할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; useSWRInfinite &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;swr/infinite&apos;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; isLoading&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; isValidating&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mutate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setSize &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useSWRInfinite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  getKey&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fetcher&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;useSWR과 유사하게 생겼으며 파라미터와 반환값에 대한 설명은 아래와 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;파라미터&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getKey&lt;/code&gt;: 인덱스와 이전 페이지 데이터를 받고 페이지의 키를 반환하는 함수&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fetcher&lt;/code&gt;: useSWR의 fetcher 함수와 동일&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;options&lt;/code&gt;: useSWR이 지원하는 모든 옵션을 받음. 네 개의 추가 옵션을 포함:&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;initialSize = 1&lt;/code&gt;: 초기에 로드해야 하는 페이지의 수&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;revalidateAll = false&lt;/code&gt;: 항상 모든 페이지의 갱신 시도&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;revalidateFirstPage = true&lt;/code&gt;: always try to revalidate the first page&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;persistSize = false&lt;/code&gt;: 첫 페이지의 키가 변경될 때, 페이지 크기를 1(initialSize가 설정된 경우 initialSize)로 초기화하지 않음&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;parallel = false&lt;/code&gt;: 여러 페이지를 병렬적으로 동시에 불러옴&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;반환 값&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;: 각 페이지의 응답 값의 배열&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt;: useSWR의 error와 동일&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;isLoading&lt;/code&gt;: useSWR의 isLoading과 동일&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;isValidating&lt;/code&gt;: useSWR의 isValidating과 동일&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;mutate&lt;/code&gt;: useSWR의 바인딩 된 뮤테이트 함수와 동일하지만 데이터 배열을 다룸&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;size&lt;/code&gt;: 가져올 페이지 및 반환될 페이지의 수&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;setSize&lt;/code&gt;: 가져와야 하는 페이지의 수를 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;사용 방법&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getKey&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;pageIndex&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; previousPageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;previousPageData &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;previousPageData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 끝에 도달&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/users?page=&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;pageIndex&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;amp;limit=10&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// SWR 키&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setSize &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useSWRInfinite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;getKey&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fetcher&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같이 사용할 수 있으며 useSWR과의 가장 큰 차이점은 &lt;code class=&quot;language-text&quot;&gt;getKey&lt;/code&gt;함수인 것 같습니다. 이 함수는 현재페이지의 인덱스와 이전 페이지의 데이터를 받아서 새로운 키를 반환함으로써 인덱스 기반 및 커서 기반 페이지네이션 API를 지원할 수 있게 됩니다.&lt;/p&gt;
&lt;p&gt;useSWRInfinite를 사용해봤을 때, &lt;code class=&quot;language-text&quot;&gt;setSize&lt;/code&gt;를 이용해서 size를 변경시켜주면, &lt;code class=&quot;language-text&quot;&gt;getKey&lt;/code&gt;함수가 호출되어 다음 페이지의 데이터를 로딩해주고 있는 것 같았습니다.&lt;/p&gt;
&lt;p&gt;예를들어 &lt;code class=&quot;language-text&quot;&gt;setSize(3)&lt;/code&gt;을 호출하여 총 3페이지에 해당하는 데이터를 가져와야 한다면 &lt;code class=&quot;language-text&quot;&gt;pageIndex&lt;/code&gt;를 0, 1, 2로 받는 &lt;code class=&quot;language-text&quot;&gt;getKey&lt;/code&gt;함수가 총 3번 호출되어 세 개의 키를 가져오고 있습니다. 그래서 이전에 0, 1 페이지에 해당하는 내용을 이미 가져왔다면, 해당 데이터는 더 이상 요청하지 않고 새롭게 2 페이지의 내용만 호출해서 이전 데이터에 덧붙여 주는 방식인 것 같습니다. (SWR은 같은 키값을 가진 데이터를 전역으로 공유하며 불필요한 네트워크 요청을 줄여주기 때문입니다.)&lt;/p&gt;
&lt;p&gt;그러니까 그냥 각 페이지의 데이터는 각기 다른 키를 가진 데이터라고 보면 될 것 같습니다! 반환되는 데이터 또한 &lt;code class=&quot;language-text&quot;&gt;getKey&lt;/code&gt;에서 얻어온 key를 가지는 데이터의 배열로 반환되고 있습니다.&lt;/p&gt;
&lt;p&gt;만약 한 페이지의 데이터가&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;John&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Paul&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;George&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같다면, useSWRInfinite로 가져온 데이터는 아래와 같이 각 페이지 별 API 응답의 배열로 제공되고 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Alice&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Bob&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Cathy&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;John&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Paul&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;George&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;적용&lt;/h3&gt;
&lt;p&gt;이제 코드에 적용해보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; getKey &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;pageIndex&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; previousPageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;previousPageData &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;previousPageData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 끝에 도달&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.../page?page=&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;pageIndex&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;amp;size=&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;size&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// SWR 키&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;getKey&lt;/code&gt;함수를 위와 같이 작성해줬습니다.
끝에 도달한 경우(이전 페이지가 있긴 있는데, length가 0인 경우, 공식문서를 참고했습니다.)에는 아무런 키를 반환하지 않고, 그렇지 않은 경우에만 매개변수로 전달된 pageIndex에 해당하는 페이지의 내용을 불러오도록 키를 반환하게 했습니다.&lt;/p&gt;
&lt;p&gt;그리고 &apos;더 보기&apos; 와 같은 버튼을 만들어서, 더 보기 버튼에&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;changePage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isLoadingLog &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isEndPage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; prev &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같은 함수를 핸들러에 등록하여 로딩중이 아니면서, 끝페이지에 도달하지 않은 경우 size를 하나 늘리도록 setSize를 호출해주도록 했습니다.
물론 끝에 도달한 경우를 &lt;code class=&quot;language-text&quot;&gt;getKey&lt;/code&gt;에서도 한번 거르긴 하지만... 그래도 이렇게 해줬습니다.&lt;/p&gt;
&lt;p&gt;로딩 여부와 끝 페이지에 도달했는지 여부는 다음과 같이 구할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// 로딩 중 여부&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isLoadingMore &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; isLoading &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;size &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// 페이지 끝에 도달했는지 여부&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isReachingEnd &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;PAGE_SIZE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setIsLoadingLog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isLoadingMore&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setIsEndPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isReachingEnd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;둘 다 공식문서를 참고해서 작성했습니다.&lt;/p&gt;
&lt;p&gt;로딩 중이거나, 데이터가 있긴 있지만, 현재 불러온 페이지 중 마지막 페이지의 데이터가 undefined 경우를 로딩중이라고 보고 있고, 페이지에 끝에 도달했는지 여부는 첫번째 데이터의 길이가 0이거나(아예 첫 페이지부터 데이터가 없는경우) 데이터가 있긴 한데, 제일 마지막에 불러온 데이터의 길이가 한 페이지당 불러오는 데이터의 크기가 작을때를 끝페이지라고 보고 있습니다.&lt;/p&gt;
&lt;p&gt;아무튼 이렇게하니 더 보기 버튼을 클릭했을때 다음 페이지의 데이터가 주르륵 호출되는 것을 확인할 수 있었습니다! 이제 이 이벤트를 스크롤 이벤트에 적용해주기만 하면 됩니다.&lt;/p&gt;
&lt;h3&gt;Intersection Observer API&lt;/h3&gt;
&lt;p&gt;스크롤 이벤트에 적용하려니... 스크롤 이벤트로 무한 스크롤을 구현하면 리플로우에 의해 렌더링 성능이 떨어질 수 있고, 원하는대로 동작하지 않을 수 있다고 합니다. 실제로 스크롤 이벤트로 적용했을 경우 생각대로 동작하지 않아 구글링을 다시 해봤습니다.&lt;/p&gt;
&lt;p&gt;이를 해결하기 위해서는 Intersection Obeserver API를 사용할 수 있습니다! Intersection Observer API는 기본적으로 상위 요소 혹은 최상위 도큐먼트인 뷰포트와 타겟으로 설정한 요소의 교차점을 관찰하여 그 타겟이 뷰포트에 포함되는지 구별하는 기능을 제공하고 있습니다. 쉽게 말해 타켓 요소가, 화면에 노출되어 있는지 여부를 간단하게 구독할 수 있는 API 입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8ab63e8cc26c523a6b0dc213aa70a4ff/e7aec/observer.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.36231884057972%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeElEQVR42q1UyU7DMBDl/z8AiUMFP4CExA2JW28cEHABKlrRRZQutEm8jh0/xk7LUtI2CCyN7NieN2/Gb3KAfx4HdZvWemjjYAzP2kEIA6UofVd7Ht6XzQBDCJDsIKSHlIScwbq9AV7Gc0jF4LxXCAuihoC+DMhnC0zmE7xlGlmmsGRbLGWaq7WC0nY3YGQWypJZKJBkBytgXQm3MtowY2zyqQVcH5QMKIRI875BRNsBsyxDr9fDcDhEURSJKYepmK8u5jbguahsZhjQWmbu6gEjoxjR8qXIMIRPhuUK8XoOtJ6Aky5wOQaM1lxHvftRYgqKaxjrYy0l04YAR7gaE1r3hOMHwkWfz4zBdDrFaDRiGekP/1rZCGmTNKJlBUuEX7Tdtzi8IRzdEs47HJADxWzyPP+W+k9hc4qKxRw1V+nOgVjkd68Op48eZx2P9iAKvCrR/k7ZAKw1Fvda2Jsv3RhQfF1HQFc272WTenm7KW5N538B+Je/zTsCU5ihguALpwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;observer&quot;
        title=&quot;&quot;
        src=&quot;/static/8ab63e8cc26c523a6b0dc213aa70a4ff/dd45a/observer.png&quot;
        srcset=&quot;/static/8ab63e8cc26c523a6b0dc213aa70a4ff/948cf/observer.png 138w,
/static/8ab63e8cc26c523a6b0dc213aa70a4ff/6b2ea/observer.png 275w,
/static/8ab63e8cc26c523a6b0dc213aa70a4ff/dd45a/observer.png 550w,
/static/8ab63e8cc26c523a6b0dc213aa70a4ff/d4c13/observer.png 825w,
/static/8ab63e8cc26c523a6b0dc213aa70a4ff/99f37/observer.png 1100w,
/static/8ab63e8cc26c523a6b0dc213aa70a4ff/e7aec/observer.png 1726w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다음과 같은 경우, target을 관찰하며, target이 Viewport에 포함되는지를 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;무한 스크롤을 구현하기 위해서는 가장 맨 밑의 요소가 화면에 노출되어 있는지를 알아내기만 하면 되기 때문에 자세한 내용은 생략하고 해당 부분만 적어보도록 하겠습니다.&lt;/p&gt;
&lt;p&gt;먼저 Intersection Observer API를 사용하는 부분을 커스텀 훅으로 만들었습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useCallback&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useEffect&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useRef &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;useIntersect&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;onIntersect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ref &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; callback &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   entries&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isIntersecting&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token function&quot;&gt;onIntersect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;onIntersect&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; observer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntersectionObserver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  observer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; observer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;disconnect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; onIntersect&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; ref&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; useIntersect&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 커스텀 훅에서는 target요소가 화면에 노출되었을 경우 실행할 함수 onIntersect를 파라미터로 받고, target 요소를 저장하기 위한 ref를 선언하여 리턴하고 있습니다.&lt;/p&gt;
&lt;p&gt;useEffect에서는 IntersectionObserver 객체를 생성하고 observe 호출을 통해 target 요소의 관찰을 시작합니다.&lt;/p&gt;
&lt;p&gt;IntersectionObserver 생성자는&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntersectionObserver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntersectionObserver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callback&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같은 형태로 callback과 options 값을 파라미터로 받습니다. options 값은 선택 값으로 몇가지 옵션을 지정할 수 있는데 저는 사용하지 않았습니다.&lt;/p&gt;
&lt;p&gt;여기서 callback은 타겟 요소의 관찰이 시작되거나, 가시성에 변화가 감지되면 실행되는 함수로 entries와 observer를 파라미터로 받습니다. 이 때 entries는 교차 상태가 변화한 target들의 배열이고 observer는 이 콜백 함수를 호출한 IntersectionObserver를 의미합니다.&lt;/p&gt;
&lt;p&gt;저는 root와 target이 교차 상태인지 확인하는 isIntersecting 값이 true이면 onIntersect를 실행하는 함수를 callback으로 작성하여 IntersectionObserver객체를 생성해줬습니다.&lt;/p&gt;
&lt;p&gt;마지막으로 useEffect에서 &lt;code class=&quot;language-text&quot;&gt;() =&gt; observer.disconnect();&lt;/code&gt;를 반환함으로써 컴포넌트가 언마운트될 때 cleanup을 통해 disconnect를 호출하여 모든 요소의 관찰을 중지하도록 했습니다.&lt;/p&gt;
&lt;p&gt;요약하자면 target요소가 화면에 노출되는 순간 onIntersect가 호출되는 커스텀훅을 만든것입니다.&lt;/p&gt;
&lt;p&gt;이 훅은 다음과 같이 사용하였습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;changePage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isLoadingLog &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isEndPage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; prev &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bottomRef &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useIntersect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;changePage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 다음 페이지를 호출할 수 있도록 하는 함수를 onIntersect로 전달하여 bottomRef가 화면에 노출될 경우 다음 페이지를 불러올 수 있도록 해줬고,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;LogWrapper&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pointLogs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;flat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Log key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Log&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Log ref&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;bottomRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;LogWrapper&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;bottomRef는 스크롤 맨 아래 위치하는 요소에 붙여주는 방식으로 사용을 했습니다.&lt;/p&gt;
&lt;h3&gt;revalidateFirstPage&lt;/h3&gt;
&lt;p&gt;오호 이렇게 하니 스크롤 했을때 페이지 별로 요청이 잘 가고 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 372px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/77875ec3ef4c3e104bc0f42e04f1788f/98b6e/page0.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.01449275362319%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABe0lEQVR42qWTW0/CQBCF+09EoIAaW6wQFGy39wtF4v+RRGiRAoGE6+89zq5vEFoSHk52ns5+M2dG6r4+YTz+wWq1wmKxwHK5FOL1er3G92gE0/FgMAu266OnG1CaTdyXy6hUq2eS9I6C+TzD4XDAdrvFbrcT4vXxeEQ6nSKMP+H4Ib1DWGSqtduo1mqoNRpnkrraI7LZDPv9HpvNRhhx8Zp/MklSOF4I03bhkqnOTChqE6VSCWWiPJVkdFRk2WXDJE3hRzFsz0cQD2C6HrRWDmHvCkLbC8BsB14QQTcKCPUCQtEytWpRMC4ZGpaNl1brlhkmZOZDNy0xS5GyquYRKoWEnIyvDJ8ls5z8Gb5rD0T4e9lwkoh2dcYJA3SJ8JkI74iQ7+KprkrZC/u03K54Ga0PJ5SJsE5Ep7pqhrxdw7QF4Qdjt6XMCYP+QMwx4pfiFOxhIeHkn5CH4fhEqJt4VnJSZm/5KYtbHgzhRX3Ewy+x5PyWK7IMuV4/0x9NxzJF7v+8gQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;page0&quot;
        title=&quot;&quot;
        src=&quot;/static/77875ec3ef4c3e104bc0f42e04f1788f/98b6e/page0.png&quot;
        srcset=&quot;/static/77875ec3ef4c3e104bc0f42e04f1788f/948cf/page0.png 138w,
/static/77875ec3ef4c3e104bc0f42e04f1788f/6b2ea/page0.png 275w,
/static/77875ec3ef4c3e104bc0f42e04f1788f/98b6e/page0.png 372w&quot;
        sizes=&quot;(max-width: 372px) 100vw, 372px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어라? 그런데 이렇게 중간 중간 0번 페이지의 요청이 끼어서 가고 있습니다.&lt;/p&gt;
&lt;p&gt;왜 이러는지 좀 찾아보니 &lt;br/&gt;
&lt;a href=&quot;https://github.com/vercel/swr/issues/1638&quot;&gt;https://github.com/vercel/swr/issues/1638&lt;/a&gt; &lt;br/&gt;
오호 버그가 아니라 기능이라네요?&lt;/p&gt;
&lt;p&gt;위의 useSWRInfinite 설명에도 나와있었듯 &lt;br/&gt;
&lt;code class=&quot;language-text&quot;&gt;revalidateFirstPage = true: always try to revalidate the first page&lt;/code&gt;&lt;br/&gt;
이 옵션을 &lt;code class=&quot;language-text&quot;&gt;useSWRInfinite(getKey, fetcher, { revalidateFirstPage: false })&lt;/code&gt; 이런식으로 false로 주면 해결이 됩니다! 저게 옵션 이름 그대로 첫 페이지를 revalidate하는 옵션인데 기본값이 true였기 때문에 ... 저런 현상이 있었습니다. 옵션은 후루룩 읽고 넘어간 부분이라 몰랐네요&lt;/p&gt;
&lt;p&gt;아무튼 이렇게 하니 페이지 별로 호출이 잘 되고있는 것을 확인할 수 있었습니다!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 431px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5a28d298e90dc01bb29e11bbfefbd592/9cb4e/page.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.05797101449276%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABM0lEQVR42nWRy3KCQBRE+RVg0EUANVuVp2g0X5FFUshD8w9QRVz5BPRrO3duspBKXJyqW9PQ031Hid/f8LXboSgKlGXJyLmqKnzEa/jhHPPlK2aLJYajZxiGgV6/30HQmT+LWFc+8wTX2w2n0wnn85mR87VtkeY5xo5HH88xdT08WRY0XYcuRAd5Np66rCubLEZdN9jv9zgcDoycL5cLkjTDxPXZ0PECmIMBdEojer0OuiEwcVzWlW2+RtO0bHQ8Hhk513WNJMspmY8wWsD1A9j0g6BEsvY9ghI6Lum2NMzIsP1r2DQ11klKN3sIfyubtv2gskZNSLdsucPHCbPNFl4YIXpZIaCU9nDEFQ16iHvkGhw/ZF3ZpPG/CaVhSpXl7n4qh7x0VdM45T2qpmIiH8W08A09WhMm3abEBwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;page&quot;
        title=&quot;&quot;
        src=&quot;/static/5a28d298e90dc01bb29e11bbfefbd592/9cb4e/page.png&quot;
        srcset=&quot;/static/5a28d298e90dc01bb29e11bbfefbd592/948cf/page.png 138w,
/static/5a28d298e90dc01bb29e11bbfefbd592/6b2ea/page.png 275w,
/static/5a28d298e90dc01bb29e11bbfefbd592/9cb4e/page.png 431w&quot;
        sizes=&quot;(max-width: 431px) 100vw, 431px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;무한 스크롤 ... swr을 사용하니 생각보다는 간단했지만 스크롤 이벤트에 적용하는 과정이 꽤나 어려웠던 것 같습니다. 정리하고보니 그렇게 복잡한 내용은 없는 것 같지만 생각보다 많이 해맨 부분이라 기록해두고 싶었습니다 읽어주셔서 감사합니다~!&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;&lt;br/&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;strong&gt;Reference&lt;/strong&gt; &lt;br/&gt;
&lt;a href=&quot;https://swr.vercel.app/ko/docs/pagination#useswrinfinite&quot;&gt;https://swr.vercel.app/ko/docs/pagination#useswrinfinite&lt;/a&gt; &lt;br/&gt;
&lt;a href=&quot;https://tech.kakaoenterprise.com/149&quot;&gt;https://tech.kakaoenterprise.com/149&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[SWR 사용해보기]]></title><description><![CDATA[SWR이란 SWR은 데이터 가져오기를 위한 React Hooks입니다. 공식문서에서는 "SWR은 먼저 캐시(stale)로부터 데이터를 반환한 후, fetch 요청(revalidate…]]></description><link>https://klloo.github.io/swr/</link><guid isPermaLink="false">https://klloo.github.io/swr/</guid><pubDate>Tue, 21 Nov 2023 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;SWR이란&lt;/h3&gt;
&lt;p&gt;SWR은 데이터 가져오기를 위한 React Hooks입니다. 공식문서에서는 &quot;SWR은 먼저 캐시(stale)로부터 데이터를 반환한 후, fetch 요청(revalidate)을 하고, 최종적으로 최신화된 데이터를 가져오는 전략입니다.&quot; 라고 소개하고 있습니다.&lt;/p&gt;
&lt;p&gt;저는 그냥 주로 서버의 데이터를 가져와서 상태를 관리하는데 사용하는 라이브러리라고 이해를 했습니다.&lt;/p&gt;
&lt;p&gt;예를들어 /api 경로로 데이터를 요청해와서, 해당 데이터를 렌더링해야하는 상황에서 SWR을 사용하지 않는다면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;axios
 &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/api&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; resData &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런식으로 데이터를 직접 요청해서 가져온 다음, 직접 렌더링할 데이터에 할당해줘야 합니다.
반면에 SWR을 사용하면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useSWR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/api&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fetcher&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 간단한 형식으로 리액트 훅을 사용하여 서버의 데이터를 가져올 수 있게됩니다.&lt;/p&gt;
&lt;h3&gt;SWR 사용해보기&lt;/h3&gt;
&lt;p&gt;기본 형태는 다음과 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; isLoading&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; isValidating&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mutate &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useSWR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fetcher&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;파라미터&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;: 요청을 위한 고유한 키 문자열(또는 함수 / 배열 / null) (상세내용), (고급 사용법)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fetcher&lt;/code&gt;: (옵션) 데이터를 가져오기 위한 함수를 반환하는 Promise (상세내용)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;options&lt;/code&gt;: (옵션) SWR hook을 위한 옵션 객체&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;반환 값&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;: fetcher가 이행한 주어진 키에 대한 데이터(로드되지 않았다면 undefined)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt;: fetcher가 던진 에러(또는 undefined)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;isLoading&lt;/code&gt;: 진행 중인 요청이 있고 &quot;로드된 데이터&quot;가 없는 경우. 폴백 데이터와 이전 데이터는 &quot;로드된 데이터&quot;로 간주하지 않습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;isValidating&lt;/code&gt;: 요청이나 갱신 로딩의 여부&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;mutate(data?, options?)&lt;/code&gt;: 캐시 된 데이터를 뮤테이트하기 위한 함수&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;사실 SWR에 관한 설명은 다른 블로그나 공식문서에 워낙 잘 정리된 글이 많기 때문에 저는 여기까지만 소개하고 제가 프로젝트에 적용하고 사용해보며 느낀점을 위주로 글을 작성해보려고 합니다!&lt;/p&gt;
&lt;p&gt;먼저 기본적으로 SWR은 전역 캐시를 사용해 모든 컴포넌트 사이에 데이터를 저장하고 공유하고 있어, 전역으로 상태를 관리하는 것이 쉬워졌습니다.&lt;/p&gt;
&lt;p&gt;전역으로 상태 관리가 필요한 대표적인 데이터의 예시로는 로그인한 사용자의 정보가 있을 것 같습니다.
만약 SWR을 사용하지 않는다면 redux와 같은 상태 관리 라이브러리를 사용하면서 로그인한 사용자 정보 받아오기 -&gt; 해당 정보를 redux에 저장 이런 방식을 통해 해당 데이터를 전역적으로 관리할 수 있습니다. 이 때 만약 사용자의 정보가 변경된다면 데이터를 다시 로드해서 redux에 또 다시 담아줘야 합니다!!&lt;/p&gt;
&lt;p&gt;하지만 SWR을 사용한다면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useSWR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fetcher&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;따로 데이터를 저장해두는 과정 없이 사용자 정보가 필요한 컴포넌트에서 이렇게 바로 서버에서 해당 데이터를 가져와서 사용할 수 있습니다.&lt;/p&gt;
&lt;p&gt;그리고 만약에 useSWR로 데이터를 가져와서 랜더링해주는 Component라는 이름의 컴포넌트가 있다고 할 때&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Component &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Component &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Component &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Component &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같이 Component를 중복으로 선언해도 매번 요청을 보내지않고 동일한 SWR키를 가지고 있다면 해당 요청이 자동으로 중복 제거, 캐시, 공유되므로, 단 한 번의 요청만 전송되어 불필요한 네트워크 요청을 걱정하지 않아도 됩니다!&lt;/p&gt;
&lt;p&gt;그리고 이제 사용자 포커스나, 네트워크 재연결 시에 자동으로 데이터를 갱신해주기도 합니다. 브라우저 탭을 전환할 경우 등이 있을 것 같습니다.&lt;/p&gt;
&lt;p&gt;아무튼 SWR을 사용해보니 이렇게 필요한 시점에 데이터를 자동으로 갱신해주고, 효율적인 요청을 통해 서버 데이터를 전역에서 관리할 수 있으면서도 코드가 많이 간결해진 점이 좋았습니다. 그리고 &lt;a href=&quot;https://swr.vercel.app/ko&quot;&gt;공식문서&lt;/a&gt;가 굉장히 잘되어 있는 점도 좋았습니다!!&lt;/p&gt;
&lt;h3&gt;SWR vs React Query&lt;/h3&gt;
&lt;p&gt;SWR과 비교대상이 되는 라이브러리로는 React Query가 자주 등장합니다. 두 라이브러리에 대한 비교글도 잘 정리된 글이 상당히 많았습니다.&lt;/p&gt;
&lt;p&gt;여러가지 글을 읽어본 결과 기본적으로 SWR이 제공하는 기능은 React Query에서도 모두 제공되고 있는 것 같았고 보통 React Query가 더 많이 사용되고 있었습니다. 두 라이브러리의 차이점을 한 줄로 요약해보자면 &quot;SWR이 좀 더 가볍고 코드가 간결하지만 React Query가 좀 더 고도화된 기능을 제공하고 있다.&quot;라고 할 수 있을 것 같습니다.&lt;/p&gt;
&lt;p&gt;저는 상태 관리와 관련된 다양한 기능이 그다지 필요하지 않았기 때문에 좀 더 가볍고 간결한 코드로 사용할 수 있는 SWR을 먼저 사용해보게 되었습니다.&lt;/p&gt;
&lt;p&gt;두 라이브러리에 대해 사실 아직 이해를 못한 부분도 많고, 아직 활용하지 못한 기능이나(React Qurey는 아직 사용해보지도 않았습니다ㅎ..) 체감하지 못한 장단점도 많아서 밀도있게 정리해보진 못했지만 이런 기능을 제공하는 라이브러리를 사용해보니 편하다! 라고는 확실히 말할 수 있을 것 같습니다. 부족한 부분은 좀 더 사용해보며 공부하고 정리해보도록 하겠습니다.&lt;/p&gt;
&lt;h4&gt;읽어본 글들 중에 도움이 됐던 글들&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://velog.io/@soryeongk/SWRBasic#1-swr-%EB%8B%88-%EB%AD%94%EB%8D%B0&quot;&gt;SWR 더 깊이 톺아보기&lt;/a&gt; &lt;br/&gt;
&lt;a href=&quot;https://tech.madup.com/react-query-vs-swr/&quot;&gt;REACT QUERY VS SWR&lt;/a&gt; &lt;br/&gt;
&lt;a href=&quot;https://fe-developers.kakaoent.com/2022/220224-data-fetching-libs/&quot;&gt;React에서 서버 데이터를 최신으로 관리하기(React Query, SWR)&lt;/a&gt; &lt;br/&gt;
&lt;a href=&quot;https://yoonhaemin.com/tag/technical-thinking/react-query-vs-swr/&quot;&gt;React-Query vs SWR&lt;/a&gt; &lt;br/&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[react에서 api 요청 보내는 훅 만들어보기]]></title><description><![CDATA[프로젝트를 진행하다보면 서버로 api 요청을 보내는 로직을 많이 사용하게 됩니다. 그래서 이 부분을 편리하게 사용할 수 있도록 커스텀 훅을 만들어봤습니다. 이름은 useRequest…]]></description><link>https://klloo.github.io/request-hook/</link><guid isPermaLink="false">https://klloo.github.io/request-hook/</guid><pubDate>Mon, 13 Nov 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;프로젝트를 진행하다보면 서버로 api 요청을 보내는 로직을 많이 사용하게 됩니다. 그래서 이 부분을 편리하게 사용할 수 있도록 커스텀 훅을 만들어봤습니다.&lt;/p&gt;
&lt;p&gt;이름은 useRequest라고 지어봤습니다.&lt;/p&gt;
&lt;h2&gt;내 프로젝트의 구조 설명&lt;/h2&gt;
&lt;p&gt;먼저 저는 통신 라이브러리로 axios를 사용했습니다. 그리고 axios 요청을 보내는 Promise들을 따로 파일로 관리하고 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 383px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cb63fc37eda638fba79a861a0129e26d/d0c94/ex1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.275362318840585%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7UlEQVR42p2SyW6EMBBE+QhWgQ1jEkyCWcIMiE0IDpn//6MK3YfJ2XMoteRDdVU/O1mWoTYGv88nwjCE53nwfZ8VBAG/2cgRMoUqNLq2hcpzKKVAS0hJklibOvKmILRB2zTY9x3btmGeZ57mSk6JoyiyMMwUpK5Qao2+71l1XUNK+WblNEWiPjnhMAxY1xXjOEIIAdd1rdK9KqdlDVNVbDZNE09Scy0hOHYJsxvEh4YuCrRdxyak6lpAgOyh8A0NHo87juPAeZ4vOG9RpoRJXuCrLBkGkSXFcWwN5L9y8Y2fq+6yLPxl6I7vpCPDP5YwD7IDqfAnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;ex1&quot;
        title=&quot;&quot;
        src=&quot;/static/cb63fc37eda638fba79a861a0129e26d/d0c94/ex1.png&quot;
        srcset=&quot;/static/cb63fc37eda638fba79a861a0129e26d/948cf/ex1.png 138w,
/static/cb63fc37eda638fba79a861a0129e26d/6b2ea/ex1.png 275w,
/static/cb63fc37eda638fba79a861a0129e26d/d0c94/ex1.png 383w&quot;
        sizes=&quot;(max-width: 383px) 100vw, 383px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;대충 이런 구조로 저장해뒀고 각 파일에는 이런식으로 axios 요청을 보내는 Promise를 반환하는 함수들이 선언되어 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0a441e8b851c95b5a7f4afd757661057/799f3/ex2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.92753623188406%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABb0lEQVR42p1SSXLcMAzUOzzivksiKU00sj1zSC7+/5PaIGW77BxyyKELTRQJohsYrNfQRkF9gxDivzHYaGCThpsMfCJOZ84Z2HgBZwyCczACJ3w9bPxvUJ63gjll1FRh0gq77Ni2gttxxfF4xXb8QqkJsSwIW8U8z0hlg80zzFpgaoYuBX6lfHKITmGIziGHhToscPWKtU6Iy4q43+HWG8JSsE4R3gdIRZYo3aPUFLU6eYOUHYNUAiNrEkewywXjhThr/AmcZDc+/pDM/+2hI9/8bBEIfrHdS8ZaAfKEyy/P+pk+boV7/ID4zPX7VDB4D2cdNElXFH1wSJGiMwhW0NRJGuWMNXBhgvZ0L3io2BA6d7QpjrZDa46hThnP+YZYnxGO33jcdxz3B65/3pBfXjHvB/aXK7aSMeWNhhdg2lDmBE1D0tMERwPxVsNo6lCps2XZpMnTB0atMyFpDchsirKvhuh+dqkj+yH7tOKU/A41w/6xnMVfxgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;ex2&quot;
        title=&quot;&quot;
        src=&quot;/static/0a441e8b851c95b5a7f4afd757661057/dd45a/ex2.png&quot;
        srcset=&quot;/static/0a441e8b851c95b5a7f4afd757661057/948cf/ex2.png 138w,
/static/0a441e8b851c95b5a7f4afd757661057/6b2ea/ex2.png 275w,
/static/0a441e8b851c95b5a7f4afd757661057/dd45a/ex2.png 550w,
/static/0a441e8b851c95b5a7f4afd757661057/d4c13/ex2.png 825w,
/static/0a441e8b851c95b5a7f4afd757661057/99f37/ex2.png 1100w,
/static/0a441e8b851c95b5a7f4afd757661057/799f3/ex2.png 1642w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그리고 api의 응답 형태는 아래와 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseType&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token literal-property property&quot;&gt;st&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; boolean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 rs&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 err&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; string &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;status는 상태값으로 요청 성공, 실패 값이 boolean값으로 반환되고 있으며 rs는 응답 데이터, err는 에러가 발생한 경우 에러 코드와 메시지를 전달해주는 객체입니다.&lt;/p&gt;
&lt;p&gt;그리고 딱히 응답 데이터가 없는 경우에는 rs가 생략되고 st값만 true로 응답이 오게 됩니다.&lt;/p&gt;
&lt;p&gt;이제 이런 구조에서 사용할 수 있는 axios 요청 커스텀 훅을 만들어 보려고 합니다.&lt;/p&gt;
&lt;h2&gt;useRequest&lt;/h2&gt;
&lt;h3&gt;처음의 생각&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useEffect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; toast &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react-toastify&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; useFetch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
 axiosRequest&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// axios 함수&lt;/span&gt;
 initialValue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 데이터 초기 값&lt;/span&gt;
 initialParams&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 데이터 초기 파라미터&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setData&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;params&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setParams&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialParams&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;fetchData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;axiosRequest&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; params&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;fetchData&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;axiosRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;params&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     toast&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;데이터를 받아오지 못했습니다.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    toast&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fetchData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setParams&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// [데이터, 데이터 다시 요청, 파라미터 변겅해서 데이터 다시 요청]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; useFetch&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이건 사실 이전에 진행했던 프로젝트의 코드인데요.. 이 프로젝트의 구조도 응답의 형태를 제외하면 위에서 설명한 내용과 같습니다!&lt;/p&gt;
&lt;p&gt;아무튼 맨 처음 커스텀 훅을 만들었을땐 다음과 같이 요청을 보내고, 데이터가 있다면 데이터를 담아온 다음 해당 데이터와 axios요청해서 다시 데이터를 받아오는 함수, 파라미터를 변경해서 데이터를 다시 받아오는 함수를 반환하도록 작성했었습니다.&lt;/p&gt;
&lt;p&gt;이렇게 구현을 하니 그냥 단순히 데이터를 받아오는 로직의 경우에는 매우 편리하게 사용할 수 있었습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;users&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fetchUsers&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useFetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;getAllUserLastLogin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런식으로 axios를 호출하는 Promise와 데이터의 초기값을 전달하여 users를 바로 받아오고, 데이터 갱신이 필요할 때는 fetchUsers를 호출하기만 하면되니 편리했습니다.&lt;/p&gt;
&lt;p&gt;이 때는 몰랐는데 나중에 보니 서버의 상태를 관리하는 라이브러리인 React-Query나 SWR을 사용하는 형태와 비슷하다고 생각이 들었습니다.&lt;/p&gt;
&lt;p&gt;아무튼 ... 그러다보니 이건 그냥 서버에서 받아오는 데이터의 상태를 관리하기에는 편하지만, 응답 데이터가 있는 경우에만 특화되어있어 post요청 등에서는 사용하지 못하고 따로 요청을 보내야하는 번거로움이 있었습니다. 또한 에러처리나 받아온 데이터를 가공할 필요가 있는 경우 등 추가적인 처리가 필요한 경우에는 오히려 더 귀찮은 작업을 해야하는 경우도 있었습니다.&lt;/p&gt;
&lt;p&gt;무엇보다 위에서도 언급했듯 비슷한 기능을 제공해주는 이미 잘 만들어진 라이브러리가 있는데 커스텀이 필요한 부분도 아니었고 굳이 허술하게 직접 만든 것을 사용할 이유도 없었을 뿐더러 애초에 저의 목적과는 다른 역할을 수행하고 있었기 때문에... 이런 형태는 api 요청을 보내는 공통된 로직을 처리하는 훅으로 사용하기에 좋지 않다고 판단을 했습니다.&lt;/p&gt;
&lt;h3&gt;개선&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; toast &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react-toastify&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; ResponseType &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;types/common&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; CustomError &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utils/error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; useRequest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
 &lt;span class=&quot;token function-variable function&quot;&gt;axiosRequest&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;params&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ResponseType&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// axios 함수&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;requestData&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;params&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;Promise&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;axiosRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;params&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;st&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;st &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; errorMessage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;err&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;desc &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; errorCode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;err&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;code &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;err_default&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CustomError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;errorMessage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; errorCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    toast&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;서비스에 오류가 발생하였습니다.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; requestData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; useRequest&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그래서 개선해본 내용은 위와 같습니다!
axios 요청 Promise를 매개변수로 전달하면, 해당 함수로 요청을 보내고 응답의 상태값을 확인해서 에러 또는 응답 데이터를 보내주는 Promise를 반환하도록 해주었습니다. 또한 요청 자체를 실패했을 경우에는 일단은...서버에 문제가 발생하였다는 메시지를 띄워주는 것으로 에러처리를 해줬습니다. (공통 에러처리 어려워요 .. .)&lt;/p&gt;
&lt;p&gt;데이터를 받아오는 부분만 떼보면 이렇습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;axiosRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;params&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;st&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;st &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; errorMessage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;err&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;desc &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; errorCode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;err&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;code &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;err_default&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CustomError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;errorMessage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; errorCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;먼저 요청에 성공한 경우(if(data.st)), 응답 데이터가 있다면 응답 데이터를 반환해주고, 응답 데이터가 없다면 요청 성공 여부를 반환해줍니다. 사실 이때는 무조건 true가 반환되긴 합니다...&lt;/p&gt;
&lt;p&gt;만약 그렇지 않다면(else) 응답으로 받은 에러로 커스텀 에러 객체를 생성하여 해당 에러를 발생시켜줍니다. 이렇게 해서 이 Promise를 호출한 곳에서 해당 에러를 적절히 처리할 수 있도록 해줬습니다. api마다 발생할 수 있는 에러들이 ..달랐기 때문입니다.&lt;/p&gt;
&lt;h3&gt;사용&lt;/h3&gt;
&lt;p&gt;post 요청의 경우는 아래와 같이 사용할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; requestMovieInfo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useRequest&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;requestMovie&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; onClickRequestButton &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestMovieInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;movie&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    toast&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;요청에 성공했습니다.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;어차피 resolve된 경우는 요청 성공한 경우 밖에 없으니 냅다.. 성공했다고 처리를 해줬습니다.&lt;/p&gt;
&lt;p&gt;get요청의 경우는 아래와 같이 사용할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; requestUserInfo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useRequest&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;IUser&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;getMemberInfo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;userInfo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setUserInfo&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestUserInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setUserInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;응답 상태를 확인하지 않아도 바로 data가 반환되기 때문에 위와 같이 사용할 수 있게 됩니다!&lt;/p&gt;
&lt;p&gt;완전히 간단하지는 않지만 ... 그래도 모든 요청마다 상태값을 확인하고, 공통된 에러를 매번 처리하는 방식보다는 한결 편리해진 것 같습니다!&lt;/p&gt;
&lt;p&gt;사실 그렇게 잘 만든 구조인지는 판단이 안서지만 ... 그래도 만들어놓고 잘 썼으면 된 것 아닐까요 하하^_^ 나중에 보완을 하게 된다면 로딩 여부를 판단하는 변수 등을 추가해도 좋을 것 같습니다! 뭐 아무튼 ...이렇게 끝입니다~!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[react에서 라우터 접근 제한 구현하기]]></title><description><![CDATA[로그인 기능을 구현하다보면 반드시 인증을 해야만 접근할 수 있는 페이지와 반드시 인증을 하지 않아야만 접근할 수 있는 페이지가 나뉘게 됩니다. 이런 부분들을 react-router-dom(v…]]></description><link>https://klloo.github.io/router-access/</link><guid isPermaLink="false">https://klloo.github.io/router-access/</guid><pubDate>Sat, 04 Nov 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;로그인 기능을 구현하다보면 반드시 인증을 해야만 접근할 수 있는 페이지와 반드시 인증을 하지 않아야만 접근할 수 있는 페이지가 나뉘게 됩니다.&lt;/p&gt;
&lt;p&gt;이런 부분들을 &lt;strong&gt;react-router-dom(v6)&lt;/strong&gt; 에서 어떻게 구현했는지 적어보려합니다!&lt;/p&gt;
&lt;h2&gt;PrivateRoute 구현&lt;/h2&gt;
&lt;p&gt;먼저 PrivateRoute라는 컴포넌트를 생성했습니다.
이제 이 컴포넌트를 중첩 라우팅의 상위 라우트로 사용하며 이 컴포넌트 안에서 인증이 필요한 경우와 필요하지 않은 경우를 분기처리하여 알맞은 경로로 이동을 시켜주도록 할 것입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Navigate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Outlet &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react-router-dom&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; isEmpty &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;lodash&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;PrivateRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; userAuthentication &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; userAuthentication&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; boolean &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isLogin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 로그인 여부 확인&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userAuthentication&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 사용자 인증을 해야만하는 페이지&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 인증을 안했을 경우 메인 페이지로, 했을 경우 해당 페이지로&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isLogin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Navigate to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 인증을 안했을 경우 메인 페이지로, 했을 경우 해당 페이지로&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isLogin &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Navigate to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Outlet &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 인증을 안해야만 하는 페이지&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 인증을 안했을 경우 해당 페이지로, 인증을 한 상태일 경우 메인 페이지로&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isLogin &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Outlet &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Navigate to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;사용자 인증이 되어야만하는지 여부를 Prop으로 받아서 아래와 같이 분기처리를 해주었습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;인증을 해야만하는 경우
a. 인증이 안된 경우 -&gt; 메인 페이지로 이동
b. 인증된 경우 -&gt; Outlet을 반환하여 하위 라우트의 요소로 접근하도록 함&lt;/li&gt;
&lt;li&gt;인증을 하지 않아야만 하는 경우
a. 인증이 안된 경우 -&gt; Outlet을 반환하여 하위 라우트의 요소로 접근하도록 함
b. 인증된 경우 -&gt; 메인 페이지로 이동&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;PrivateRoute 적용&lt;/h2&gt;
&lt;p&gt;이제 PrivateRoute를 적용을 해줬습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GlobalStyle &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;BrowserRouter&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Routes&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* 인증여부가 상관없는 페이지 */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Route path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt; element&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Home &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
     &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Route path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;*&quot;&lt;/span&gt; element&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Navigate to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* 인증을 안해야만 접속 가능한 페이지 */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Route element&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;PrivateRoute userAuthentication&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Route path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/join&quot;&lt;/span&gt; element&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Join &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
     &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Route&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* 인증을 해야만 접속 가능한 페이지 */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Route element&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;PrivateRoute userAuthentication&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Route path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/mypage&quot;&lt;/span&gt; element&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;MyPage &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
     &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Route&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Routes&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;BrowserRouter&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; App&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와같이 중첩라우팅으로 사용할 수 있습니다.
PrivateRoute를 상위 라우트로, 접근을 제한하고 싶은 라우트를 하위라우트로 하여 적용만 해주면 됩니다!
인증 여부와 상관없는 페이지들은 그냥 적용을 안해주기만 하면 됩니당
끝 !&lt;/p&gt;</content:encoded></item><item><title><![CDATA[자바스크립트 팬이라면 꼭 퍼가...]]></title><description><![CDATA[자바스크립트는 객체 지향언어 입니다. 하지만 자바나 c++과 같이 유명한 객체 지향 언어와는 조금 다른 점이 있습니다.
바로 '프로토타입 기반'의 객체지향 언어라는 것입니다! 자바와 c…]]></description><link>https://klloo.github.io/javascript-prototype/</link><guid isPermaLink="false">https://klloo.github.io/javascript-prototype/</guid><pubDate>Fri, 27 Oct 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;자바스크립트는 객체 지향언어 입니다. 하지만 자바나 c++과 같이 유명한 객체 지향 언어와는 조금 다른 점이 있습니다.
바로 &apos;프로토타입 기반&apos;의 객체지향 언어라는 것입니다!&lt;/p&gt;
&lt;p&gt;자바와 c++같은 언어는 &apos;클래스 기반&apos;의 객체 지향 언어입니다. 클래스 기반 언어에서는 클래스를 이용해 객체를 만들고 클래스를 기반으로 해서 상속을 지원하지만 프로토타입 언어에서는 객체의 원형인 프로토타입을 이용해 객체를 만들고 상속도 프로토타입을 기반으로 합니다. 이렇게 생성된 객체 역시 다른 객체의 프로토타입 객체가 될 수 있습니다.&lt;/p&gt;
&lt;p&gt;대충 설명하자면 이런 것인데 ... 이에 대해 알아보다가 이런 글을 보게 되었습니다. 저는 오늘 처음봤지만 꽤나 유명한 포스팅 같았습니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://medium.com/@limsungmook/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%8A%94-%EC%99%9C-%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85%EC%9D%84-%EC%84%A0%ED%83%9D%ED%96%88%EC%9D%84%EA%B9%8C-997f985adb42&quot;&gt;자바스크립트는 왜 프로토타입을 선택했을까&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;이 글은 클래스와 프로토타입의 차이를 철학적인 관점에서 설명해주고 있습니다.
저는 자바스크립트의 실행 컨텍스트나 클로저와 같은 개념들이 너무 어렵게 느껴졌습니다. 변수 스코프나 this와 같은 문법들도 제가 접했던 다른 언어들과는 달랐어서 이 부분에 대한 의문도 많았습니다. 그래서... 자바스크립트 진짜 이상하다.. 는 말을 자주 하곤하였습니다!! 하지만 이 글을 읽고 왜 자바스크립트에는 유독 문맥과 관련된 개념이 많을까 하는 의문이 많이 해소되었습니다.&lt;/p&gt;
&lt;p&gt;사실 이 글에서도 자바스크립트가 왜 프로토타입을 선택했는지에 대한 답을 명확히 제시해주고 있지는 않지만 프로토타입이 어떤 근거를 가지고 있는지, 그리고 그 동안 제가 어려워했던 개념들도 프로토타입이라는 하나의 개념으로 귀결하여 설명을 하고 있어서 this 문법이나 호이스팅, 실행 컨텍스트 등에 관해 유기적으로 이해할 수 있었습니다!!&lt;/p&gt;
&lt;p&gt;아무튼... 프로토타입과 클래스를 철학과 함께 설명할 수 있다는 것도 신기했고요 ...이렇게 문과적으로 풀어서 쓴 글 보니깐 .. 아주 유익하고 재밌었습니다 !! 하지만 그럼에도 저는 자바스크립트가 여전히 이상한 것 같아서 이 친구를 이해할 수 있을 때 까지 열심히 공부해야할 것 같습니다!!!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[페이지네이션(Pagination) 컴포넌트 구현하기]]></title><description><![CDATA[게시판 처럼 어떤 목록을 조회하는 형태의 화면에서 빠지면 허전한 요소가 있습니다.
바로 페이지네이션 요소인데요 제가 말하는 페이지네이션 요소란 게시판하면 보편적으로 떠오르는 UI…]]></description><link>https://klloo.github.io/pagination/</link><guid isPermaLink="false">https://klloo.github.io/pagination/</guid><pubDate>Thu, 28 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;게시판 처럼 어떤 목록을 조회하는 형태의 화면에서 빠지면 허전한 요소가 있습니다.&lt;br/&gt;
바로 페이지네이션 요소인데요 제가 말하는 페이지네이션 요소란 게시판하면 보편적으로 떠오르는 UI 하단에 보이는
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;  1 2 3 4 5 &gt;&lt;/code&gt;
이렇게 생긴 클릭하여 페이지를 전환할 수 있는 요소를 의미합니다.&lt;/p&gt;
&lt;p&gt;페이징 기능은 다량의 데이터를 조회할 때 지금 당장 필요한 정보들만 조금씩 가져오기 때문에 사용자 경험에서도 그렇고, 시스템 성능 면에서도 꼭 필요한 기능입니다.&lt;/p&gt;
&lt;p&gt;제가 진행하는 프로젝트에서도 여기저기서 페이징 기능이 필요한 부분이 있어 공통으로 아래에 나타나는 페이지네이션 요소를 생성할 수 있는 컴포넌트를 한 번 만들어봤습니다.&lt;/p&gt;
&lt;h2&gt;생각 정리&lt;/h2&gt;
&lt;p&gt;먼저 저의 생각입니다. 일단 페이지 번호를 생성하려먼 전체 페이지 개수와 한 번에 보여줄 페이지 수가 필요합니다.
여기서 한 번에 보여줄 페이지 수는 보통 페이지 번호를 보여줄 때, 1번부터 &lt;code class=&quot;language-text&quot;&gt;1 2 3 ... 끝 페이지&lt;/code&gt; 이렇게 보여주지 않고 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;  1 2 3 4 5 &gt;&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;&amp;lt;  6 7 8 9 10 &gt;&lt;/code&gt; 이런 식으로 일정한 개수로 잘라서 보여주게 되는데 이 때의 &quot;일정한 개수&quot;를 의미합니다.&lt;/p&gt;
&lt;p&gt;또 이 컴포넌트는 그냥 현재 보고 있는 페이지가 몇 페이지인지만 보여주고, 페이지는 이 컴포넌트를 사용하는 외부 컴포넌트에서 사용하면서 요청을 보내는 등 컨트롤을 할 것이기 때문에 .. page와 setPage도 받아와야 할 것 같습니다.&lt;/p&gt;
&lt;p&gt;그리고 이제 페이지 번호를 띄워주면 되는데 그러려면 내가 전달받은 페이지가 어떤 범위에 속해야하는지만 알면 됩니다. 이것을 계산하기 위해서는 그냥 현재 페이지와 가장 가까운 한 번에 보여줄 페이지의 배수를 앞뒤로 구해주면 될 것 같았습니다.&lt;/p&gt;
&lt;p&gt;만약 현재 페이지가 7, 한번에 보여줄 페이지 수가 5 라면 하단에는 6 7 8 9 10이 보여져야 합니다. 그래서 7의 앞뒤로 5의 배수를 구해주면 5와 10이 되므로 (5,10] 범위의 배열을 구해주면 될 것 같았습니다.&lt;/p&gt;
&lt;p&gt;자세히 살펴보자면&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;페이지 덩어리 시작 번호&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Math.floor((page - 1) / limitPage) * limitPage + 1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;page&lt;/code&gt;보다 작은 수 중에 &lt;code class=&quot;language-text&quot;&gt;page&lt;/code&gt;와 가장 가까운 &lt;code class=&quot;language-text&quot;&gt;limitPage&lt;/code&gt;의 배수 + 1을 구해줬습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;페이지 덩어리 끝 번호&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Math.ceil(page / limitPage) * limitPage&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;page&lt;/code&gt;보다 큰 수 중에 &lt;code class=&quot;language-text&quot;&gt;page&lt;/code&gt;와 가장 가까운 &lt;code class=&quot;language-text&quot;&gt;limitPage&lt;/code&gt;의 배수를 구해줬습니다.&lt;/li&gt;
&lt;li&gt;만약 이 끝번호가 전체 페이지수보다 크다면 끝 번호는 전체 페이지 수가 되어야 합니다.&lt;/li&gt;
&lt;li&gt;즉 위의 경우에 페이지는 &lt;code class=&quot;language-text&quot;&gt;limitPage&lt;/code&gt;개가 아닌 &lt;code class=&quot;language-text&quot;&gt;totalPage - start + 1&lt;/code&gt;개가 생성이 되어야 합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 두 가지를 구한 다음 시작번호 부터 끝 번호 까지 숫자 배열을 생성했습니다.&lt;br/&gt;
그리고 이 숫자 배열을 하단에 띄워주면 하면 될 것 같습니다!&lt;/p&gt;
&lt;p&gt;어떤가요 나름 테스트를 해본다고 하긴 했는데요 ... 잘 되긴 했는데요 ... 이 논리에서 제가 혹시 생각을 못한 부분이 있을까요 ...? 있다면 알려주시면 감사하겠습니다 (--)(__)&lt;/p&gt;
&lt;h2&gt;코드&lt;/h2&gt;
&lt;p&gt;제가 작성한 페이지네이션 컴포넌트 전체 코드 입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useEffect&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; PaginationWrapper&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PageButton&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ButtonWrapper&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PrevNextButton &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./style&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

type PaginationProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token literal-property property&quot;&gt;totalPage&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 전체 페이지 개수 (데이터 개수/한 페이지당 보여줄 데이터 개수)&lt;/span&gt;
 &lt;span class=&quot;token literal-property property&quot;&gt;limitPage&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 하단에 한 번에 보여줄 페이지 수&lt;/span&gt;
 &lt;span class=&quot;token literal-property property&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 현재 페이지 번호&lt;/span&gt;
 &lt;span class=&quot;token literal-property property&quot;&gt;setPage&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Dispatch&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;SetStateAction&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;number&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 현재 페이지 번호 set 함수&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * 페이징 컴포넌트
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Pagination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; totalPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; limitPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setPage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PaginationProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;currentPageList&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCurrentPageList&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; useState &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; Array &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; number &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; start &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; limitPage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; limitPage &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; end &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ceil&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; limitPage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; limitPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; pageCount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; limitPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;totalPage &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; end&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   pageCount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; totalPage &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setCurrentPageList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; pageCount &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; start&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; limitPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; totalPage&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;PaginationWrapper&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;PrevNextButton
    disabled&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt; 이전&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;PrevNextButton&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ButtonWrapper&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;currentPageList&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
     &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;PageButton key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; selected&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;PageButton&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ButtonWrapper&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;PrevNextButton
    disabled&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; totalPage&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; totalPage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;다음 &gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;PrevNextButton&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;PaginationWrapper&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;꽤나..짧지요..?&lt;/p&gt;
&lt;p&gt;여기서 주의할 점은 이 컴포넌트의 &lt;code class=&quot;language-text&quot;&gt;page&lt;/code&gt;는 현재 보고 있는 페이지가 몇 페이지인지 보여주는 것이 주된 역할이기 때문에 &lt;code class=&quot;language-text&quot;&gt;page&lt;/code&gt;가 1번부터 설정이 됩니다.&lt;/p&gt;
&lt;p&gt;그래서 이 컴포넌트를 외부에서 사용할 때 예를들어 페이징 관련 api를 호출한다고 하면, 내가 호출하려는 api가 0번 페이지를 첫 페이지로 인식하는지, 1번 페이지를 첫페이지로 인식하는지에 따라 그냥 &lt;code class=&quot;language-text&quot;&gt;page&lt;/code&gt;를 사용하든 &lt;code class=&quot;language-text&quot;&gt;page-1&lt;/code&gt;로 요청을 전달하든 아무튼 주의해야합니다!! 저는 별로 주의 안했어서 하는 말 맞습니다!!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Webpack과 Babel]]></title><description><![CDATA[프론트 개발을 하다보면 '웹팩(Webpack)'이라는 용어를 자주 접하게 되는데요. 리액트 같은 경우 create-react-app…]]></description><link>https://klloo.github.io/webpack-babel/</link><guid isPermaLink="false">https://klloo.github.io/webpack-babel/</guid><pubDate>Mon, 25 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;프론트 개발을 하다보면 &apos;웹팩(Webpack)&apos;이라는 용어를 자주 접하게 되는데요. 리액트 같은 경우 create-react-app으로 프로젝트를 생성하면 웹팩 설정을 자동으로 해주고, 그 설정을 또 숨겨놓기 때문에... 경시하기 쉬운 기술 중 하나인 것 같습니다. 하지만 이게 뭔지는 알고는 써야할 것 같아 대략적으로나마 정리해보려고 합니다!&lt;/p&gt;
&lt;h2&gt;웹팩 (Webpack)&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4e3ed1bf7c4aa87d9757c77fb70b4a20/21b4d/webpack.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.7536231884058%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcElEQVR42n1SS1LCUBDMdUCUX/6QEEIICSRE3QqyknKhVZa69LvQ0luIZ4BLsFMP1M6MYlF8XEzN1Jv3erpfj6J6EfbsJnY5LE/q5SjWfDnnvNrbFErFDVGlMIIe1GaEYr311yyYDeSqNip1HznV3jhQhi4D6q0u9FYPZjtFPd6HFabSKDsB1EaI0fUjbt+mGFzeofQ7jLOwpqx6HSISCxkOxQgSAdTosNbpC1OWl9dqyEaneJ594Wwyx+vsA+lwjILhQvdjVNw23WPACJrfpYgFWLHCPmpRBoOZBsw0ERZ5rY7+8RhP00+cv8/xQoDJ4AQ7ukPDI1SJPTPlWmt2USWmXCuMzHKZrkXZ7R2KHJHshRhe3eNhMsXRxc2a5D3bh01fZIrKrtSK2uiQ1AxOfIAymbPspphCZhRtT8zZtgUafZlOoFyT5AQlpy1rUzBduuStrw3nJfdXHebegj25/GOKEaTkcEYs21vX479YvPkGCOU+gOFzdoQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;webpack&quot;
        title=&quot;&quot;
        src=&quot;/static/4e3ed1bf7c4aa87d9757c77fb70b4a20/dd45a/webpack.png&quot;
        srcset=&quot;/static/4e3ed1bf7c4aa87d9757c77fb70b4a20/948cf/webpack.png 138w,
/static/4e3ed1bf7c4aa87d9757c77fb70b4a20/6b2ea/webpack.png 275w,
/static/4e3ed1bf7c4aa87d9757c77fb70b4a20/dd45a/webpack.png 550w,
/static/4e3ed1bf7c4aa87d9757c77fb70b4a20/d4c13/webpack.png 825w,
/static/4e3ed1bf7c4aa87d9757c77fb70b4a20/99f37/webpack.png 1100w,
/static/4e3ed1bf7c4aa87d9757c77fb70b4a20/21b4d/webpack.png 1280w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;웹팩은 &apos;모듈 번들러&apos;라고 정의할 수 있습니다.&lt;/p&gt;
&lt;p&gt;여기서 &apos;모듈&apos;이란 프로그램에서 기능적 단위, 즉 쪼개진 것을 의미하고 &apos;번들&apos;이란 묶음을 의미합니다. 그러니까 모듈 번들러는 쪼개진 것을 다시 묶어주는 것이라고 해석할 수 있을 것 같습니다.&lt;/p&gt;
&lt;p&gt;기껏 파일들을 쪼개놓고는 왜 다시 묶어주는 방식이 필요한 걸까요? 이것을 알려면 먼저 모듈에 대해 알아야 할 것 같습니다.&lt;/p&gt;
&lt;h3&gt;모듈 (Module)&lt;/h3&gt;
&lt;p&gt;모듈이란 프로그램을 구성하는 구성요소의 일부입니다.&lt;/p&gt;
&lt;p&gt;모듈 단위로 파일을 분리하여 개발을 진행하면 프로그램의 성능, 생산성, 유지보수 등 다양한 측면에서 장점이 있습니다.
사실 더 구구절절 설명하기가 머쓱할 정도로 당연한 개념인 것 같습니다.&lt;/p&gt;
&lt;p&gt;하지만 자바스크립트에서는 모듈 기능이 없었습니다. (그래서 AMD, CommonJS, UMD 방식의 모듈 시스템을 사용했었다고 합니다.)&lt;/p&gt;
&lt;p&gt;모듈 기능이 없었을 때는&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DOCTYPE&lt;/span&gt; html&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;foo.js&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;bar.js&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;body&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;html&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런식으로 단순히 스크립트 파일을 분리하고 필요한 시점에 스크립트 파일을 로드하여 사용하였습니다.&lt;/p&gt;
&lt;p&gt;하지만 이렇게 하면 두 스크립트 파일은 같은 전역을 공유하게 되어 변수가 중복으로 선언될 수 있는 위험이 있습니다. 또 foo.js에서는 a변수만 사용하고 싶은데 의도치 않게 foo.js에 존재하는 b변수까지 선언되어 버리는 경우도 있을 수 있습니다.&lt;/p&gt;
&lt;p&gt;그러다 ES6에서 모듈에 대한 표준을 도입했습니다. ES6 모듈 시스템은 다음과 같은 특징을 가지고 있습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;독자적인 모듈 스코프를 갖습니다. 따라서 모듈 별로 변수가 중복될 일이 없어졌습니다.&lt;/li&gt;
&lt;li&gt;export와 import 등 간단한 키워드로 모듈을 가져오고 내보낼 수 있게 되었습니다.&lt;/li&gt;
&lt;li&gt;따라서 script 태그로 파일을 가져오지 않고 필요한 함수나 변수만 가져올 수 있게 되었습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 모듈 시스템이 도입이 되었는데도 여전히 문제가 남아있었습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;먼저 import/export는 일부 구형 브라우저에서는 동작하지 않습니다.&lt;/li&gt;
&lt;li&gt;그리고 프로젝트 규모가 커질 수록 많은 모듈들을 가지게 되는데 이 파일들을 일일이 요청하기는 비효율적이므로 이 파일들을 합쳐서 요청 수를 줄일 수 있다면 효율적일 것 같습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 때 웹팩은 이러한 모듈들을 하나의 js파일로 합쳐주는 역할을 합니다. (웹팩에서의 모듈은 js파일 이외에도 CSS, 이미지 등 웹 개발에 필요한 모든 정적 자원을 의미합니다.)&lt;/p&gt;
&lt;p&gt;웹팩을 사용하면 자원의 요청수를 줄여 네트워크 비용을 감소시킬 수 있고 압축을 통해 로딩 속도를 개선시킬 수도 있으며 이 외에도 여러 플러그인이나 트리 쉐이킹같은 기능을 사용해 코드를 압축, 최적화 할 수도 있습니다. (하여튼 최적화에 있어 다양한 기능을 제공하는 것 같습니다.)&lt;/p&gt;
&lt;h3&gt;Webpack Dev Server&lt;/h3&gt;
&lt;p&gt;Webpack Dev Server는 웹팩 관련 기능 중 제가 가장 많이 실감(?)하는 부분인 것 같습니다.&lt;/p&gt;
&lt;p&gt;Webpack Dev Server는 이름 그대로 개발용 서버입니다. 웹팩으로 빌드를 실행하면 번들링된 파일을 생성하기 때문에 규모가 큰 프로젝트라면 빌드에 시간이 걸립니다.&lt;/p&gt;
&lt;p&gt;하지만 Webpack Dev Server는 실제 번들링된 파일을 생성하지 않고 번들링된 결과를 메모리에 저장하기 때문에 빌드 속도가 빨라 개발 시에는 매번 빌드를 실행하지 않고 Webpack Dev Server를 사용하는 편이 좋다고 합니다!&lt;/p&gt;
&lt;p&gt;라이브 리로드 기능이나 프록시를 설정 하여 CORS 문제를 해결해주는 등 개발 환경에 있어 편리한 기능도 제공해주고 있습니다. (하지만 어디까지나 개발용 서버이므로 배포시에는 nginx나 아파치 등 다른 웹서버를 구축하여 사용하는 것이 좋을 것 같습니다.)&lt;/p&gt;
&lt;h2&gt;바벨 (Babel)&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f770fb73e6519c6832aabe712884b79b/e17e5/babel.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.56521739130434%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxklEQVR42mP4fC2RbMRAHc2friZ+uJwAQlcSINyPVxIgIh+vAsn4z1cTv1zHphmo9OuNpP+P0/88SP17PxWi6MedlL9g7vdbyX8fpgFFgAYh62eA63x5NnZOp11Zhv7CPgegyNuL8Rd3BG9f6LllnsedwxE9NRa91RZTW2yenor5djMJqABhM9C81dNdPOxlD63yDfRQfHIqujbPqCBZNy9Rp7PCPMJPuSRN7+aB8K5K8xdnYoA2ITQD/fbnXurupd6B7gqxQaoNBcZTm60dLCXn9TpkxGglh2ukRWlune+xaa77mllu/19kfrqagHA2UPO/B2kNhSZLJjjmxGu728k0Fhm3lJhWZBnM63GI8lfJiNY8vz14cqPV5CbrZZOcbh0Ih7icAajz773UQ6t9E0PVp7faTG22WT/L7czWoI4Ks1XTXO4fjTy5MWDzPPdTmwJv7g8Hkld2h7y/FA8JNrDm+6krpjjP6bIDGvn9dvK3W8mnNwU+PB71/1Haj1vJwKD+/zDtz93UH7eTgb77dSflC3pUXUsExsrP28kfwf4BBsnX60nACAe6DRLhH0FsKIklkQDjEBKGkMiDswmnMGKUUjltAwB7VybXe2r4YwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;babel&quot;
        title=&quot;&quot;
        src=&quot;/static/f770fb73e6519c6832aabe712884b79b/e17e5/babel.png&quot;
        srcset=&quot;/static/f770fb73e6519c6832aabe712884b79b/948cf/babel.png 138w,
/static/f770fb73e6519c6832aabe712884b79b/6b2ea/babel.png 275w,
/static/f770fb73e6519c6832aabe712884b79b/e17e5/babel.png 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;웹팩과 함께 자주 등장하는 용어가 바로 바벨입니다.
바벨은 &quot;자바스크립트 트랜스파일러&quot;라고 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;트랜스파일러란 소스 코드를 한 프로그래밍 언어에서 다른 프로그래밍 언어로 변환해주는 도구입니다. 주로 최신 버전의 언어를 구형 버전의 언어로 변환하거나, 다른 언어로 변환하는 데 사용됩니다.&lt;/p&gt;
&lt;p&gt;바벨은 자바스크립트의 최신 문법을 구버전 자바스크립트 문법으로 변환해주는 역할을 합니다.&lt;/p&gt;
&lt;p&gt;저는 이게 너무 신기하고도 이상하다고 생각했습니다. 기껏 최신 문법 만들어놓고 구버전으로 만들어주는 도구가 있다는게... 그럼 이 하루가 다르게 변화하는 프론트 세상에서 바벨이 이해못하는 최신 문법이 또 생기면 바벨바벨도 생기는 건가 ...그럼 바벨바벨바벨도.. 그럼 바벨바벨바벨바벨...등의 생각이 들었습니다...&lt;/p&gt;
&lt;p&gt;아무튼 이런...저같이 잘 모르는 사람이 보면 허튼 짓 처럼 보일수 있는 행동을 왜 하냐면 자바스크립트가 실행되는 환경 때문입니다.&lt;/p&gt;
&lt;p&gt;다른 언어와 달리 자바스크립트는 다양한 환경에서 실행됩니다. 웹 브라우저, NodeJS 등에서 실행되는데 웹 브라우저만 해도 다양한 자바스크립트 엔진을 사용하고 있습니다. 이 때 자바스크립트는 개복치마냥... 이렇게 다양한 환경의 영향을 그대로 받습니다. 특정 버전 이상에서만 실행되는 코드가 있고 특정 브라우저에서는 실행되지 않는 코드가 있기도 합니다.
그렇기 때문에 모든 자바스크립트 실행 환경에서 정상적으로 동작할 수 있도록 하려면 바벨이 필요하게 되는겁니다!&lt;/p&gt;
&lt;p&gt;아무튼 이렇게 웹팩과 바벨을 알아봤습니다.&lt;/p&gt;
&lt;p&gt;웹팩은 모듈 번들러고, 바벨은 자바스크립트를 실행 환경에 구애받지 않고 실행시키기 위한 트랜스파일러입니다.
이 때 웹팩 설정을 통해 바벨을 웹팩으로 모듈을 합칠때도 실행될 수 있도록 할 수 있습니다. 그래서 이 둘이 자주 같이 등장하는 것 같습니다!&lt;/p&gt;
&lt;p&gt;지금은 웹팩에 대한 내용을 간단하게만 알아봤는데 다음에는 웹팩 설정 파일도 좀 살펴보고 ... 직접 실행 환경을 구성해보고 싶기도 합니다 언제가 될 진 모르지만 언젠가 꼭 ...도전해보도록 하겠습니다&lt;/p&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Reference&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://seogeurim.tistory.com/13&quot;&gt;https://seogeurim.tistory.com/13&lt;/a&gt; &lt;br/&gt;
&lt;a href=&quot;https://junghyeonsu.tistory.com/277&quot;&gt;https://junghyeonsu.tistory.com/277&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://chanyeong.com/blog/post/27&quot;&gt;https://chanyeong.com/blog/post/27&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://webpack.js.org/concepts/why-webpack/&quot;&gt;https://webpack.js.org/concepts/why-webpack/&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Next.js에서 스타일 파일 분리하기]]></title><description><![CDATA[저는 리액트로 개발을 할 때 주로 Emotion을 사용하여 스타일 관리를 하고 있었고  이렇게 컴포넌트 디렉터리 안에서 스타일 파일을 분리해서 사용했었습니다. Next.js…]]></description><link>https://klloo.github.io/next-page/</link><guid isPermaLink="false">https://klloo.github.io/next-page/</guid><pubDate>Fri, 22 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;저는 리액트로 개발을 할 때 주로 Emotion을 사용하여 스타일 관리를 하고 있었고&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 378px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bbf92928c8f819fa211a8fb7c8b11a3a/f0991/react.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.30434782608695%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGElEQVR42o1Q22qDUBD0XYy3egmNUkPVaipaL4Q0KoJF37SCPvj/HzL1HEhIS9P6MOzOsszOLKPrOi4wTROGYcD3fWRZBs/zEAQB5dvtFre798BcGlVV4TgOXNdFHCeYpgnzPGMcR1p3ux3d+0+YuSWapkFVHqDIMgRBAMdxV8jLjECSJHp8laC+CDrHElaYIYnfUBQF2rZF0zQIw5Dy8/kMy7Luin53uCw9eQHMlwBpkixCLfq+xzAMKMsSdV2j6zrYtg1FUX6Nz/wcaNpyWVUgiiJ4nsdmswHLsjQq6Un81ZGJQy//gBW/45il+FycEUfEIYlLeuKU/Hr1D439Mx73Nl4PB/qvqqpwOp0QRRHyPEeapn8KfgE8Ud6sMXCF9QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;react&quot;
        title=&quot;&quot;
        src=&quot;/static/bbf92928c8f819fa211a8fb7c8b11a3a/f0991/react.png&quot;
        srcset=&quot;/static/bbf92928c8f819fa211a8fb7c8b11a3a/948cf/react.png 138w,
/static/bbf92928c8f819fa211a8fb7c8b11a3a/6b2ea/react.png 275w,
/static/bbf92928c8f819fa211a8fb7c8b11a3a/f0991/react.png 378w&quot;
        sizes=&quot;(max-width: 378px) 100vw, 378px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 컴포넌트 디렉터리 안에서 스타일 파일을 분리해서 사용했었습니다.&lt;/p&gt;
&lt;p&gt;Next.js를 최근 접하기 시작하면서 위와 같은 구조를 똑같이 적용하여 진행해봤는데요. 이렇게 하니 페이지 파일 뿐 아니라 디렉토리 내부에 있는 모든 컴포넌트 파일과 스타일 파일까지 페이지로 인식을 해서 빌드가 되지 않고 있었습니다!!&lt;/p&gt;
&lt;h3&gt;pageExtensions&lt;/h3&gt;
&lt;p&gt;pageExtensions는 next.config.json 옵션 중 하나로 특정 형식의 이름을 페이지로 인식하는 기능입니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://nextjs.org/docs/pages/api-reference/next-config-js/pageExtensions&quot;&gt;공식문서&lt;/a&gt;에 다음과 같이 사용방법이 나와있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/992c420987baae44e0917a03f0831f07/37048/docs.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.55072463768116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUklEQVR42o2S227CMBBEAyRxLo6dSylIFFAjEEIigvSV//+u6c6GpPSF9uFod5147B1vcDwecTgccLlcwHy/32t9Op1Q1zWCIMBsNlOY/8n9fge5Xq/oug7n81nz2+2G1Wo1Cf5LjCwWC8znczCGYYgoihDH8ZSTLE3hvYe1FqXEuqpQliWyPEcq37ieJMkgyPY6aZc3IszbttW2Wfd9jy+hl7z9/MR+t8P7com3plFLKNxI7pwbBNPH6eMHRp5mBNbc2MhGbuC/vP3LljebDYwxyLIMkbSpiy88Gx/oGVqWS/vqNftnQUGit5MDTGyQGJJM6Prjm2J+4O35Diq4Xq/VN7L92EqL4knlUbgChR+wzgqPWqLzDkVR6GVG+JABvank1TgiNHsp+NKLoFOBUcQWdhJl1LXcTp1NgjSZo8FiRMclHEYmjuJfjKM0jtcz9PIb0e3lWhbIiMoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;docs&quot;
        title=&quot;&quot;
        src=&quot;/static/992c420987baae44e0917a03f0831f07/dd45a/docs.png&quot;
        srcset=&quot;/static/992c420987baae44e0917a03f0831f07/948cf/docs.png 138w,
/static/992c420987baae44e0917a03f0831f07/6b2ea/docs.png 275w,
/static/992c420987baae44e0917a03f0831f07/dd45a/docs.png 550w,
/static/992c420987baae44e0917a03f0831f07/d4c13/docs.png 825w,
/static/992c420987baae44e0917a03f0831f07/99f37/docs.png 1100w,
/static/992c420987baae44e0917a03f0831f07/37048/docs.png 1352w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위의 설정을 변경하게 되면 Next.js의 아래를 포함한 모든 페이지에 영향이 가게 됩니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;middleware.js&lt;/li&gt;
&lt;li&gt;pages/_document.js&lt;/li&gt;
&lt;li&gt;pages/_app.js&lt;/li&gt;
&lt;li&gt;pages/api/&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;예를 들어 .ts 페이지 확장자를 .page.ts로 재설정하게 된다면, _app.page.ts와 같이 페이지들의 이름을 수정해야 합니다.&lt;/p&gt;
&lt;h3&gt;적용&lt;/h3&gt;
&lt;p&gt;만약 .page.tsx, .page.ts, .page.jsx, .page.js의 확장자를 가진 파일들만 페이지로 인식시키고 싶다면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token literal-property property&quot;&gt;pageExtensions&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;page.tsx&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;page.ts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;page.jsx&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;page.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;next.config.json 파일에 이렇게 설정을 해주면 됩니다.&lt;/p&gt;
&lt;p&gt;이후 페이지 파일 이름은 파일명.page.tsx 으로 작성하고 스타일 파일이나 다른 컴포넌트들의 파일명은 파일명.tsx로 작성해주면 스타일 파일을 페이지 디렉토리 내에서 분리하여 사용할 수 있게 됩니다!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4894b276d1a3fb7f8a591f10ad47ad02/5fd3e/next.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.536231884057973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABA0lEQVR42oWOzU7CQBhF+wwlhQ4SqTSaQP8onXZoQSMsDG8iwYW/EYRA8MmPM924qi5OZnLz3ZNrpVKRFSXLhxXbw5HD6Zv98cz+9IvJdocTqrolmeSYThNWkJUkxZz5csXm9ZPN+xfrF/2+7TRb1jp70tnj8wdxMcPch7JqxHLFBUJ0uYpzvGFIUSju7hckaUYmC8rZXP8nqLIiise0OwLTacJy3Q5d4dL3r+kPfMJgRC4lcRSRpmOWiwV5niOzjGA0ot12MJ0mtNClq/GjCYNhQDlVKDXVspSqquj1eti2TavVwnGMzP2TWig0l/5NvdIsMYsivVDqpZ7n1YdCiJr/hD9G5LyTISRoqAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;next&quot;
        title=&quot;&quot;
        src=&quot;/static/4894b276d1a3fb7f8a591f10ad47ad02/dd45a/next.png&quot;
        srcset=&quot;/static/4894b276d1a3fb7f8a591f10ad47ad02/948cf/next.png 138w,
/static/4894b276d1a3fb7f8a591f10ad47ad02/6b2ea/next.png 275w,
/static/4894b276d1a3fb7f8a591f10ad47ad02/dd45a/next.png 550w,
/static/4894b276d1a3fb7f8a591f10ad47ad02/5fd3e/next.png 594w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Spring Boot/React 웹 서비스 배포하기]]></title><description><![CDATA[…]]></description><link>https://klloo.github.io/deploy/</link><guid isPermaLink="false">https://klloo.github.io/deploy/</guid><pubDate>Wed, 13 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;최근에 제가 참여하고 있는 알고리즘 스터디를 위한 내부 사이트를 제작하는 프로젝트를 진행하고 있었는데요. 어느정도 형태가 갖추어지면서 이제 사용해도 좋겠다! 싶어 일단 배포를 해두기로 했습니다&lt;/p&gt;
&lt;h2&gt;전체적인 구조&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3efdfd7a8f6f0f8275dd63d5ab91acf5/5a6dd/structure.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.79710144927537%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeklEQVR42o1Sy27CMBDMl/dveuPWD+ipUoW4UKQeWlSkFlAeBNvBxolf07VRIkihwtLKyXp3dnZ3Mlw7wZOF4VeZgJ0MMA7wYRQaLh0Z/jl9qNABP8yjEhpSGzjnbuZko3LpkssZzO47AQbvE3RkIgSHlAe0bZviPNGtm/a8mRPgQJvu+FVPn2DXC/jkc6ilxXxroNUR1joCSi/YC4mHxyk0zSJ4l3D+tkwPG2GwKFyapXcWedPhdc1gvIKxhpiKwZhooFsNY+wJMFZbLpdQSkFrje6oaF5HzAuaVyOQ5wX5JT52L/jav0O1CozxBHZoGnClwVkB0+nUXWatxWQyQVmW4Jyj4Q3WbE2AczgTGRpUxPAtp5aIraeFxJyYHRnFBUXrx5CNV++dB5MMpaxSgboqsdpxPK82sBRWWA/bdQlgLJkLwN5i9XFgcSgw206xl0d87gW11yLcJZskBWJArUXr2+lMR8sgH92WJGPv1uGZ+q/ZIPYQbgL+AjGYW6WgXw4JAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;structure&quot;
        title=&quot;&quot;
        src=&quot;/static/3efdfd7a8f6f0f8275dd63d5ab91acf5/dd45a/structure.png&quot;
        srcset=&quot;/static/3efdfd7a8f6f0f8275dd63d5ab91acf5/948cf/structure.png 138w,
/static/3efdfd7a8f6f0f8275dd63d5ab91acf5/6b2ea/structure.png 275w,
/static/3efdfd7a8f6f0f8275dd63d5ab91acf5/dd45a/structure.png 550w,
/static/3efdfd7a8f6f0f8275dd63d5ab91acf5/5a6dd/structure.png 802w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;전체적인 구조는 위와 같습니다.
먼저 AWS의 EC2와 RDS를 생성하였고 spring boot 코드에서 데이터베이스를 RDS와 연동해두었습니다. 그리고 EC2 내부에서는 도커를 사용해서 총 3개의 컨테이너를 띄웠습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Reverse Proxy 서버로 사용할 Nginx&lt;/li&gt;
&lt;li&gt;Spring boot&lt;/li&gt;
&lt;li&gt;Web Server로 사용할 Nginx (빌드된 React 파일이 마운트 되어 있음)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;외부에서 443으로 요청이 오면 Reverse Proxy 서버인 Nginx가 먼저 요청을 받고, /api로 시작하는 요청이라면 백엔드 쪽 코드인 8080포트로, 그냥 /로 시작하는 요청이라면 프론트엔드 쪽 코드인 3000 포트로 요청을 전달해주게 됩니다.&lt;/p&gt;
&lt;p&gt;여기서 &lt;strong&gt;리버스 프록시&lt;/strong&gt;란 클라이언트와 웹 서버 사이에 위치하여 클라이언트 요청을 서버로 전달하고, 서버에서 받은 응답을 클라이언트에게 전달하는 역할을 하는 중간 서버를 말합니다.
리버스 프록시를 사용하면 로드 밸런싱, 무중단 배포 등 여러 방면에서 이점이 있습니다.&lt;/p&gt;
&lt;p&gt;하지만 제가 배포하려는 서비스는 규모가 큰 서비스가 아니었기 때문에 이런 부분들은 큰 고려 사항이 아니었고, CORS 설정을 간단하게 처리할 수 있다는 점 때문에 이런 구조를 선택하게 되었습니다. (Nginx 설정 중 proxy_pass를 통해 CORS를 쉽게 해결할 수 있습니다.)&lt;/p&gt;
&lt;p&gt;도커 이미지를 띄우는 과정은 아래와 같이 진행했습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;로컬에서 Frontend 이미지 빌드&lt;/li&gt;
&lt;li&gt;로컬에서 Backend 이미지 빌드&lt;/li&gt;
&lt;li&gt;Docker hub에 빌드한 이미지 push&lt;/li&gt;
&lt;li&gt;EC2 내부에서 해당 이미지 pull&lt;/li&gt;
&lt;li&gt;docker-compose를 사용해 Nginx 이미지와 pull받은 두 이미지를 동시에 실행&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;도커를 사용한 이유는 배포가 편리하기 때문..!이었습니다. 아직 인프라와 관련된 지식이 부족한 편인데.. 일단 배포 환경을 신경 쓸 필요가 없었고 수정 사항이 생기더라도 새로 빌드한 이미지만 갈아끼우면 되기 때문에 이런 방식들이 깔끔하고 마음에 들어서 사용을 했습니다!&lt;/p&gt;
&lt;h2&gt;배포 과정&lt;/h2&gt;
&lt;p&gt;위에서 간략하게 설명한 배포 과정을 자세히 살펴보겠습니다.&lt;/p&gt;
&lt;h3&gt;도메인 구입 및 연동&lt;/h3&gt;
&lt;p&gt;도메인은 &lt;a href=&quot;https://domain.gabia.com/&quot;&gt;가비아&lt;/a&gt;에서 구매를 했습니다. 1년치를 구매했고요 ...
여러 도메인을 검색해보며 가격을 비교하는게 꽤나 재밌었습니다.&lt;/p&gt;
&lt;p&gt;그리고 &lt;a href=&quot;https://developer-ping9.tistory.com/320&quot;&gt;이 블로그&lt;/a&gt;를 참고하여 EC2와 도메인을 연결했습니다.&lt;/p&gt;
&lt;h3&gt;도커 파일 작성&lt;/h3&gt;
&lt;p&gt;로컬에서 frontend쪽 이미지와 backend쪽 이미지를 빌드하기 위한 도커 파일을 작성해뒀습니다.&lt;/p&gt;
&lt;h4&gt;frontend&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dockerfile&quot;&gt;&lt;pre class=&quot;language-dockerfile&quot;&gt;&lt;code class=&quot;language-dockerfile&quot;&gt;&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; node:alpine &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; builder&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;WORKDIR&lt;/span&gt; /usr/src/app&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; package.json .&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;RUN&lt;/span&gt; yarn install&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; ./ ./&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;RUN&lt;/span&gt; yarn build&lt;/span&gt;

&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; nginx&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;EXPOSE&lt;/span&gt; 3000&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; ./nginx.conf /etc/nginx/conf.d/default.conf&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; &lt;span class=&quot;token options&quot;&gt;&lt;span class=&quot;token property&quot;&gt;--from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;builder&lt;/span&gt;&lt;/span&gt; usr/src/app/build  /usr/share/nginx/html&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 도커파일을 해석해 보자면 ...&lt;/p&gt;
&lt;p&gt;먼저 node 이미지를 기반으로 React 코드를 빌드합니다.
package.json 파일을 컨테이너의 작업 디렉토리로 복사하여 yarn install을 통해 필요한 종속성을 설치하고, 현재 디렉토리의 파일 전체를 컨테이너의 작업 디렉토리로 복사하여 yarn build 명령어를 통해 React 코드를 빌드합니다.&lt;/p&gt;
&lt;p&gt;그리고 nginx 이미지를 기반으로 웹서버를 구성합니다.
먼저 컨테이너 외부로 3000 포트를 열고 현재 디렉토리에 작성해둔 nginx 설정파일을 컨테이너 내부의 nginx 설정파일로 복사해줍니다.
그리고 이전 builder 단계에서 빌드한 파일을 nginx의 기본 웹 루트 디렉토리로 복사합니다.&lt;/p&gt;
&lt;p&gt;작성한 nginx 설정 파일은 아래와 같습니다.&lt;/p&gt;
&lt;h4&gt;nginx.conf&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;server {
    listen 3000;

    location / {
        root /usr/share/nginx/html;
        index index.html index.htm;
        try_files $uri  $uri/ /index.html;
    }
    underscores_in_headers on;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;먼저 3000 포트로 요청을 받기로 합니다.
그리고 &apos;/&apos;으로 들어오는 모든 요청에 대해 nginx 기본 웹 루트 디렉토리에서 정적 파일들을 제공하도록 했습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;underscores_in_headers on&lt;/code&gt;은 http요청 헤더에서 underscore(_)를 허용하도록하는 옵션입니다. nginx는 기본적으로 헤더에 underscore가 포함되어 있다면 해당 헤더를 자동으로 버려버린다고 합니다... 저희 프로젝트에서는 인증 시 사용하는 토큰을 요청 헤더에서 주고 받을 때 해당 헤더 이름에 _가 들어가는데 이 설정을 해주지 않은 바람에 조금 많이 애를 먹었었습니다...&lt;/p&gt;
&lt;p&gt;아무튼 이렇게하면 리액트 코드를 빌드한 결과물인 정적 파일을 서브할 수 있는 웹서버를 구성할 수 있습니다.&lt;/p&gt;
&lt;h4&gt;backend&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dockerfile&quot;&gt;&lt;pre class=&quot;language-dockerfile&quot;&gt;&lt;code class=&quot;language-dockerfile&quot;&gt;&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; openjdk:11&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;ARG&lt;/span&gt; JAR_FILE=build/libs/*.jar&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;${JAR_FILE}&lt;/span&gt; app.jar&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;ENTRYPOINT&lt;/span&gt; [&lt;span class=&quot;token string&quot;&gt;&quot;java&quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&quot;-jar&quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&quot;/app.jar&quot;&lt;/span&gt;, &lt;span class=&quot;token operator&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&quot;--spring.config.location=/config/application.properties&quot;&lt;/span&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;backend 쪽은 먼저 jdk 11 이미지를 기반으로 합니다. 이 이미지에는 Java 11이 설치되어 있습니다.
그리고 빌드된 jar파일을 컨테이너 내부 app.jar라는 이름으로 복사를 해둡니다.
ENTRYPOINT는 컨테이너가 시작될 때 실행되는 명령을 지정할 수 있는데 여기서는 java -jar /app.jar 명령을 지정하여 컨테이너 실행 시 내부에서 JAR파일을 실행하도록 하였습니다.&lt;/p&gt;
&lt;p&gt;또한 spring.config.location은 환경 프로퍼티로 특정 위치를 참조할 수 있도록 하는 옵션인데 이를 사용하여 컨테이너 내부 config 경로에 있는 application.properties 파일을 사용하도록 하였습니다.
applicaion.properties는 데이터베이스 연결 정보나 로그 설정 정보 등 애플리케이션에서 사용하는 여러가지 설정 값들을 정의하고 있어 민감한 정보를 담고 있습니다. 그래서 이 파일은 깃허브에 올리지 않고 배포를 하기 위해 이 부분을 추가해줬습니다.&lt;/p&gt;
&lt;p&gt;이렇게 하면 EC2 내부에서 applicaion.properties을 작성하고 해당 경로를 컨테이너 내부의 config경로와 마운트 시켜주면 application.properties파일을 외부에서 주입하여 사용할 수 있게 됩니다.&lt;/p&gt;
&lt;h3&gt;SSL 인증서 발급&lt;/h3&gt;
&lt;p&gt;EC2 내부에서 certbot을 이용해 SSL 인증서를 발급받았습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;apt-get install python3-certbot-nginx
certbot certonly --nginx -d &amp;lt;도메인 주소&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 인증서의 만료기한은 90일이라 .. 90일마다 갱신을 해줘야 합니다. crontab을 사용하면 자동으로 인증서를 갱신하도록 설정해줄 수 있습니다.&lt;/p&gt;
&lt;h3&gt;docker-compose.yml 파일 생성&lt;/h3&gt;
&lt;p&gt;EC2내부에서 도커 이미지를 동시에 띄우기 위해 docker-compose.yml파일을 작성해야 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre class=&quot;language-yml&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;1&apos;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;services&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;token key atrule&quot;&gt;backend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; springboot&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;app
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; asdf11245/randps&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;back
  &lt;span class=&quot;token key atrule&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./config&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/config

 &lt;span class=&quot;token key atrule&quot;&gt;frontend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; react&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;app
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; asdf11245/randps&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;front
  &lt;span class=&quot;token key atrule&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;

 &lt;span class=&quot;token key atrule&quot;&gt;nginx&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;latest
  &lt;span class=&quot;token key atrule&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; always
  &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./conf/&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/etc/nginx/conf.d
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; /var/log/nginx&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/var/log/nginx
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; /etc/letsencrypt&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/etc/letsencrypt
  &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token datetime number&quot;&gt;80:80&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; 443&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;443&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; backend
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; frontend&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;backend, frontend, nginx 총 3개의 서비스를 정의하고 각 서비스가 실행되는 방식 및 설정을 지정한 파일입니다.&lt;/p&gt;
&lt;h4&gt;backend&lt;/h4&gt;
&lt;p&gt;&apos;springboot-app&apos;이라는 이름으로 컨테이너를 띄웁니다.
이 서비스는 docker hub에서 backend-image라는 이미지를 가져와서 실행 시키고 컨테이너를 8080포트로 노출합니다.&lt;/p&gt;
&lt;p&gt;그리고 EC2 내부의 config폴더와 컨테이너 내부의 config폴더를 마운트하여 컨테이너 내부에서 config 폴더를 사용할 수 있도록 해줬습니다.
위에서 작성한 도커 파일 내용 중 application.properties 파일을 외부에서 주입하여 사용하기 위해 적용했던 옵션을 위한 설정입니다.&lt;/p&gt;
&lt;p&gt;EC2 내부의 config 폴더 안에는 application.properties 파일이 작성되어 있어야 합니다.&lt;/p&gt;
&lt;h4&gt;frontend&lt;/h4&gt;
&lt;p&gt;&apos;react-app&apos;이라는 이름으로 컨테이너를 띄웁니다.
이 서비스는 docker hub에서 frontend-image라는 이미지를 가져와서 실행 시키고 컨테이너를 3000포트로 노출합니다.&lt;/p&gt;
&lt;h4&gt;nginx&lt;/h4&gt;
&lt;p&gt;&apos;nginx&apos;라는 이름으로 컨테이너를 띄웁니다.
이 서비스는 nginx 이미지로 실행을 시키는데 호스트 시스템의 디렉토리를 컨테이너 내부 디렉토리와 공유하여 nginx 설정, 로그 및 SSL 인증서를 관리합니다.
또 호스트의 80번 포트와 443번 포트를 각각 컨테이너의 80번 포트와 443번 포트로 연결합니다.&lt;/p&gt;
&lt;p&gt;./conf 경로에 있는 설정 파일들을 nginx설정에 사용하도록 하였는데 해당 설정파일은 아래와 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;nginx.conf&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;server {
       listen 80;
       server_name randps.kr;
       underscores_in_headers on;
       return 301 https://randps.kr$request_uri;   # http로 들어오면 https로 redirect 해주는 부분
}

server {
       listen 443 ssl;

       server_name randps.kr;

       ssl_certificate /etc/letsencrypt/live/randps.kr/fullchain.pem;
       ssl_certificate_key /etc/letsencrypt/live/randps.kr/privkey.pem;

       location /api {
	       proxy_pass http://springboot-app:8080;
	       proxy_set_header Host $host;
               proxy_set_header X-Real-IP $remote_addr;
               proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
               proxy_set_header X-Forwarded-Proto $scheme;
               }
       location / {
               proxy_pass http://react-app:3000;
               proxy_set_header Host $host;
               proxy_set_header X-Real-IP $remote_addr;
               proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
               proxy_set_header X-Forwarded-Proto $scheme;
       }
       underscores_in_headers on;

}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 설정파일은 nginx를 사용하여 HTTPS로 보안된 연결을 설정하고 백엔드 API와 웹 애플리케이션을 프록시하는 간단한 리버스 프록시 구성을 나타냅니다.&lt;/p&gt;
&lt;p&gt;먼저 80포트로 HTTP요청을 받는다면 HTTPS로 리다이렉션 합니다.&lt;/p&gt;
&lt;p&gt;그리고 443 포트로 HTTPS 요청을 받으며 SSL을 사용합니다. ssl_certificate 및 ssl_certificate_key는 SSL 인증서와 개인 키 파일의 경로를 지정합니다.&lt;/p&gt;
&lt;p&gt;Let&apos;s Encrypt를 사용하므로 etc/letsencrypt/live/randps.kr/fullchain.pem 및 /etc/letsencrypt/live/randps.kr/privkey.pem 경로에 인증서와 키 파일이 있어야 합니다.&lt;/p&gt;
&lt;p&gt;또 /api 경로로 들어오는 요청을 백엔드 서버로 프록시 하고 springboot-app컨테이너의 8080포트로 요청을 전달하도록 했습니다. 그 외의 /로 들어오는 모든 요청은 웹 서버로 프록시 하여 react-app 컨테이너의 3000포트로 요청을 전달하게 됩니다.&lt;/p&gt;
&lt;h3&gt;배포&lt;/h3&gt;
&lt;p&gt;배포를 위한 준비는 다 되었습니다. 이제 도커 이미지를 빌드하고 EC2에서 해당 이미지를 내려받아 실행시켜주기만 하면됩니다.&lt;/p&gt;
&lt;p&gt;먼저 frontend와 backend 이미지를 각각 빌드하여 Docker hub에 올려줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker build --platform linux/amd64 -t &amp;lt;image 이름&gt; . // 이미지 빌드
docker push &amp;lt;image 이름&gt; // 이미지 푸시&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;저는 M1 맥북을 사용하고 있는데, 이미지를 그냥 빌드하게 되면 도커가 해당 이미지를 빌드할때 생성된 빌드 플랫폼이 EC2서버와 M1 맥북간의 호환성이 안맞아 문제가 발생합니다. 그래서 이를 linux/amd64 플랫폼 형태로 빌드하기 위해 &lt;code class=&quot;language-text&quot;&gt;--platform linux/amd64&lt;/code&gt; 옵션을 적어주었습니다.&lt;/p&gt;
&lt;p&gt;그리고 EC2에서는 두 이미지를 pull 받아줍니다. (도커가 설치되어 있어야하고, 도커 허브에 로그인 되어있어야 합니다.)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo docker pull &amp;lt;backend image 이름&gt;
sudo docker pull &amp;lt;frontend image 이름&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 docker-compose 명령어를 통해 이미지를 모두 실행시켜주면 배포가 완료됩니다!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo docker-compose up -d // -d 옵션은 컨테이너를 백그라운드에서 실행시키는 옵션&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;배포 자동화&lt;/h2&gt;
&lt;p&gt;docker를 사용하여 비교적 간단하게 배포를 진행할 수는 있지만 이 작업마저도 귀찮은 부분이 있습니다.. 수정 사항이 발생하면 매번 이미지를 새로 빌드하고, EC2에 접속하여 새 이미지를 pull받은 다음 다시 실행시켜줘야 합니다.&lt;/p&gt;
&lt;p&gt;그래서 이 부분을 자동화 시켜보기로 했습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a414becd4834606010acd1c8ac1941e9/f0551/cicd.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.15942028985507%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4klEQVR42n1R22rDMAzN/3/O/mIPexlbWMogzQJL19HFdnxLfDmV7A5GaXdAWOhyjiQ3MUZs2wYG+yGE4ueMm7iO56tA8zVNaF+eYZ1D275i13Xw5Ctt8alAYgHGGEgpy5tvKVEsp1QJuSClWqSUKo0MnvQkFjjvywZa62KjyJhtxhqBhepPSkN0j9BPD5Xw+3jA++6N1C0+hgHjOMI5i8U4TDJiJTJPpNVWKA/4LSOkeqJIk1klYH6OlXCeBSZamzHs9+j7vk4YE6RDaUgXuwfe8vcQzd8EN7Hqf7j3WbhQngHCktSY/F+9fwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cicd&quot;
        title=&quot;&quot;
        src=&quot;/static/a414becd4834606010acd1c8ac1941e9/dd45a/cicd.png&quot;
        srcset=&quot;/static/a414becd4834606010acd1c8ac1941e9/948cf/cicd.png 138w,
/static/a414becd4834606010acd1c8ac1941e9/6b2ea/cicd.png 275w,
/static/a414becd4834606010acd1c8ac1941e9/dd45a/cicd.png 550w,
/static/a414becd4834606010acd1c8ac1941e9/d4c13/cicd.png 825w,
/static/a414becd4834606010acd1c8ac1941e9/f0551/cicd.png 862w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;자동화 도구로는 Github Actions를 사용했습니다. 각 Repository 특정 브랜치에 푸시하게 되면, 자동으로 도커 이미지를 빌드하고 EC2에 접속하여 새 이미지를 Pull받은 후 이미지들을 다시 실행시켜주게 됩니다.&lt;/p&gt;
&lt;h3&gt;깃허브 액션 파일 설정&lt;/h3&gt;
&lt;p&gt;깃허브 액션은 yml 파일을 통해 workflow를 구성할 수 있습니다.
이 파일은 Repository의 Actions탭에서 New workflow를 클릭하여 생성하거나 Repository에 .github/workflows 디렉토리 안에 yml 파일을 생성하여 구성할 수 있습니다.&lt;/p&gt;
&lt;h4&gt;frontend&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre class=&quot;language-yml&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;#front-deploy.yml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deploy

&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; main

&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# 실행 환경 지정&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest

&lt;span class=&quot;token key atrule&quot;&gt;strategy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;node-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;20.5.x&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v2
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Use Node.js $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; matrix.node&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;version &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;node@v1
  &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;node-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; matrix.node&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;version &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;# 도커 로그인하고 도커 이미지 빌드 후 푸시한다.&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; web docker build and push
  &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
  docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}
  docker build --platform linux/amd64 -t ${{ secrets.DOCKER_USERNAME }}/randps-front .
  docker push ${{ secrets.DOCKER_USERNAME }}/randps-front&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;# Github Actions IP 가져온다.&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Get Github Actions IP
  &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ip
  &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; haythem/public&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;ip@v1.2

&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Configure AWS Credentials
  &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; aws&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;actions/configure&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;aws&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;credentials@v1
  &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;aws-access-key-id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.AWS_ACCESS_KEY_ID &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;aws-secret-access-key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.AWS_SECRET_ACCESS_KEY &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;aws-region&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ap&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;northeast&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;# Github Actions IP를 AWS 보안그룹에 추가한다.&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Add Github Actions IP to Security group
  &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
  aws ec2 authorize-security-group-ingress --group-id ${{ secrets.AWS_SG_ID }} --protocol tcp --port 22 --cidr ${{ steps.ip.outputs.ipv4 }}/32&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;# ssh로 EC2 접속해서 도커 컨테이너를 모두 멈춘 후, 도커 파일을 새로 받아 다시 docker-compose로 이미지를 실행시킨다.&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; executing remote ssh commands using password
  &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; appleboy/ssh&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@master
  &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.HOST_ID &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu
  &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.PRIVATE_KEY &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
  sudo docker rm -f $(sudo docker ps -qa)
  sudo docker pull ${{ secrets.DOCKER_USERNAME }}/randps-front
  sudo docker-compose up -d
  sudo docker image prune -f&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;# AWS 보안그룹에서 Github Actions IP를 삭제한다.&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Remove Github Actions IP From Security Group
  &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
  aws ec2 revoke-security-group-ingress --group-id ${{ secrets.AWS_SG_ID }} --protocol tcp --port 22 --cidr ${{ steps.ip.outputs.ipv4 }}/32```&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 파일은 GitHub Actions를 사용하여 프론트엔드 웹 애플리케이션을 빌드하고 AWS EC2 인스턴스에 배포하는 작업을 정의합니다.&lt;/p&gt;
&lt;p&gt;각각의 작업은 주석에 작성해 놓은 그대로 진행되는 작업들입니다.&lt;/p&gt;
&lt;p&gt;먼저 main 브랜치로의 push 이벤트에 의해 트리거 되면 도커 이미지를 빌드하고 도커에 로그인하여 해당 이미지를 푸시합니다.&lt;/p&gt;
&lt;p&gt;그리고 EC2에 접속하여 해당 이미지를 내려받고 실행시키는 등의 작업이 필요한데, 현재 EC2에 적용된 보안그룹에 제 로컬 컴퓨터의 IP만을 SSH로 접근할 수 있도록 설정하였기 때문에 Github pages에서 사용되는 IP또한 해당 그룹에 포함될 필요가 있었습니다. 이를 위해 먼저 AWS 사용자 키와 사용자 secret키를 통해 AWS 서비스와 상호작용하기 위한 aws-actions/configure-aws-credentials@v1 액션을 사용했습니다. 그리고 그 후 aws ec2 authorize-security-group-ingress 명령을 사용하여 AWS 보안 그룹에 SSH 포트(22)로의 인바운드 액세스를 GitHub Actions의 IP 주소로 추가합니다.&lt;/p&gt;
&lt;p&gt;그 다음으로는 appleboy/ssh-action@master 액션을 사용하여 ssh를 통해 EC2에 접속하여 새 도커 이미지를 가져오고 새로 이미지를 실행시키는 작업을 하도록 해줬습니다.&lt;/p&gt;
&lt;p&gt;작업이 완료되면 AWS 보안 그룹에서 GitHub Actions IP 주소로의 SSH 액세스를 제거해줍니다.&lt;/p&gt;
&lt;h4&gt;깃허브 시크릿 등록&lt;/h4&gt;
&lt;p&gt;위의 작업에서 ${{ secrets.DOCKER_USERNAME }} 이런 형식으로 나타나는 부분은 secret key로 등록된 부분입니다. Repository의 settings &gt; Secerets and variables &gt; Actions에서 등록할 수 있으며 위의 작업을 위해 총 7개의 secret을 등록하였습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b52e795913f46403d49b479001b43ed4/098c1/secret.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.11594202898551%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABaElEQVR42o1Ti26DMBDj/39z2kQrAYG8E8A7X1P1oTEayeqVEMc+H51ZLGbrsFiPkDJSqZ8hlwfas1JXdF/fPX76q8L6IBsrfCxCfoyYq75HEtYx355l+d957zHPC4yZMU0GIUacrSROFnFlnReFGU6ETGbBtm3oQoiwtCzWnXMIIWBdN+w7DlFEiZdzPEtVUS7wPEdCJ7eoOmMU4zghxqRK/iKDgH2jOipjTfJZBFFIl1KCl40s0nc9Af39D1Wan4UolyIkq7QpaaisO1qk3dh6t2274oiMMtm3u0IKISHrZtlhGEaMEkh/uegtZyu/ED5ZJmFUuU5tM20SnllmKDwXpV2VM6ihxKZQxoZBEP3leprweyiq0EeYuYXCm6iu1nqY7DsYCvtIsObYWHcbt45knEMlPLH6CKUpbIP9Eoq1FsM4KoqMwSeLJM9fCod6Yv9JSGV38NPZP1BJa7RaJUCSlFp1Jrn3Cz7dSgUEnabHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;secret&quot;
        title=&quot;&quot;
        src=&quot;/static/b52e795913f46403d49b479001b43ed4/dd45a/secret.png&quot;
        srcset=&quot;/static/b52e795913f46403d49b479001b43ed4/948cf/secret.png 138w,
/static/b52e795913f46403d49b479001b43ed4/6b2ea/secret.png 275w,
/static/b52e795913f46403d49b479001b43ed4/dd45a/secret.png 550w,
/static/b52e795913f46403d49b479001b43ed4/d4c13/secret.png 825w,
/static/b52e795913f46403d49b479001b43ed4/99f37/secret.png 1100w,
/static/b52e795913f46403d49b479001b43ed4/098c1/secret.png 1578w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;먼저 AWS_ACCESS_KEY_ID 와 AWS_SECRET_ACCESS_KEY는 aws 사용자의 액세스 키와 시크릿 액세스 키를 의미합니다. AWS_SG_ID는 EC2에 적용된 보안 그룹 아이디, DOCKER_USERNAME과 DOCKER_PASSWORD는 도커 아이디/비밀번호를 의미하고 HOST_ID와 PRIVATE_KEY는 EC2로의 SSH 접속을 위한 EC2 퍼블릭 아이피와 키 페어를 의미하고 있습니다.&lt;/p&gt;
&lt;h4&gt;backend&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre class=&quot;language-yml&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# This workflow will build a Java project with Gradle&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Spring Boot &amp;amp; Gradle CI/CD

&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; master

&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;# 실행 환경 지정&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest

  &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v2

   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set up JDK 11
     &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;java@v1
     &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;java-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;

   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Grant execute permission for gradlew
     &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; chmod +x gradlew

     &lt;span class=&quot;token comment&quot;&gt;# 스프링부트 코드 Build&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build with Gradle
     &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ./gradlew clean build

     &lt;span class=&quot;token comment&quot;&gt;# 도커 로그인하고 도커 이미지 빌드 후 푸시한다.&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; web docker build and push
     &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
      docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}
      docker build --platform linux/amd64 -t ${{ secrets.DOCKER_USERNAME }}/randps-back .
      docker push ${{ secrets.DOCKER_USERNAME }}/randps-back&lt;/span&gt;

     &lt;span class=&quot;token comment&quot;&gt;# Github Actions IP 가져온다.&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Get Github Actions IP
     &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ip
     &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; haythem/public&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;ip@v1.2

   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Configure AWS Credentials
     &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; aws&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;actions/configure&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;aws&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;credentials@v1
     &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;aws-access-key-id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.AWS_ACCESS_KEY_ID &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;aws-secret-access-key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.AWS_SECRET_ACCESS_KEY &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;aws-region&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ap&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;northeast&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;

     &lt;span class=&quot;token comment&quot;&gt;# Github Actions IP를 AWS 보안그룹에 추가한다.&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Add Github Actions IP to Security group
     &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
      aws ec2 authorize-security-group-ingress --group-id ${{ secrets.AWS_SG_ID }} --protocol tcp --port 22 --cidr ${{ steps.ip.outputs.ipv4 }}/32&lt;/span&gt;

     &lt;span class=&quot;token comment&quot;&gt;# ssh로 EC2 접속해서 도커 컨테이너를 모두 멈춘 후, 도커 파일을 새로 받아 다시 docker-compose로 이미지를 실행시킨다.&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; executing remote ssh commands using password
     &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; appleboy/ssh&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@master
     &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.HOST_ID &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu
      &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.PRIVATE_KEY &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
       sudo docker rm -f $(sudo docker ps -qa)
       sudo docker pull ${{ secrets.DOCKER_USERNAME }}/randps-back
       sudo docker-compose up -d
       sudo docker image prune -f&lt;/span&gt;

     &lt;span class=&quot;token comment&quot;&gt;# AWS 보안그룹에서 Github Actions IP를 삭제한다.&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Remove Github Actions IP From Security Group
     &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
      aws ec2 revoke-security-group-ingress --group-id ${{ secrets.AWS_SG_ID }} --protocol tcp --port 22 --cidr ${{ steps.ip.outputs.ipv4 }}/32&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;도커 이미지 이름과 도커 이미지 빌드 전 gradle build 단계가 추가된 것 이외에는 frontend 쪽의 로직과 동일합니다.&lt;/p&gt;
&lt;p&gt;이렇게 해주고 지정한 브랜치에 푸시하면 자동으로 배포가 되고 있는 것을 확인할 수 있습니다! 예에&lt;/p&gt;
&lt;hr/&gt;
&lt;br/&gt;
&lt;p&gt;&lt;strong&gt;Reference&lt;/strong&gt;&lt;br/&gt;
&lt;a href=&quot;https://velog.io/@kmw10693/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-SpringBoot-React-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4-DockerNginx-SSLReverse-Proxy-Redis%EB%A1%9C-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0#-dockerfile-%EC%83%9D%EC%84%B1&quot;&gt;https://velog.io/@kmw10693/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-SpringBoot-React-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4-DockerNginx-SSLReverse-Proxy-Redis%EB%A1%9C-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0#-dockerfile-%EC%83%9D%EC%84%B1&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://tesseractjh.tistory.com/275&quot;&gt;https://tesseractjh.tistory.com/275&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CSR과 SSR]]></title><description><![CDATA[평소 CSR과 SSR에 대해서 이름 그대로 CSR은 클라이언트에서 렌더링 되는거고 SSR은 서버에서 렌더링 되는거아냐? 이 정도로만 알고 있었기 때문에 ... 한 번 정리가 필요해보여 제대로 알아봤습니다. SPA와 MPA 알아보다보니 CSR과 SSR…]]></description><link>https://klloo.github.io/csr-ssr/</link><guid isPermaLink="false">https://klloo.github.io/csr-ssr/</guid><pubDate>Tue, 12 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;평소 CSR과 SSR에 대해서 이름 그대로 CSR은 클라이언트에서 렌더링 되는거고 SSR은 서버에서 렌더링 되는거아냐?&lt;/p&gt;
&lt;p&gt;이 정도로만 알고 있었기 때문에 ... 한 번 정리가 필요해보여 제대로 알아봤습니다.&lt;/p&gt;
&lt;h2&gt;SPA와 MPA&lt;/h2&gt;
&lt;p&gt;알아보다보니 CSR과 SSR은 SPA, MPA와 밀접한 관련이 있는 것 같아 먼저 SPA와 MPA의 개념을 알아봤습니다.&lt;/p&gt;
&lt;h3&gt;SPA(Single Page Application)&lt;/h3&gt;
&lt;p&gt;하나의 페이지로 이루어진 애플리케이션입니다.
하나의 페이지로만 구성되어 있어 CSR에 적합합니다.&lt;/p&gt;
&lt;p&gt;SPA는 웹 에플리케이션에 필요한 모든 정적 리소스를 최초 한 번에 다운로드하고, 이후 새로운 페이지 요청이 있을 때 페이지 갱신에 필요한 데이터만 전달 받아서 페이지를 갱신합니다. 그러니까, 한 페이지 안에서 새로운 페이지 요청 시 갱신이 필요한 부분만 갈아끼우는 방식이라고 볼 수 있습니다.&lt;/p&gt;
&lt;p&gt;우리 알고 있는 Vue, Angular, React 프레임워크로 만든 애플리케이션들이 대부분 여기에 속합니다.
그렇다고 모든 SPA가 CSR을 사용하는 건 아닙니다.
SSR을 사용하더라도 정적인 페이지 하나만 구성된 홈페이지라면 그것도 SPA라고 볼 수 있습니다.&lt;/p&gt;
&lt;h3&gt;MPA(Multiple Page Application)&lt;/h3&gt;
&lt;p&gt;여러 개의 페이지로 이루어진 애플리케이션으로 PHP나 JAVA가 여기에 속합니다.&lt;/p&gt;
&lt;p&gt;여러 개의 페이지로 구성되어 있으므로 보통 클라이언트에서 서버에 요청을 보내면 서버에서 렌더링하고 클라이언트에게 응답을 주는 방식인 SSR 환경을 사용합니다.&lt;/p&gt;
&lt;p&gt;MPA는 새로운 페이지를 요청할 때마다 전체 페이지를 다시 렌더링하게 됩니다.&lt;/p&gt;
&lt;h2&gt;CSR과 SSR&lt;/h2&gt;
&lt;p&gt;그러면 이제 CSR과 SSR에 대해 알아보겠습니다.&lt;/p&gt;
&lt;h3&gt;CSR (Client Side Rendering)&lt;/h3&gt;
&lt;p&gt;CSR 초기 로드 시 빈 HTML과 모든 로직이 담겨 있는 Javascript를 서버에서 넘겨 받습니다.
그 후 빈 HTML에 Javascript를 이용하여 Dom을 동적으로 생성하여 그려 내게 됩니다.
이렇게 클라이언트에서 렌더링한다고 하여 클라이언트 사이드 렌더링입니다. 위에서 설명한 SPA에 적합한 환경입니다.&lt;/p&gt;
&lt;h4&gt;장점&lt;/h4&gt;
&lt;p&gt;Javascript를 사용해서 동적으로 Dom을 그려내기 때문에 원하는 내용만 업데이트를 할 수 있습니다.
예를 들어 링크 이동을 클릭했을 때 헤더, 푸터와 같이 중복되는 내용은 고정으로 두고 안에 콘텐츠만 업데이트하여 로드할 수 있습니다.&lt;/p&gt;
&lt;p&gt;또한 서버측에서 빈 HTML과 Javascript로직만 넘겨주기 때문에 서버 측 부하가 적습니다.&lt;/p&gt;
&lt;h4&gt;단점&lt;/h4&gt;
&lt;p&gt;HTML 파일을 하나만 받아와서 작동하다 보니 각각 페이지에 대한 정보를 담기 힘들어 SEO에 취약합니다.&lt;/p&gt;
&lt;p&gt;또한 첫 로드 시 모든 로직이 담겨있는 Javascript를 다운로드하다 보니 첫 진입 시 로딩 속도가 느립니다. (이후 구동 속도는 빠르다는 장점이 있습니다.)&lt;/p&gt;
&lt;h3&gt;SSR (Server Side Rendering)&lt;/h3&gt;
&lt;p&gt;SSR은 서버에서 렌더링하여 완성된 HTML 파일을 넘겨 받는 방식입니다.
클라이언트에서 요청할 때마다 각 상황에 맞는 HTML 파일을 넘겨주기 때문에 페이지가 여러 가지일 수밖에 없습니다.
그러므로 MPA 구동 방식과 밀접한 관계가 있습니다.&lt;/p&gt;
&lt;h4&gt;장점&lt;/h4&gt;
&lt;p&gt;클라이언트에서 요청한 페이지의 HTML을 다운로드하기 때문에 CSR보다 초기 진입 시 로딩이 빠릅니다.&lt;/p&gt;
&lt;p&gt;서버에서 렌더링 후 개별 페이지를 넘겨받는 것이므로 HTML 파일에 모든 정보가 포함되어 있기 때문에 SEO를 향상할 수 있습니다.&lt;/p&gt;
&lt;h4&gt;단점&lt;/h4&gt;
&lt;p&gt;링크 이동 시 새로운 HTML 파일 자체를 서버에서 받아오기 때문에 화면 깜빡임 현상이 있습니다.
그래서 초기 진입은 CSR보다 빠를지 몰라도 페이지 이동은 SSR이 더 느린 편에 속합니다.&lt;/p&gt;
&lt;p&gt;그리고 SSR은 완성된 HTML을 Javascript 파일보다 먼저 받아오기 때문에 완성된 HTML로 화면은 확인되지만, Javascript 다운로드가 늦어진다면 기능이 동작하지 않는 경우가 있어 사용자 경험이 좋지 않을 수 있습니다.&lt;/p&gt;
&lt;h3&gt;SSG (Static Site Generator)&lt;/h3&gt;
&lt;p&gt;SSR 방식과 자주 언급되는 내용 중 하나라 추가로 알아봤습니다.&lt;/p&gt;
&lt;p&gt;정적 사이트 생성기로 번역할 수 있는 SSG(Static Site Generator)는 누가 접속하든 항상 동일한 내용을 보여주는 웹사이트를 만드는데 최적화된 방법입니다. 그래서 제품 카탈로그나 개인 블로그처럼 변경이 자주 일어나지 않는 비교적 소규모 웹사이트를 제작할 때 매우 유용합니다. 제 블로그도 SSG 중 하나인 Gatsby를 사용해서 제작했습니다ㅎㅎ&lt;/p&gt;
&lt;p&gt;SSR은 요청이 들어올 때마다 요청에 맞는 페이지를 렌더링하는 반면, SSG는 빌드할 때부터 페이지가 전부 렌더링 된 상태로 이미 완성된 페이지들이기 때문에 사용자가 이런저런 요청을 한다고 해도 서버에 미리 준비된 페이지들을 가져가는 것 외에는 할 수 있는 방법이 없습니다.&lt;/p&gt;
&lt;p&gt;따라서 내용물을 수정하기 힘들다는 단점이 있지만, SSR과 같이 서버에서 페이지가 렌더링해서 보내주기를 기다리지 않고, 필요한 페이지를 바로 가져올 수 있어 훨씬 간단하고 빠르다는 장점이 있습니다.&lt;/p&gt;
&lt;h3&gt;나의 의문점&lt;/h3&gt;
&lt;p&gt;어느정도 개념은 이해가 되었지만 CSR과 SSR의 핵심 키워드인 &apos;렌더링&apos;에 대한 의문점이 들었습니다.&lt;/p&gt;
&lt;p&gt;제가 알고 있던 렌더링이란, HTML 파일을 브라우저에 그려주는 과정으로 DOM Tree와 CSSOM Tree로 렌더링 트리를 만들고, 렌더링 트리를 사용해 각 노드를 화면에 그려주는 과정이었습니다.&lt;/p&gt;
&lt;p&gt;그런데 서버사이드에서 렌더링이 일어난다니 그러면 html을 받는 것이 아니라 렌더링 트리 같은 것을 받게 되는 건가? 하는 의문이 들었는데 이건 아무리 생각해도 말이 안돼서 ... 여기저기 찾아보다가 CRS와 SSR에서 말하는 렌더링이란 &lt;strong&gt;화면에 보여줄 완성된 HTML을 구성하는 과정&lt;/strong&gt;이라고 이해를 했습니다.&lt;/p&gt;
&lt;p&gt;정확한 개념에 부합하지 않겠지만, 이해를 돕기 위해 예를 들어보자면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Example&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 생긴 리액트 코드가 있을 때, CSR은 서버에서 빈 html과 data변수에 저장된 값을 div요소에 바인딩하라는 js코드를 넘겨 받고 클라이언트에서 빈 html에 js코드에 따라 내용을 채워넣는 방식이라면, &lt;br/&gt;
SSR은 서버에서 이미 html 요소들과 데이터가 바인딩 되어 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div&gt;1&amp;lt;/div&gt;&lt;/code&gt; 이렇게 생긴 완성된 html을 넘겨주는 방식이라고 이해를 했습니다.&lt;/p&gt;
&lt;h2&gt;정리&lt;/h2&gt;
&lt;p&gt;CSR과 SSR은 Rendering을 어디서 하는지의 차이이고, SPA와 MPA는 페이지를 여러 개를 사용하는지 한개를 사용하는지의 차이입니다.&lt;/p&gt;
&lt;p&gt;SPA는 서버로부터 처음에만 페이지를 받아오고 이후에는 동적으로 DOM을 구성하여 렌더링 되는 화면이 바뀌게 합니다.
바로 여기서 “동적으로 DOM을 구성하여 렌더링 되는 화면이 바뀌게 합니다.” 부분이 CSR입니다.
쉽게 말하자면 SPA는 처음에만 페이지를 받아오고 이후에는 받아오지 않는데 이럼에도 데이터가 수정되고 조회되게 하고 싶어서 CSR이란 “방식”을 채택한 것입니다.
반대로 MPA는 동적이지 않은 페이지들을 상황에 맞게 클라이언트에 뿌려주기 때문에 SSR 방식을 채택한 것입니다.&lt;/p&gt;
&lt;p&gt;CSR과 SSR 중 어느 방식이 더 좋느냐는 서비스의 성격에 따라서 달라지게 됩니다.
만약 사용자와의 상호작용이 많고 검색 엔진에 노출될 필요가 없는 페이지라면 CSR 방식이 적합할 것이고, 만약 회사 홈페이지의 경우 처럼 상위 노출될 필요가 있고, 모든 사용자에게 같은 내용을 보여줄 필요가 있는 페이지라면 SSR 방식이 적합할 것입니다.&lt;/p&gt;
&lt;hr/&gt;
&lt;br/&gt;
&lt;p&gt;&lt;strong&gt;Reference&lt;/strong&gt;&lt;br/&gt;
&lt;a href=&quot;https://story.pxd.co.kr/1662&quot;&gt;https://story.pxd.co.kr/1662&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://blog.the-compass.kr/csr-ssr-spa-mpa-ede7b55c5f6f&quot;&gt;https://blog.the-compass.kr/csr-ssr-spa-mpa-ede7b55c5f6f&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://www.youtube.com/watch?v=YuqB8D6eCKE&quot;&gt;https://www.youtube.com/watch?v=YuqB8D6eCKE&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://www.daleseo.com/spa-ssg-ssr/&quot;&gt;https://www.daleseo.com/spa-ssg-ssr/&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[emotion으로 Global style 설정하기]]></title><description><![CDATA[현재 리액트에서 emotion이라는 CSS-in-JS 라이브러리를 사용하여 스타일을 관리하고 있는데요! Global style…]]></description><link>https://klloo.github.io/emotion-global/</link><guid isPermaLink="false">https://klloo.github.io/emotion-global/</guid><pubDate>Thu, 07 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;현재 리액트에서 emotion이라는 CSS-in-JS 라이브러리를 사용하여 스타일을 관리하고 있는데요! Global style을 설정하려 할 때 마다 방법을 까먹길래 ... 기록용으로 적어보려고 합니다.&lt;/p&gt;
&lt;p&gt;먼저 전역으로 적용할 스타일을 작성해서 Global 태그에 해당 스타일을 넣은 컴포넌트를 반환합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Global&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; css &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@emotion/react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; baseStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; css&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
 // css 설정 내용
 // reset.css 및 원하는 전역 스타일 작성
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;GlobalStyle&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Global styles&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;baseStyle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; GlobalStyle&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 App.tsx에 GlobalStyle을 적용해주면 끝입니다!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Main &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pages/Main&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; GlobalStyle &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;styles/globalStyle&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GlobalStyle &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Main &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; App&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Global 태그 아래로 다른 컴포넌트를 넣어주면 Global style이 적용됩니다!&lt;/p&gt;
&lt;p&gt;이렇게 간단한데 왜 자꾸 까먹었을까요 허허&lt;/p&gt;
&lt;p&gt;저는 주로 reset.css 스타일을 적용하려고 할 때 Global style을 사용합니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;reset.css&lt;/strong&gt;란 웹 브라우저마다 각기 다른 default 스타일이 지정되어 있는데요, 이를 초기화함으로써 다양한 웹브라우저에서도 동일한 스타일이 적용되도록 하는 설정입니다.&lt;/p&gt;
&lt;p&gt;이것을 적용하는 데에는 여러 방법이 있습니다.&lt;/p&gt;
&lt;p&gt;먼저 요즘 많이 사용되고 있는 &lt;strong&gt;normalize.css&lt;/strong&gt;입니다.&lt;br/&gt;
normalize.css는 CDN 기법을 통해 &lt;a href=&quot;https://cdnjs.com/libraries/normalize&quot;&gt;링크&lt;/a&gt;로 적용시킬 수 있습니다.&lt;/p&gt;
&lt;p&gt;normalize.css는 모든 스타일을 reset시키지 않고, 브라우저 별로 다른 스타일만 초기화하는 방식으로 적용된다는 것이 특징입니다.&lt;/p&gt;
&lt;p&gt;emotion에서는 아래와 같이 emotionNormalize를 import하면 쉽게 사용할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; emotionNormalize &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;emotion-normalize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; baseStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; css&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;emotionNormalize&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;다음으로는 제가 사용한 &lt;strong&gt;reset.css&lt;/strong&gt;인데요 reset.css는 css를 모두 초기화 해줍니다.&lt;br/&gt;
구글링하면 많이 나오는데 저는 &lt;a href=&quot;https://meyerweb.com/eric/tools/css/reset/&quot;&gt;여기&lt;/a&gt;서 가져와서 사용했습니다.&lt;/p&gt;
&lt;p&gt;저는 사실 모든 스타일을 초기화 시킨 상태로 작업을 시작하고 싶었고, 기본 설정에 더해 원하는 기본 스타일을 추가하고 싶어서 위 링크에서 복사한 내용을 baseStyle에 붙여넣어주고 원하는 스타일을 추가하는 방식으로 진행했습니다!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[컨벡스 헐(Convex Hull) 알고리즘]]></title><description><![CDATA[…]]></description><link>https://klloo.github.io/convex-hull/</link><guid isPermaLink="false">https://klloo.github.io/convex-hull/</guid><pubDate>Wed, 06 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;친구에게 알고리즘 문제를 추천받았는데 알고리즘 분류에 &apos;볼록 껍질 알고리즘(=컨벡스헐)&apos; 이라는 분류가 있었습니다.
생전 처음 들어본 기묘한 이름에... 이게 대체 무슨 알고리즘인지 궁금해서 슬쩍 찾아봤는데 무슨 기하..외적...이런 키워드에 지레 겁먹고 미루고 미루다가 아무래도 궁금해서 드디어 공부를 해봤습니다.&lt;/p&gt;
&lt;h3&gt;개념&lt;/h3&gt;
&lt;p&gt;컨벡스 헐이란 &lt;strong&gt;차원 평면에 여러개의 점이 있을 때, 그 점 중 일부를 이어서 나머지 점을 내부에 포함할 수 있는 볼록 다각형을 만드는 알고리즘&lt;/strong&gt;입니다.&lt;/p&gt;
&lt;p&gt;여기서 &lt;strong&gt;볼록 다각형&lt;/strong&gt;이란 경계의 두 점을 잇는 어떤 선분도 다각형 외부로 나가지 않는 단순 다각형을 의미합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 286px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5c74159bc8a2a7260b2c14e4b055d47d/357e3/example.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.724637681159415%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFUlEQVR42qVSa3fCIAz1///LedzOCqiUN7Q0y81mrev0y/KNkNwXHIhrWRbaVs6ZWmv0quZ5pnEcd/3D9tB7Z7BE2igqJT8Fm6bGYFcyPPcnYEqJYgwUgqdaiwDH6GXxDjKRc44JI88HUQjyLTGcCiDArDW39nqJfmt1tWjMwOciZ2staW2EFHMPCtFMya22oQTAAIWK6/VCJRdR1/ssfe9HMmctOyD13kmmAliZNQT7AziTUgMv9XXY2otYDmFkNY7Jo1g9Ht8kIlHMmYYQvgGBroYPsfW7kCX6UKXU5+6xYBeZwsnDK98zaxIBBsCuNUDK0xfH3pmtQ9Tu28DW6f0klgBWaxZFyPVV4f5mffcP8YX+U18rSxIfOcw67AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;example&quot;
        title=&quot;&quot;
        src=&quot;/static/5c74159bc8a2a7260b2c14e4b055d47d/357e3/example.png&quot;
        srcset=&quot;/static/5c74159bc8a2a7260b2c14e4b055d47d/948cf/example.png 138w,
/static/5c74159bc8a2a7260b2c14e4b055d47d/6b2ea/example.png 275w,
/static/5c74159bc8a2a7260b2c14e4b055d47d/357e3/example.png 286w&quot;
        sizes=&quot;(max-width: 286px) 100vw, 286px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위 그림에서 (a)는 볼록다각형이고 (b)는 오목다각형입니다.&lt;br/&gt;
그림만봐도 외부에서 봤을 때 (a)는 모든 각이 다 볼록하고 (b)는 오목한 각이 있는 것을 볼 수 있습니다.
그리고 조금만 생각해본다면 다각형의 모든 내각이 180도 이하일 때 볼록 다각형이 된다는 것을 알 수 있습니다.&lt;/p&gt;
&lt;p&gt;아무튼 아래와 같이 점들이 2차원 좌표 평면에 존재할 때, 컨벡스 헐을 나타내보면 다음과 같습니다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/068a82d142db4b962296497adc3641ce/b2cef/concept.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 43.47826086956522%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQklEQVR42mVS23KEIAz1//+uD/0A7c54W3QFlDunCa6WtpnJADnh5NrEGHFpSqlobQsh/HqffhE5s5L/H6y5SHLO8N5jnueb+CK/78UvIWTgIRTaaQVdkVNFSG8opeCcKwYp5U3CQersPWXbji9MOkEaD6EsHjJCOcr2HbzhT8uyFEIhBJx1BOZCtq5ryZrvXNqoAjYTcOwaL8JYfMxoF4dBbKCoJyH36diPu19a69N2HDDGwtK52YTVUlusKXYu/yBMyw2SsKf2XDsaBq216Pu+ROQA0zQVG8tO+DwO+GhFIeznBfOyFcwxuVYQJkPZWHrZ8Md6AJwZC7fBGHOWS5ij0vnTalgTRh0x7RHLEfDZPf9P+Wo8nyxd15XSr8Gk94Q5C14bH2napNoGfA3zz1DqFanJr8zqtbl3tHqXXax8vwF3e8CIRUMnLQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;concept&quot;
        title=&quot;&quot;
        src=&quot;/static/068a82d142db4b962296497adc3641ce/dd45a/concept.png&quot;
        srcset=&quot;/static/068a82d142db4b962296497adc3641ce/948cf/concept.png 138w,
/static/068a82d142db4b962296497adc3641ce/6b2ea/concept.png 275w,
/static/068a82d142db4b962296497adc3641ce/dd45a/concept.png 550w,
/static/068a82d142db4b962296497adc3641ce/d4c13/concept.png 825w,
/static/068a82d142db4b962296497adc3641ce/b2cef/concept.png 847w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;동작 원리&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;먼저 &lt;strong&gt;기준점&lt;/strong&gt;을 잡습니다.
여기서 기준점은 y좌표가 가장 작은 것으로 잡고, y좌표가 같다면 x좌표가 가장 작은 것으로 잡습니다.&lt;/li&gt;
&lt;li&gt;다음으로 기준점을 기준으로 다른 점들을 &lt;strong&gt;반시계 방향으로 정렬&lt;/strong&gt;합니다.&lt;/li&gt;
&lt;li&gt;스택에 첫번째와 두번째 점을 push하고, 3~n번째 점에 대해 아래 과정을 반복합니다.&lt;/li&gt;
&lt;li&gt;스택의 최상단에 있는 두 점을 이은 직선에 대해 현재 탐색중인 점이 왼쪽에 있다면(&lt;strong&gt;반시계 방향&lt;/strong&gt;에 있다면) 스택에 push하고 다음 점을 확인합니다.&lt;/li&gt;
&lt;li&gt;그렇지 않다면 스택을 pop하고, 위의 조건을 만족할 때 까지 확인합니다.&lt;/li&gt;
&lt;li&gt;n번째 점까지 탐색이 끝나면 스택에는 컨벡스헐을 구성하는 점들이 포함되어 있게 됩니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;위의 예시로 동작 과정을 살펴보자면 아래와 같습니다.&lt;/p&gt;
&lt;p&gt;먼저 반시계 방향으로 정렬을 하면 파란색으로 적혀진 숫자대로 정렬이 되는데 여기서 1번과 2번 점을 스택에 넣고 시작합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6bf738eeb0d59c60ecbf1fccef7ad913/ad12c/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.623188405797094%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABR0lEQVR42o1Sy3KDMAzk/38onJPJjcmlhx46pRMyPFrAYF5pgs1WMjEBkk7rGWEkpGWllaO1xtqUUtBsc/9J3sLUeDucrHo1FfGRssIxzjAMwxQ3eSvr+/4h5thkDBqiuaK+AlUl8RELA85FeZ6vfijh+z6SJDG+BRsZ0qO/AfphilR2OOUtNLFjhm3bIs1GtgzOJyP/cDggDMNHwPkcCBVd16FuGgLAyKYs8RZLKPJ5rhbQ8zzEcTwBWgynvmgESW4+FEWBl+P4nmQlgk+BWpY4X2hWZvB3wO12iyiKHhnKb2o1ykzLHLiQQFSJiuJfNFAp8oXaFtB1XQRB8HvLU/B28ymJ8ev7ssiKst/vkabpJNyk8hx9vXOc2Jz7Ma7vKnO7m80Gu93OzHy+Xs6fCztbWmtCCKMwM+Sfzon8D/CJDbe1Wnf2A2oQWN5i09vWAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;stage&quot;
        title=&quot;&quot;
        src=&quot;/static/6bf738eeb0d59c60ecbf1fccef7ad913/dd45a/1.png&quot;
        srcset=&quot;/static/6bf738eeb0d59c60ecbf1fccef7ad913/948cf/1.png 138w,
/static/6bf738eeb0d59c60ecbf1fccef7ad913/6b2ea/1.png 275w,
/static/6bf738eeb0d59c60ecbf1fccef7ad913/dd45a/1.png 550w,
/static/6bf738eeb0d59c60ecbf1fccef7ad913/d4c13/1.png 825w,
/static/6bf738eeb0d59c60ecbf1fccef7ad913/ad12c/1.png 856w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스택 최상단의 두 점(1번과 2번)을 잇고 3번 점을 확인합니다.&lt;br/&gt;
3번 점은 직선의 반시계 방향(왼쪽)에 있으므로 스택에 넣습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0de7e43a660bc317a5d2d1a9483ca872/47ff6/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.79710144927537%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeUlEQVR42oVT226CQBDl/z/JFxMfTEzU2saksS2xUAoroFBpuS27pztj2eIlcZMJyc7sucwMjlIKXdeBvhRSSrRtC6013/fR52/FMO8MLwCNpmkQ+B4CkSL57swdkfw96M5BiJjq67pmAQzYK4BWSLIC7/uagd+8ENuPCLJt+KEQ0Zliis1mA8/z4Ps+6JA7p7dJJxQx4mONJC8gConOgCVpiiiKsItTrlEDe+v1Gq7rGjLBOSJhhVqr/14Z6fvDga0orbhQRCEeXIGykcbIqZYszmYzLBYLZFl2AjStcUqpESQZM9fVDx5ffewrzmMb7OB/CmSGoDUuukH/6BDgcrn8BySFRQs8uSFkU5tijapuzWPFPfVyachyHPPMTl1dKLwCvLLM0+xsX+N4h+cX1zbdDtGc+XyO6XSKqqrsyjmXe2SDV8QorkrsvkrurVL9ehFRjMlkgtVqZadsFd6LnnSojtZlNBphPB7z+pytzb245YB6OIz+T/kFWCVT+f7/BpYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2&quot;
        title=&quot;&quot;
        src=&quot;/static/0de7e43a660bc317a5d2d1a9483ca872/dd45a/2.png&quot;
        srcset=&quot;/static/0de7e43a660bc317a5d2d1a9483ca872/948cf/2.png 138w,
/static/0de7e43a660bc317a5d2d1a9483ca872/6b2ea/2.png 275w,
/static/0de7e43a660bc317a5d2d1a9483ca872/dd45a/2.png 550w,
/static/0de7e43a660bc317a5d2d1a9483ca872/d4c13/2.png 825w,
/static/0de7e43a660bc317a5d2d1a9483ca872/47ff6/2.png 852w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스택 최상단의 두 점(3번과 2번)을 잇고 4번 점을 확인합니다.&lt;br/&gt;
4번 점은 직선의 반시계 방향(왼쪽)에 있으므로 스택에 넣습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/34133838cde454570b4ab9862002973e/bad1b/3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.347826086956516%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVR42n2T226DMAyG+/6v0/uqV5Mq9WJaV6AUFbSKjZaycD4l5F8cBqMIzZKJcfBnBzurruugVfSrUKuUEqNf+8TT+9w3tVdTIG2QMPaNIC4gJBZhA2TQqX8EqgeyWiBrgZQ98PJqoqxbnSBOEhRFoe0hqe/7iKIIruuOfg0UA51zWB83fEYZzOsD9zDCLQiQpinCMERdlZAUyHvg6XSCbdswTfMZOD9CpQIjFoPFibIrZGmCd9OGn6hqZYe25RpgWRYMwxiBXBVE8auiEeDKoOx5lsLwWW/nGZyLC962CO4hsqbTQP575AFI+lShdavgeFf1sURVlgjjnEwUVYO3yxdixlDXtd6nAKqEhECO4+B4PC4feamLTdPgfD4jL0oVIkc/CcF2u53+j8tNmczhECjV6t9CsKL/f2KS8HA4YL/fw/M8XfU4NtN5WtL5zNHQU7PW6zU2mw22260eKfLrpvx35PktkN3fDSIAyfxW/QC9/VRESF8fLAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;3&quot;
        title=&quot;&quot;
        src=&quot;/static/34133838cde454570b4ab9862002973e/dd45a/3.png&quot;
        srcset=&quot;/static/34133838cde454570b4ab9862002973e/948cf/3.png 138w,
/static/34133838cde454570b4ab9862002973e/6b2ea/3.png 275w,
/static/34133838cde454570b4ab9862002973e/dd45a/3.png 550w,
/static/34133838cde454570b4ab9862002973e/d4c13/3.png 825w,
/static/34133838cde454570b4ab9862002973e/bad1b/3.png 841w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스택 최상단의 두 점(4번과 3번)을 잇고 5번 점을 확인합니다.&lt;br/&gt;
5번 점은 직선의 시계 방향(오른쪽)에 있으므로 스택을 pop합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f8a3e3f7f046d153b41e417d13bd2b84/f96df/4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.623188405797094%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTklEQVR42n1Ta2/CMAzs//9ZCISADzANibFuCCiiW0JfIKVtHr3FkVrCgoh0SmIn53PsRMYYGG1hZ621m7uuc7Nv8/HM1iMi553IQMkWp3OKojYA7ZUeSHwopSClDOwRqevsBWkPnCs6YPB9SBCfmCOUUoFzHiiM4xjb7fYhG6eQIlkr8qLAjl1xTBmOuYBsBBjjyLLMEdLw1S2XS6zX60B95EelUZYlhKjdmuzJ8YD3A4fuaH9/4/F4jMViMQQaFP6WAk1Tu/Q+9yckhXSHkh8OnleobICbaKG9tIhwNBphNpuFhG/7C65V5Rx100K0pNTgfNVgVW19RXCJMJlMMJ/PQ8Jnpe/Tz/MMH1+7h0u9bzqdYrVahYR+27i1R9y2DbJbA/Uv0GazGRSmafpAGvmN+qph+8A0qLpUZXpDxlhI+ApahzYqCqHvBP93/QGb4FXpMJKl2AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;4&quot;
        title=&quot;&quot;
        src=&quot;/static/f8a3e3f7f046d153b41e417d13bd2b84/dd45a/4.png&quot;
        srcset=&quot;/static/f8a3e3f7f046d153b41e417d13bd2b84/948cf/4.png 138w,
/static/f8a3e3f7f046d153b41e417d13bd2b84/6b2ea/4.png 275w,
/static/f8a3e3f7f046d153b41e417d13bd2b84/dd45a/4.png 550w,
/static/f8a3e3f7f046d153b41e417d13bd2b84/d4c13/4.png 825w,
/static/f8a3e3f7f046d153b41e417d13bd2b84/f96df/4.png 849w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스택 최상단의 두 점(3번과 2번)을 잇고 5번 점을 다시 확인합니다.&lt;br/&gt;
5번 점은 직선의 반시계 방향(왼쪽)에 있으므로 스택에 넣습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/46b0c511453163b90ffb25c823b07cd2/27b8e/5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.449275362318836%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXklEQVR42m1S0W7CMAzk/z+GRx55RYgKTVDEpDGgiEJBK4y2Sdo06S22CGuBSFbd2Hc+x+5Za2GMAX29aV3z3fP9s7Xj3u95R2uNvCjQAEiOBwTLLaz7aVxMlSXqulukcLlZlkEIgaZpuoSGqtQVwu8Yx6LB5XLFdhcjTVNOPJ9PUEoykIjpzGYzhGHIOXTongm9XEr+vd244tdmB+PUlU7ZKUmw2kQoDRzAOKBhgul0islkwvl0Hgr9GxBhVZWIkhRCSgYrUUA6wHqf4Kos9f9QGAQBRqMRF+20fBIWy/Xe5RrkeY7P/YUBotT42PygyDPXrnqoIGsrlFJ2CZW2yIRiRaz0/gT0rkIbHOIYlRuYdSCKe4Xj8RjD4dB1VXUJn9egsyq1xmIVQVaG2/UxIqWBLBYLJnxZG//j/bbVbf+uLooi9Pt9DAYDzOfz91N+u7zmdYH/l1/zQNpiiPAPizoGuVgkTPoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;5&quot;
        title=&quot;&quot;
        src=&quot;/static/46b0c511453163b90ffb25c823b07cd2/dd45a/5.png&quot;
        srcset=&quot;/static/46b0c511453163b90ffb25c823b07cd2/948cf/5.png 138w,
/static/46b0c511453163b90ffb25c823b07cd2/6b2ea/5.png 275w,
/static/46b0c511453163b90ffb25c823b07cd2/dd45a/5.png 550w,
/static/46b0c511453163b90ffb25c823b07cd2/d4c13/5.png 825w,
/static/46b0c511453163b90ffb25c823b07cd2/27b8e/5.png 836w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스택 최상단의 두 점(5번과 3번)을 잇고 6번 점을 확인합니다.&lt;br/&gt;
6번 점은 직선의 시계 방향(오른쪽)에 있으므로 스택을 pop합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/603ca3818e071424d50c532a6b0fa4ed/b2cef/6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.724637681159415%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVR42n1S226CQBT0///IF598MOoDmLSWGNJUyqq1FkRZlr0w3bOwBFuV5ITd4TAz5zIyxkBTaO2C7kq1b39/Fn9zRkMiIm4aYL9jWCffMIDDRV1Dq6GgAucceZ67sxkYcoSNZSkvBdbbLxxLg4ILbNM9sixzyYfDHlJKd6bcqqoQvUUIgxC1FSPMi428VUo6ZTmEqBCz1h0vS7A0xXvCIA25bcWFEAjDEMvl0gndJSRQWrXjuURty1CytneBS1Eg/jzgUttedITkKggCzOfz3nlPyAqNzQdDY4HifMZml4GekyV+SX5cK7wLL0wOV6vVfYdcalxtz0wHNF0obXAVCjuWQlrHfhPoZxrEYrHAdDq9GcpNyUa34T+40gTHa5w48mFrqN9UchRF/x36cT8KpYZn5doxm80wHo8xmUwQx7HDiNitTW9XP1jaO8tNOBHQcPod7hz+AsquB8YVhe77AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;6&quot;
        title=&quot;&quot;
        src=&quot;/static/603ca3818e071424d50c532a6b0fa4ed/dd45a/6.png&quot;
        srcset=&quot;/static/603ca3818e071424d50c532a6b0fa4ed/948cf/6.png 138w,
/static/603ca3818e071424d50c532a6b0fa4ed/6b2ea/6.png 275w,
/static/603ca3818e071424d50c532a6b0fa4ed/dd45a/6.png 550w,
/static/603ca3818e071424d50c532a6b0fa4ed/d4c13/6.png 825w,
/static/603ca3818e071424d50c532a6b0fa4ed/b2cef/6.png 847w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스택 최상단의 두 점(3번과 2번)을 잇고 6번 점을 다시 확인합니다.&lt;br/&gt;
6번 점은 직선의 반시계 방향(왼쪽)에 있으므로 스택에 넣습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/967c57ca4bf3861f729e10927d6320da/d26aa/7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.17391304347826%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTUlEQVR42oVS226CQBD1/z/KB+MDRpO+NKS2tUBUWrAqCiywF053hi4FbdNJTvY2l3NmZ2KMgYPWGm1rUNc1GtWdu7sWQ79bkI9bJ7yxsFGQpkXdSDyvn/CwDvmO3suyHAQZLhDHMcLQ+lhzRTmhYyHKAo+bPfaHM94zgdPphOPxyGyT5KNnq42GlBKr1QqLxYITKaW4GK0Tt0nT1Do2yPMc8eeFK1OyeLeFH8SWPWC+WZL/crlkOIa9ZKk6GWR5USA65PxYCQEhSlyyDNs0g9Qk/yeQ2BHuEq6TEptoxw/nc4aX3QGtVlZ2hdfkiuJ66QMcnGRi6Ho3YKj7Hgyh7AeJqkYQBCMWBLL5fA7P8+4Zjr+/A59t5aau8La3vdVguRRARp9FDH3fR2Hb5MbqLuF/ICVkxGw2m2E6nSKKop7laGz+AiW5Pf9WyI3NF17uBnCw8EaNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;7&quot;
        title=&quot;&quot;
        src=&quot;/static/967c57ca4bf3861f729e10927d6320da/dd45a/7.png&quot;
        srcset=&quot;/static/967c57ca4bf3861f729e10927d6320da/948cf/7.png 138w,
/static/967c57ca4bf3861f729e10927d6320da/6b2ea/7.png 275w,
/static/967c57ca4bf3861f729e10927d6320da/dd45a/7.png 550w,
/static/967c57ca4bf3861f729e10927d6320da/d4c13/7.png 825w,
/static/967c57ca4bf3861f729e10927d6320da/d26aa/7.png 839w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스택 최상단의 두 점(6번과 3번)을 잇고 7번 점을 확인합니다.&lt;br/&gt;
7번 점은 직선의 반시계 방향(왼쪽)에 있으므로 스택에 넣습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/347e260d2526e22416d735da1d6ed7dd/8bd7c/8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.275362318840585%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXklEQVR42o1TC27CMAzt/W/DCTgBIAZCaMDKRmkLtFXShH5I2rfaIyhjQlokS/HzJ++5btB1HZxZa9no3vc9/Ngrc/md/fEDP+iahGGIXXQekp+KPKvrGkIIWPM7FrhGt7bBOsqQFQKH+ITNPoJWimNpmsIYwwV0rtcrVqsVZrMZVKkY8xj2nBxFEXb7L2itsb8oDDCklEiTBHF6Yp+Y0gPUcLlcYj6foyxLbuhUBMbc0DQNA1mWQ+oaVV3xI3aIFXmGt12MygB9Z7m4qiosFgtMJhModWfoJK8TicMxZvDzcMT6KPh+EQofSTHIlmja9jFfJ5kYkmTH8NEwEQ3yomBQSjGwvAy3Hrq1OKkb8uz8mJ8vmRhOp1Meyy/Jr1aBjtYKy/cQncfAfURqSCz/rA0BPK/7DvpGuK5bGCq6+3RI6mg0wng8xnazZcypCP6zvM/Maf9oleI45hn6P8E3048Fa3ue/jQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;8&quot;
        title=&quot;&quot;
        src=&quot;/static/347e260d2526e22416d735da1d6ed7dd/dd45a/8.png&quot;
        srcset=&quot;/static/347e260d2526e22416d735da1d6ed7dd/948cf/8.png 138w,
/static/347e260d2526e22416d735da1d6ed7dd/6b2ea/8.png 275w,
/static/347e260d2526e22416d735da1d6ed7dd/dd45a/8.png 550w,
/static/347e260d2526e22416d735da1d6ed7dd/d4c13/8.png 825w,
/static/347e260d2526e22416d735da1d6ed7dd/8bd7c/8.png 845w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스택 최상단의 두 점(7번과 6번)을 잇고 8번 점을 확인합니다.&lt;br/&gt;
8번 점은 직선의 시계 방향(오른쪽)에 있으므로 스택을 pop합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5e014aa6a9375ee603418c219a6e0709/bad1b/9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.55072463768116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaElEQVR42nVS72+CMBDl//+T/GaiftCobBls0SVEYWWjE/AH0ArlrVctw+maXNpe7969u1enaRoopUB738hX1/W/b399jbrsDj2StW2LFsBxn8N9eUXIc31rTdD5fIaNs4BFUSBN0+5uzSEWBJbvj3gOvpBmOTYsQRzHKMsSUkowxtD2wMjneR5ms1lXzDJ1NA3kuQbZbFEJiZiniPPKsNtpBlEYItllUJq+6o1isVhgMpncMxSiQk1ObaWsUVTyci5OJuCTfcAPU4hGl6A5XQHn8zlGo9E94NNqA6lBoXTVVYi9oEkCbyFHkh1x0DO9tPSbZBk+BNwmGURVGkFMojZNEZkEdocC3zwxBfqJNDfXdTEej82ZNOgA++h9JWkxLcz7lt0A2rflcmkMVyI9lZuHgEqrQCKdRN0xp1ZpTadTDAYDDIdD+L5/U9CxclPw3Wc1QbTXXQy1F0URgiDAer0G59z47Lf5AT8bBOA/tq27AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;9&quot;
        title=&quot;&quot;
        src=&quot;/static/5e014aa6a9375ee603418c219a6e0709/dd45a/9.png&quot;
        srcset=&quot;/static/5e014aa6a9375ee603418c219a6e0709/948cf/9.png 138w,
/static/5e014aa6a9375ee603418c219a6e0709/6b2ea/9.png 275w,
/static/5e014aa6a9375ee603418c219a6e0709/dd45a/9.png 550w,
/static/5e014aa6a9375ee603418c219a6e0709/d4c13/9.png 825w,
/static/5e014aa6a9375ee603418c219a6e0709/bad1b/9.png 841w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스택 최상단의 두 점(6번과 3번)을 잇고 8번 점을 확인합니다.&lt;br/&gt;
8번 점은 직선의 반시계 방향(왼쪽)에 있으므로 스택에 넣습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fa7d30a294ccd66df3db9e3df253f047/d52e5/10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.724637681159415%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR42m1SXW+CQBDk//8UH02avjZa0kKsH6ClmAZtVURsIwoFjzuY7h1ioPaSCcfe7ezs7GlFUeAKISqUJUpC9V+gLEq07hHU+Z+YhCYoSYHzCxHgz2zMbBcZF0QmwPMcnM7ru5LsdDohCAIwxhRRfa7VzJSJr9UWq4GFwJ7h03xB4jigWwj3e6RpCrlkklyWZcE0TURRdI1fFRIdgtkUO8PETxzD2x8h09hmjePzE3xvQWpl66TkQjgej2EYBrIsU4qvhNQkBFWPp1MKCEQpU5c4tZLxHGd/g/nDI8KcWGT7vCIcDofo9/uq1ZaHOwasdKrkOogp2ZqvlbokY5iHMeLlEonnUVkonyWBXKPRCLqu33qY5CW+P9bIFh5hgfObg9S2cJxMEL6+w7+/A08SZYtMrD2UhL1eTxG1Wq6mVlQTvpgrqKqgybJTBM8YID1zZUf1GipC13XVYOoiNTRRB6Tkhh8qRl9GBFwULXXb7RadTgfdblcN52bK/4E332dDhdzLoR0OB/Vk5L7p4S/8+QBZC4dJDwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;10&quot;
        title=&quot;&quot;
        src=&quot;/static/fa7d30a294ccd66df3db9e3df253f047/dd45a/10.png&quot;
        srcset=&quot;/static/fa7d30a294ccd66df3db9e3df253f047/948cf/10.png 138w,
/static/fa7d30a294ccd66df3db9e3df253f047/6b2ea/10.png 275w,
/static/fa7d30a294ccd66df3db9e3df253f047/dd45a/10.png 550w,
/static/fa7d30a294ccd66df3db9e3df253f047/d4c13/10.png 825w,
/static/fa7d30a294ccd66df3db9e3df253f047/d52e5/10.png 848w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;모든 점을 확인했다면 스택에는 컨벡스 헐을 구성하는 점들이 존재하게 됩니다!&lt;/p&gt;
&lt;h3&gt;CCW (Counter ClockWise)&lt;/h3&gt;
&lt;p&gt;알고리즘 자체는 크게 어렵지 않은 것 같은데 어떻게 “반시계 방향으로 정렬”을 하고 직선의 “반시계 방향”에 점이 존재하는지 알 수 있을까요?&lt;/p&gt;
&lt;p&gt;이 부분을 해결할 수 있는 것이 바로 CCW입니다.&lt;/p&gt;
&lt;p&gt;CCW는 &lt;strong&gt;평면&lt;/strong&gt; &lt;strong&gt;위에 놓여진 세 점의 방향관계&lt;/strong&gt;를 알 수 있게 해주는 알고리즘으로 벡터의 외적을 이용합니다.&lt;/p&gt;
&lt;p&gt;두 벡터 A,B에 대한 외적의 결과는 두 벡터에 동시에 수직인 벡터입니다. 그렇다면 외적의 결과로 나온 벡터의 크기야 어떻든, &lt;strong&gt;z축에서 +인지 -인지에 따라 A와 B의 방향관계를 알 수 있을 것입니다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;벡터 A와 B의 외적은 다음과 같이 구할 수 있습니다. (점 a, b, c는 평면에 존재하므로 z는 모두 0입니다.)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 399px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4025354f87ad8f4d5787d84cd5faa9bf/a307d/math.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgElEQVR42j2Pyw6FIBBD/f+f1BUmAoLydtObM4tL0oR0pied7b5vpZRUa1WM0f7XdSnnrPd9zQshyHuv3rue5/l76DxPHfuhlJN42xhDCCABQK01rbX0fZ9Bmc05zUPMUSnFfPJkDUgjRAOCtKMBTViiAXPACJ+r2HXOGZQ98gB/0ZblpR/TM6AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;math&quot;
        title=&quot;&quot;
        src=&quot;/static/4025354f87ad8f4d5787d84cd5faa9bf/a307d/math.png&quot;
        srcset=&quot;/static/4025354f87ad8f4d5787d84cd5faa9bf/948cf/math.png 138w,
/static/4025354f87ad8f4d5787d84cd5faa9bf/6b2ea/math.png 275w,
/static/4025354f87ad8f4d5787d84cd5faa9bf/a307d/math.png 399w&quot;
        sizes=&quot;(max-width: 399px) 100vw, 399px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;오른손 법칙에 의해 외적을 하려는 두 벡터가 이어지는 방향대로 오른손을 감싸면 엄지손가락이 향하는 방향으로 외적이 생성됩니다. 즉 반시계 방향으로 이어진다면 위쪽 방향으로 외적이 생성되고, 시계 방향으로 이어진다면 아래쪽 방향으로 외적이 생성됩니다.&lt;/p&gt;
&lt;p&gt;바꿔말하면, 외적의 z축이 음수라면 두 벡터는 시계 방향으로 이어져있다는 것이고, 양수라면 두 벡터는 반시계 방향으로 이어졌다는 것입니다. (일직선상에 존재한다면 0이 됩니다.)&lt;/p&gt;
&lt;p&gt;A와 B를 이은 직선과 C의 방향 관계를 알고싶다면 벡터AC와 벡터AC의 내적을 구하면 됩니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/68b4f50b082c19d6c537a9b02aceb5d1/f0551/last.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.85507246376812%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABM0lEQVR42l1Si26DMAzk//+uVbtpqKxMlPerUB6FkNx82WB0ltyk9vlsX3C01qCN4yj+lJsBY3unGWM2V/P8kmdsPZ1pmlBVFW5RBPfisRJKLViWP18JiR2GAd71C0YIlFKbE0dSh5e6rgX8RFmWaO53NE2DMAxfJqAxTmyaprgLjsaTA3FDO6ExGr10DeMESZLgcHpH+3gIsEbXdZhlvXVC3vthRC9x7/OKQSRibN5J4BDIzmVV29ELmZJdI5GAk7Dzamzw9uEizzNcrj6CMLLYPM/Rtu0PIX+oDQtJaEWXk0CC/ms4yjb2v9Qxx62yLLP1lpDJ8+mM4+GIRNYOgsAS6t8C+qphHMdwXdcSULdB1meeK2+PQvBaaEnU8vKJGG02QhL5vm8frygK++J699rk+Aa1YGxKjH8jmQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;last&quot;
        title=&quot;&quot;
        src=&quot;/static/68b4f50b082c19d6c537a9b02aceb5d1/dd45a/last.png&quot;
        srcset=&quot;/static/68b4f50b082c19d6c537a9b02aceb5d1/948cf/last.png 138w,
/static/68b4f50b082c19d6c537a9b02aceb5d1/6b2ea/last.png 275w,
/static/68b4f50b082c19d6c537a9b02aceb5d1/dd45a/last.png 550w,
/static/68b4f50b082c19d6c537a9b02aceb5d1/d4c13/last.png 825w,
/static/68b4f50b082c19d6c537a9b02aceb5d1/f0551/last.png 862w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;코드&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.acmicpc.net/problem/1753&quot;&gt;[백준] 1708번:볼록껍질&lt;/a&gt; 문제를 통해서 코드를 구현해봤습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cpp&quot;&gt;&lt;pre class=&quot;language-cpp&quot;&gt;&lt;code class=&quot;language-cpp&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;algorithm&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;iostream&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stack&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;namespace&lt;/span&gt; std&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; ll&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100001&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;y_first_cmp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

ll &lt;span class=&quot;token function&quot;&gt;ccw&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
           a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

ll &lt;span class=&quot;token function&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;second&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ccw_cmp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ll c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ccw&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; c &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    cin &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    ll x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        cin &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        point&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 기준점을 찾기 위해 1차 정렬 (y가 작은 순서. y가 같다면 x가 작은 순서)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y_first_cmp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 기준 점을 기준으로 반시계 방향으로 나머지 점을 정렬 (일직선상에 있다면 기준점에서 가까운 순서)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ccw_cmp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    stack&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; st&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 첫 두점을 스택에 넣는다.&lt;/span&gt;
    st&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    st&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    pair&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ll&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 두 점을 꺼낼 수 있는 동안 반복한다.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;st&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// 최상단의 두 점을 꺼낸다. 맨 위의 점은 pop한다.&lt;/span&gt;
            b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; st&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            st&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; st&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// 최상단의 두 점을 이은 직선이 현재 확인하고 있는 점과 반시계 방향으로 연결되어 있다면 break한다.&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ccw&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;// 이 경우 맨위의 점을 pop하면 안되니까 다시 넣어주고 break한다.&lt;/span&gt;
                st&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 현재 확인하고 있는 점을 스택에 넣는다.&lt;/span&gt;
        st&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    cout &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; st&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[리액트로 자체 잔디 심기 기능 구현하기]]></title><description><![CDATA[…]]></description><link>https://klloo.github.io/make-streak/</link><guid isPermaLink="false">https://klloo.github.io/make-streak/</guid><pubDate>Tue, 05 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;이번 프로젝트에서 구현한 기능 중 매일 한 문제씩 랜덤으로 문제를 추천해주는 기능이 있는데요, 매일 해당 문제를 풀었는지 체크해서 잔디를 심어 보여줄 수 있는 기능이 있으면 좋겠다고 생각했습니다.&lt;/p&gt;
&lt;p&gt;처음에는 흔한 기능이라 생각하여 라이브러리나 참고할만한 코드가 있겠지... 하며 안일하게 생각했었는데 웬걸 ...이 기능의 정확한 명칭도 모르겠고 일단 제가 찾아본 결과로는 라이브러리는 커녕 딱히 참고할만한 코드도 없었습니다. 그래서 한 번 직접 구현해보기로 했습니다.&lt;/p&gt;
&lt;h3&gt;분석&lt;/h3&gt;
&lt;p&gt;먼저 제가 이 잔디 기능을 가장 많이 접했던 사이트가 github와 solved.ac이었는데요 먼저 해당 사이트의 잔디가 어떻게 구현되고 있는지 html을 살펴봤습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6fe329cf20ac3db1f28449dbb05f6ad7/cdf95/solvedac_grass1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.608695652173914%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABmUlEQVR42m2R3WvTYBSH+6/3ZjoRP7YbVxVBEZ2wzY8Lce1WQQRBtLqpbaf9SPImaZO8SZq0+Vzz+KYIIng4D79zc56LcxphtCRJctKs+C9Jmm+o56IsyYs1UrgETsh8nhHIlCgqyJY5VVXR+Dn8gTA0qC5VF1Trv1CVpElMni5ZX9YLawVkrofUbSajmNBdEvspRS1cK2H7i+D0fEb3zKPTU3yWtBV1nvT8DcefJK8/evTNFU4KIxExGNr0hjEDLaavpwz0hLGd0Nhta1x/NWb7YErz4USh0XyksfXUYOuJwZV9wdVnJs3HOsfnAUEOuiz4+t3h24VDf+JzNvTU7PHLiGi0ukp4OOXmc4MbRwbb+yoPTHZe2tw6srj9wmZHce1Q8P4ipK5S3XEhHEJrRmBazMc6riaJvBWNB+9M7p6a3Ota3H9r0eoI7rR19k4Eex2D1p/cfaPzYbTYCPO8UoIZUglnUxsx0pgbAWEtlHGGXCriFF/lLIgxHB/hBv9gyQWrrFS6irKslMxXn/ZxTQ9zOiewQ1Zxxm+hK/pUciOOCQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;solvedac grass1&quot;
        title=&quot;&quot;
        src=&quot;/static/6fe329cf20ac3db1f28449dbb05f6ad7/dd45a/solvedac_grass1.png&quot;
        srcset=&quot;/static/6fe329cf20ac3db1f28449dbb05f6ad7/948cf/solvedac_grass1.png 138w,
/static/6fe329cf20ac3db1f28449dbb05f6ad7/6b2ea/solvedac_grass1.png 275w,
/static/6fe329cf20ac3db1f28449dbb05f6ad7/dd45a/solvedac_grass1.png 550w,
/static/6fe329cf20ac3db1f28449dbb05f6ad7/d4c13/solvedac_grass1.png 825w,
/static/6fe329cf20ac3db1f28449dbb05f6ad7/99f37/solvedac_grass1.png 1100w,
/static/6fe329cf20ac3db1f28449dbb05f6ad7/cdf95/solvedac_grass1.png 2106w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4feef0e28d05b9ce1bab5f756bdac8e9/3c2d4/solvedac_grass2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 28.985507246376812%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABX0lEQVR42l2RW2/TQBCF8/9/BY+8UgSiAlG1iDalRVCSQi8ksWPXt8beXXu967WdfmyNxAMjHY3m5ZszZ2ZhFPOQpBhr6Zz7Tz3aWHRrpnkcR56A/dCTBQXJJkFEK7JQIBKF0Y5ZkmZs44hGG4xxtO1fNY1D6w5ZScqqpK5bD9zDBBwpt4+oosRWBVpo2kqhKstMyMY73HGzKDl5U3J8IDl+pTh7p/nyseXbvOb7qdcn7cF7Cgup6FkuMm7ucoJgy/1asQoqVknrgUpw9TXm/GjHyWvBwYsdhy8F5x8Mn98a5u8t80PH5VGHUiPO32zsQBzkbNcJeRgSbSRprJC1d1jrmlvvbnHht/xquTpruL5o+b103P1wrK4dPy8Nt0szgZ7rqR/I1ynpKkaE9+TeXRVLrPbAruvphwHXu6mbziCU/CdZKyopqJtmesoEHAcKn2EeZsiHDY+Rzy+rcbbnD6GLwKd9tvxBAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;solvedac grass2&quot;
        title=&quot;&quot;
        src=&quot;/static/4feef0e28d05b9ce1bab5f756bdac8e9/dd45a/solvedac_grass2.png&quot;
        srcset=&quot;/static/4feef0e28d05b9ce1bab5f756bdac8e9/948cf/solvedac_grass2.png 138w,
/static/4feef0e28d05b9ce1bab5f756bdac8e9/6b2ea/solvedac_grass2.png 275w,
/static/4feef0e28d05b9ce1bab5f756bdac8e9/dd45a/solvedac_grass2.png 550w,
/static/4feef0e28d05b9ce1bab5f756bdac8e9/d4c13/solvedac_grass2.png 825w,
/static/4feef0e28d05b9ce1bab5f756bdac8e9/99f37/solvedac_grass2.png 1100w,
/static/4feef0e28d05b9ce1bab5f756bdac8e9/3c2d4/solvedac_grass2.png 2092w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;solved.ac는 svg를 이용하여 각 네모칸을 그려주고 있었고&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/80e36aaa23ee40b2b5c895ea28cfe719/62b00/github_grass1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.46376811594203%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA/ElEQVR42k2NSW+CUACE+f9/ops99da0XnprrLS2TVTcl0R4LEYeoGwiPviKnjrJZGYyyYzm+wFxnHEqCqIoIs9z/qOua1RVXb06nYmcHeYmwXUypJ8gZcbhcCRPS8pCockgIMuPFKeSQ5ISpxlnVVOqirw4kTadUuo6WNUQbgM8ESGsBMeSOGKPJXI8N2EfxGh3HcHNu8lDx+a+YevDpdX1eNRdbpv89OMSNKdCCFzPZWKs0Dtj9O4CXV/T+5zz25vx/TVjZFho7aHkZeDTHkgu/qKvTb7wub/jbSoJwxDbtvG2HqulSb+/wTBMxuMNi8mM9XTOaLhkvnD4A9uDJPKH+4rBAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;github grass1&quot;
        title=&quot;&quot;
        src=&quot;/static/80e36aaa23ee40b2b5c895ea28cfe719/dd45a/github_grass1.png&quot;
        srcset=&quot;/static/80e36aaa23ee40b2b5c895ea28cfe719/948cf/github_grass1.png 138w,
/static/80e36aaa23ee40b2b5c895ea28cfe719/6b2ea/github_grass1.png 275w,
/static/80e36aaa23ee40b2b5c895ea28cfe719/dd45a/github_grass1.png 550w,
/static/80e36aaa23ee40b2b5c895ea28cfe719/d4c13/github_grass1.png 825w,
/static/80e36aaa23ee40b2b5c895ea28cfe719/99f37/github_grass1.png 1100w,
/static/80e36aaa23ee40b2b5c895ea28cfe719/62b00/github_grass1.png 2708w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/07090eefbedb8696587fa09105dfb39c/b6425/github_grass2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 5.797101449275362%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAASElEQVR42i3KOw6AIBBAQe9/SQsTNHwMC+4a0PCksJpmlj0KLmVSuQlihKy/hhfFF+XIFWsP1gfaBvbCmRS3ejY3T6yk+eXqfBGNTGhI2l/tAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;github grass2&quot;
        title=&quot;&quot;
        src=&quot;/static/07090eefbedb8696587fa09105dfb39c/dd45a/github_grass2.png&quot;
        srcset=&quot;/static/07090eefbedb8696587fa09105dfb39c/948cf/github_grass2.png 138w,
/static/07090eefbedb8696587fa09105dfb39c/6b2ea/github_grass2.png 275w,
/static/07090eefbedb8696587fa09105dfb39c/dd45a/github_grass2.png 550w,
/static/07090eefbedb8696587fa09105dfb39c/d4c13/github_grass2.png 825w,
/static/07090eefbedb8696587fa09105dfb39c/99f37/github_grass2.png 1100w,
/static/07090eefbedb8696587fa09105dfb39c/b6425/github_grass2.png 2336w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;github는 table태그를 사용해서 행과 열을 가지는 테이블 형태로 요소들을 그려주고 있었습니다.&lt;/p&gt;
&lt;p&gt;이 잔디 기능에서는 보통&lt;/p&gt;
&lt;p&gt;1 4 7 10&lt;br/&gt;
2 5 8 ...&lt;br/&gt;
3 6 9&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;이런 순서로 날짜가 진행됩니다. (1이 가장 오래된 날짜) 제가 생각하기로는 이 순서를 관리하기 위해서는 행과 열로 이루어진 table태그 보다는 각각 요소를 svg로 따로 넣어주는 편이 구현이 쉽겠다고 판단해서 solved.ac를 따라가기로 했습니다.&lt;/p&gt;
&lt;h3&gt;구현&lt;/h3&gt;
&lt;h4&gt;스트릭 정보 가공&lt;/h4&gt;
&lt;p&gt;서버에서 받아오는 스트릭 정보는 아래와 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/20e4f9efcda8fd19a3b95f421d3b5937/a4262/streakinfo.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.536231884057973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCElEQVR42lWQi46EIAxF/f/Pm82OOj5REGFUfCUmJnqXdpZNlqSBvk4vjZRUUEqhrmv0vUHTNGiVRiUkzHuCVB3n6lqg6zSmaeJ66fucc7DWwhiDbdtAJxq7AQRN05e3lIFlUSLPC373fc93HCfIshxlWXlgh+K3hsAEFKL5ANdhgfHKsjxHkhCw5SQ1SCkZRg1xHHOeoMMwoKoqBratxDiOPOg8T0SznWG04cIkSSA8gIDfz6f/Iikp/DcdHo+vvxoC0gqCYudmlH7Avu+IdrdhHEY/iZQJVmPtm79Ck2lf67qyolCzLAvHybTWvD9aw3EciO77RrDruvimE3yy4Af7+Ne/WIj/AD5Pvw6hTl5tAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;streakinfo&quot;
        title=&quot;&quot;
        src=&quot;/static/20e4f9efcda8fd19a3b95f421d3b5937/dd45a/streakinfo.png&quot;
        srcset=&quot;/static/20e4f9efcda8fd19a3b95f421d3b5937/948cf/streakinfo.png 138w,
/static/20e4f9efcda8fd19a3b95f421d3b5937/6b2ea/streakinfo.png 275w,
/static/20e4f9efcda8fd19a3b95f421d3b5937/dd45a/streakinfo.png 550w,
/static/20e4f9efcda8fd19a3b95f421d3b5937/a4262/streakinfo.png 814w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;해결한 문제의 번호와 문제를 해결한 날짜, 그리고 그 날에 해당 문제를 풀었는지 여부가 주어집니다.&lt;/p&gt;
&lt;p&gt;저는 먼저 이 객체 배열을 날짜를 키, 다른 부가 정보를 값으로 가지는 객체로 가공을 했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 스트릭 정보 생성. 스트릭의 날짜를 key값으로 가지는 객체를 생성한다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; streakInfo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; randomStreak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 result&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 maxStreak을 스트릭 컴포넌트의 props로 받아서 오늘 기준으로 maxStreak전날까지의 모든 날짜 정보를 가지는 객체 배열을 생성했습니다.
배열을 만들면서 위에서 만든 객체를 활용하여 그 날짜에 문제 해결 여부를 함께 담아줬습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// maxStreak 개수 만큼 스트릭을 생성한다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 스트릭 정보에는 날짜, x,y좌표, 그 날짜에 해결했는지 여부, 스트릭 프리즈 여부가 포함된다.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;setStreakList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;maxStreak&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * 오늘 날짜에서 i번째 이전 날짜를 반환한다.
   */&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; getPreviousDate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; today &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token comment&quot;&gt;// 오전 6시 기준으로 오늘이 나뉨. 오전 6시 이전이라면 어제를 오늘로 친다.&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;today&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getHours&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    today&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;today&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; previousDate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;today&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   previousDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;today&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; previousDate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// maxStreak전 날 부터 오늘 날짜 까지 데이터 생성&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; streakDate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;moment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getPreviousDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;maxStreak &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; formatDate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;moment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;streakDate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;YYYY-MM-DD&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// streakInfo 객체에 해당 값이 있고 해당 값의 grassInfo가 true라면 그 날 푼 것임&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; solved &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; streakInfo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;formatDate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; streakInfo&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;formatDate&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;grassInfo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 스트릭 프리즈&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isFreeze &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; solved &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; streakInfo&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;formatDate&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;problemId &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token literal-property property&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; formatDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;token literal-property property&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; line&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; line&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;token literal-property property&quot;&gt;solved&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; solved&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;token literal-property property&quot;&gt;isFreeze&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; isFreeze&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;하루의 기준은 자정이 아닌 오전 6시로 설정을 해주었고, solved.ac를 참고하여 스트릭 프리즈 기능도 함께 개발했기 때문에 그 날짜에 데이터는 있으나, 푼 문제의 번호가 0번이라면 스트릭 프리즈가 활성된 것으로 판단하였습니다.&lt;/p&gt;
&lt;p&gt;각 x좌표와 y좌표는&lt;/p&gt;
&lt;p&gt;1 4 7 10&lt;br/&gt;
2 5 8 ...&lt;br/&gt;
3 6 9&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;이 순서로 설정해줬습니다. (곱해주는 20은 잔디 한 칸의 크기와 공백을 고려한 크기 이고, line변수는 스트릭을 몇 줄 만들건지에 관한 변수입니다.)&lt;/p&gt;
&lt;p&gt;이렇게 설정을하면 맨 오른쪽 아래 잔디는 항상 오늘이 됩니다. 다른 사이트들의 스트릭 기능 처럼 매일 새로운 잔디가 순서대로 붙여지는 것이 아닌 맨 오른쪽 아래에 오늘의 잔디가 하나 생기면 그 전의 것들이 하나씩 밀려나는 방식으로 구현이 됩니다.&lt;/p&gt;
&lt;h4&gt;잔디 그리기&lt;/h4&gt;
&lt;p&gt;이제 위에서 가공한 정보를 바탕으로 잔디를 그려주기만 하면됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;svg height&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;height&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; width&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;width&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; overflow&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;auto&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streakList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Fragment key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;-fragment&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;StreakIcon streak&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Fragment&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;svg&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;StreakIcon 컴포넌트는 아래와 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;StreakIcon&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; streak &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;rect
   width&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;18&quot;&lt;/span&gt;
   height&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;18&quot;&lt;/span&gt;
   x&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   y&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   rx&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;5&quot;&lt;/span&gt;
   fill&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;solved &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isFreeze &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;var(--color-toggle)&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;var(--color-checked)&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;var(--color-unchecked)&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;각 네모 한 칸은 rect 태그를 사용하였고 좌표는 위에서 계산된 잔디 별 좌표를 사용했습니다. 또 풀었는지 안풀었는지, 스트릭 프리즈가 적용됐는지 여부에 따라 다른색이 적용되도록 하였습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/93ad7a969e6cad1eb17dcabb896b2a37/9cab2/streak1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.71014492753623%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA0klEQVR42qWQvWrDMBRG89x5iw5dM2Zqp059inRocGyMobL8G4NjRaqwIT7JlcmWDKUXDldwpSN9WvV9TxRFpGlKURTEcUyWZVRVRZIkjOPIX2rlvacsS+q6puu6IGqaJqy11hhjsNY+5GzPjG4iHzI608LlJnTOked5eJ0gQukik4tk9hhFoUu+f77YHl55O2wYfL8I74elC88lC7JHaUWjj3ym77zs13wk20UokZVSAZHfeRZTCHNn+XWeymii047BnpbI0zTRtm34t3me+W9dAczxxObGtMViAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;streak1&quot;
        title=&quot;&quot;
        src=&quot;/static/93ad7a969e6cad1eb17dcabb896b2a37/dd45a/streak1.png&quot;
        srcset=&quot;/static/93ad7a969e6cad1eb17dcabb896b2a37/948cf/streak1.png 138w,
/static/93ad7a969e6cad1eb17dcabb896b2a37/6b2ea/streak1.png 275w,
/static/93ad7a969e6cad1eb17dcabb896b2a37/dd45a/streak1.png 550w,
/static/93ad7a969e6cad1eb17dcabb896b2a37/d4c13/streak1.png 825w,
/static/93ad7a969e6cad1eb17dcabb896b2a37/9cab2/streak1.png 864w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;툴팁 기능&lt;/h4&gt;
&lt;p&gt;스트릭 기능은 대충 완성이 되었지만 해당 잔디가 어느 날짜의 잔디인지 알려면 마우스 오버 시 보여지는 툴팁이 필요합니다.&lt;/p&gt;
&lt;p&gt;처음에는 &lt;a href=&quot;https://www.npmjs.com/package/react-tooltip&quot;&gt;react-tooltip&lt;/a&gt; 패키지를 사용하려했으나 ... 적용이 안돼서 찾아보니 svg에는 적용이 안된다고 합니다. svg에 적용되는 툴팁 라이브러리가 있긴 했으나 썩 맘에 들지않아 툴팁도 직접 구현하게 되었습니다.&lt;/p&gt;
&lt;p&gt;svg요소 내부에 툴팁을 띄워야 했으므로 툴팁도 직접 그려줬습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;StreakTooltip&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; streak &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;g&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;rect
    x&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;85&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;550&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;88&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    y&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    width&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;85&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    height&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    rx&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    fill&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;#2a2a2a&quot;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;text x&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;85&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;550&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;98&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; y&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; fontSize&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; fill&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;text&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;g&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;마우스 오버된 스트릭을 props로 전달하면 해당 위치의 스트릭을 잘 계산하여 ... 적절한 위치에 툴팁을 띄워줬습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/18c399fe746f515c9d3444bf3c04aea7/ad12c/tooltip1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.71014492753623%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA80lEQVR42pVRy4qDQBD0K/ML+YA95BrIZW6bmNfuKV/gyR8I5L43ZRW8+BwVD75Qs9Fae4JiIATSUFR3Q1d3zUhRFEHTNJimCdd1oes6LMsSuWEYqKoKFF3XYRpUTzGEVJYlgiAA5xxJkgimJZT7vo80TZHnuUBRFIKbpnkQiq8+eOYCf71glmXiGhr2PG9k6hE7jjPCtm2xUFVVyLKM3X6L4/ob7LTE5rxE0IuOgnQl8XR4Kjb0wjCEoihgjGH9ucFi9YH5YYavC+sFHUhkYxgg+1S/wmC5bdv+IYH0luC3+kFc8Lvluq6FDbrwnXj2IfQp/5/WvKhxm9tuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;tooltip1&quot;
        title=&quot;&quot;
        src=&quot;/static/18c399fe746f515c9d3444bf3c04aea7/dd45a/tooltip1.png&quot;
        srcset=&quot;/static/18c399fe746f515c9d3444bf3c04aea7/948cf/tooltip1.png 138w,
/static/18c399fe746f515c9d3444bf3c04aea7/6b2ea/tooltip1.png 275w,
/static/18c399fe746f515c9d3444bf3c04aea7/dd45a/tooltip1.png 550w,
/static/18c399fe746f515c9d3444bf3c04aea7/d4c13/tooltip1.png 825w,
/static/18c399fe746f515c9d3444bf3c04aea7/ad12c/tooltip1.png 856w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/936e6bca32febbbcf598427df27fc8b2/f0551/tooltip2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.434782608695656%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCklEQVR42pWQvW+CUBTF/b9ZTdwZMW6dmtqNpOnkxNTBJtJI6gACIhTDV3kPlfqr7xmHfgztSX7JHW7OvecMyrLEdV08zyMMQxaLhZ7jONazlBKl0+nEXzTouo7tdkuSJBRFQdM02uRwONC2raaqqi/Uda2pqhJZ71ntXkiKGPqzoRCC9XpNmqY4joNlWYxGI4bDIYZhYNu2Pqh2VAJFFEWEUcgm2vDsP3GzNLldWhQivxiqhSzLmM/nTKdTJpMJ4/EY0zSZzWb6+5+G5yeiNx5X95iuwcPrHY2sLpGDIMD3fdT8vavj8Yg6ekXVoRBS0Mk9uzbDrz3eRQMf58h93+vu8jzXZr/xH30C/xa89gAbvQwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;tooltip2&quot;
        title=&quot;&quot;
        src=&quot;/static/936e6bca32febbbcf598427df27fc8b2/dd45a/tooltip2.png&quot;
        srcset=&quot;/static/936e6bca32febbbcf598427df27fc8b2/948cf/tooltip2.png 138w,
/static/936e6bca32febbbcf598427df27fc8b2/6b2ea/tooltip2.png 275w,
/static/936e6bca32febbbcf598427df27fc8b2/dd45a/tooltip2.png 550w,
/static/936e6bca32febbbcf598427df27fc8b2/d4c13/tooltip2.png 825w,
/static/936e6bca32febbbcf598427df27fc8b2/f0551/tooltip2.png 862w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런식으로 오른쪽에 공간이 없다면 왼쪽에 그려주고, 그 외에는 모두 오른쪽에 그려주도록 계산한 내용입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ea38b29b9de26d3a8ca57ec3d3eeae74/1e088/hide_tooltip.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.15942028985507%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAw0lEQVR42qWRSwqEMBBEc/+19/ACHkEQxYW4iRr//yj4WWgNHVEcmYGBCTyoJt1Fp8KyLINt2/B9H1EUwXEccM4RBAFc18WyLPjl7PuuYNM0oSgKVFWFpmlQliXqulY6z3O0bQspJfq+v+i67k3T/TzPh+EwDGqzOI4vhBCKp77XBM2laQrLsqBpGgzDABvHEUmSgJ5+b37yNDsNadbzPOi6DtM0D8MwDFUDrU1QDJ/0t3pdV2zbprJkFDplRvxzzk95Adt4xQrt/hPHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;hide tooltip&quot;
        title=&quot;&quot;
        src=&quot;/static/ea38b29b9de26d3a8ca57ec3d3eeae74/dd45a/hide_tooltip.png&quot;
        srcset=&quot;/static/ea38b29b9de26d3a8ca57ec3d3eeae74/948cf/hide_tooltip.png 138w,
/static/ea38b29b9de26d3a8ca57ec3d3eeae74/6b2ea/hide_tooltip.png 275w,
/static/ea38b29b9de26d3a8ca57ec3d3eeae74/dd45a/hide_tooltip.png 550w,
/static/ea38b29b9de26d3a8ca57ec3d3eeae74/d4c13/hide_tooltip.png 825w,
/static/ea38b29b9de26d3a8ca57ec3d3eeae74/1e088/hide_tooltip.png 840w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;하지만 이렇게 하니.. 스크롤을 넘기면 보여지는 부분에서는 오른쪽에 공간이 없음에도 그대로 오른쪽에 그려지도록 되고 있었습니다.
이부분은 개선이 필요해보이는 사항이나 어떻게 개선할지 아이디어도 떠오르지 않았고 스크롤을 넘기면 볼 수 있으므로 일단은 그냥 뒀습니다ㅜㅜ&lt;/p&gt;
&lt;p&gt;어떤 스트릭에 마우스 오버를 했는지 판단하기 위한 코드도 추가를 했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;svg height&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;height&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; width&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;width&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; overflow&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;auto&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streakList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Fragment key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;-fragment&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* 마우스 오버했는지 여부, 마우스를 오버하면 해당 스트릭의 인덱스를 저장해둔다. */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;StreakIcon
    isHovering&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;hoveringStreakIdx &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    onMouseEnter&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token function&quot;&gt;setHoveringStreakIdx&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    onMouseOut&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token function&quot;&gt;setHoveringStreakIdx&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    streak&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Fragment&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* 툴팁 */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;hoveringStreakIdx &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;StreakTooltip streak&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streakList&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;hoveringStreakIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;svg&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;StreakIcon&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; isHovering&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; streak&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; onMouseEnter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; onMouseOut &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// 마우스 enter, out시 이벤트를 전달하고 마우스 오버 여부에 따라 윤곽선을 그려준다.&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;rect
   width&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;18&quot;&lt;/span&gt;
   height&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;18&quot;&lt;/span&gt;
   x&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   y&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   rx&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;5&quot;&lt;/span&gt;
   fill&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;solved &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;streak&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isFreeze &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;var(--color-toggle)&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;var(--color-checked)&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;var(--color-unchecked)&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   strokeWidth&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;2.5&quot;&lt;/span&gt;
   stroke&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isHovering &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;#000000&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;transparent&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   onMouseEnter&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onMouseEnter&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   onMouseOut&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onMouseOut&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f444864352f22cc82ad03c0a22f338f8/33e10/tada.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.434782608695656%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABBklEQVR42nVQy0rDUBTMZ7sKWWRXF7rwAxKIi2xdBkQQVJJ1EbmJktfNQ9KS501akrHnCgVrOzDMfRyGmaNUVQXGGMIwRJqm8H0fSZKAc44gCDCOIwjLsvzjOSht2x4NiqKQ5zzPUZYloihCXdcYhgHTNP0xmucZYhTYDXtUXYmi5cD+YNh1nUyWZZk0JdKdjOktjmOpruvCNE1YlgXDMGDbNjzXgx8yPDAL9+93SLfRb0JKQkakp6RVUHLHcaBpGnRdh6qqWF2v8Pr8hpfgETfrK5jrW3xtPqD0fX9MR/VO2TSNVJqj6kQhhNSmbsG3MbzvJ0SbT2B3qEwftDNKcmnRl3Bu/geLLru/57WSqQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;tada&quot;
        title=&quot;&quot;
        src=&quot;/static/f444864352f22cc82ad03c0a22f338f8/dd45a/tada.png&quot;
        srcset=&quot;/static/f444864352f22cc82ad03c0a22f338f8/948cf/tada.png 138w,
/static/f444864352f22cc82ad03c0a22f338f8/6b2ea/tada.png 275w,
/static/f444864352f22cc82ad03c0a22f338f8/dd45a/tada.png 550w,
/static/f444864352f22cc82ad03c0a22f338f8/d4c13/tada.png 825w,
/static/f444864352f22cc82ad03c0a22f338f8/33e10/tada.png 844w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 해서 자체 잔디심기 기능을 완성했습니다!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[세션 기반 인증과 토큰 기반 인증]]></title><description><![CDATA[개인 프로젝트를 진행하며 로그인 기능을 구현했던 과정을 기록해보려고 합니다. 백엔드 개발자와 협의하여 로그인은 JWT…]]></description><link>https://klloo.github.io/session-jwt/</link><guid isPermaLink="false">https://klloo.github.io/session-jwt/</guid><pubDate>Mon, 04 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;개인 프로젝트를 진행하며 로그인 기능을 구현했던 과정을 기록해보려고 합니다.&lt;/p&gt;
&lt;p&gt;백엔드 개발자와 협의하여 로그인은 JWT를 사용하여 구성하기로 했는데 토큰 방식의 로그인에 개념은 어렴풋이 알고 있었지만 막상 바로 적용하려 하니 어려움이 있어서 먼저 해당 개념에 대해 공부를 했습니다.&lt;/p&gt;
&lt;h2&gt;로그인 방식&lt;/h2&gt;
&lt;p&gt;로그인을 구성하는 방식은 크게 쿠키와 세션을 사용하는 방식과 토큰 기반의 인증 방식으로 나뉩니다.&lt;/p&gt;
&lt;h3&gt;세션 기반 인증&lt;/h3&gt;
&lt;p&gt;세션 기반 인증 방식을 이해하기 위해서는 먼저 쿠키와 세션에 대해 알아야 합니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;쿠키&lt;/strong&gt;란 서버에서 사용자의 웹브라우저에 저장하는 작은 데이터 조각입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/20ef8755197c895185c2fd7c405fe9b0/29b94/cookie.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.15942028985506%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHcVoLAD//EABkQAAEFAAAAAAAAAAAAAAAAABABESIxQf/aAAgBAQABBQLXC3If/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAABAxAf/aAAgBAQAGPwIuqP8A/8QAGxAAAgIDAQAAAAAAAAAAAAAAAREhMQAQYXH/2gAIAQEAAT8hPcLEVXo0ykBV4ISjr//aAAwDAQACAAMAAAAQ88//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAACAgIDAQAAAAAAAAAAAAABEQAhMUFRgaHw/9oACAEBAAE/EDIFro+qFNCA5yeQYgPJYE9cQHWnuu4GrzP/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cookie&quot;
        title=&quot;&quot;
        src=&quot;/static/20ef8755197c895185c2fd7c405fe9b0/d7854/cookie.jpg&quot;
        srcset=&quot;/static/20ef8755197c895185c2fd7c405fe9b0/a81b0/cookie.jpg 138w,
/static/20ef8755197c895185c2fd7c405fe9b0/35f54/cookie.jpg 275w,
/static/20ef8755197c895185c2fd7c405fe9b0/d7854/cookie.jpg 550w,
/static/20ef8755197c895185c2fd7c405fe9b0/0ea46/cookie.jpg 825w,
/static/20ef8755197c895185c2fd7c405fe9b0/29b94/cookie.jpg 897w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;사용자가 웹사이트에 접근하여 HTTP 요청을 하면 서버는 쿠키를 생성하고 정보를 담아 HTTP 응답을 돌려줄 때, 같이 클라이언트에게 돌려줍니다.
넘겨받은 쿠키는 클라이언트가 가지고 있다가 다시 서버에 요청할 때 요청과 함께 쿠키를 전송합니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;세션&lt;/strong&gt;이란 일정 시간 동안 같은 사용자로부터 들어오는 요구들을 하나의 상태로 보고, 그 상태를 유지시키는 기술입니다.
여기서 일정 시간이란 클라이이언트가 웹서버에 연결된 순간부터 웹 브라우저를 닫아 서버와의 HTTP 통신을 끝낼 때 까지의 기간을 의미합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8942b4f93242e9f2ba653f1e3df769a8/bb3bf/session.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.84057971014492%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdxUixB//8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQERIxQf/aAAgBAQABBQLtw0Yi1//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAAMBAAAAAAAAAAAAAAAAAAAQMUH/2gAIAQEABj8CNVKv/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARIYFx/9oACAEBAAE/IV0W8mXeKg2DVRFdE9IKBP/aAAwDAQACAAMAAAAQUM//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAACAgMBAQAAAAAAAAAAAAABEQAhMUFhcdH/2gAIAQEAAT8QNaKFBYjFOgW+Jdhg0ciUoCEhrsCePJbBKCZzP//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;session&quot;
        title=&quot;&quot;
        src=&quot;/static/8942b4f93242e9f2ba653f1e3df769a8/d7854/session.jpg&quot;
        srcset=&quot;/static/8942b4f93242e9f2ba653f1e3df769a8/a81b0/session.jpg 138w,
/static/8942b4f93242e9f2ba653f1e3df769a8/35f54/session.jpg 275w,
/static/8942b4f93242e9f2ba653f1e3df769a8/d7854/session.jpg 550w,
/static/8942b4f93242e9f2ba653f1e3df769a8/0ea46/session.jpg 825w,
/static/8942b4f93242e9f2ba653f1e3df769a8/ddced/session.jpg 1100w,
/static/8942b4f93242e9f2ba653f1e3df769a8/bb3bf/session.jpg 1132w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;클라이언트가 서버에 요청을 보내면 서버에서는 요청헤더(쿠키)를 확인하고 세션 ID가 있는지 확인합니다.
요청에 세션 ID가 없다면 서버에서는 세션 객체를 생성하여 정보를 저장한 뒤 응답을 보낼 때 쿠키에 세션 ID를 담아서 보냅니다.
클라이언트는 응답에서 받은 세션 쿠키(세션 ID 값)를 저장해두고, 매번 해당 서버에 요청을 보낼 때마다 세션 쿠키를 함께 보내서 자신이 누구인지 인증하고 세션 쿠키는 브라우저가 종료되면 삭제됩니다.&lt;/p&gt;
&lt;h4&gt;그래서 세션 기반 인증 방식이란?&lt;/h4&gt;
&lt;p&gt;사용자의 인증 정보가 서버의 세션 저장소에 저장되는 방식입니다.&lt;/p&gt;
&lt;p&gt;사용자가 로그인을 하면, 해당 인증 정보를 서버의 세션 저장소에 저장하고, 사용자에게는 세션ID를 발급하여 브라우저에 쿠키 형태로 저장합니다.&lt;/p&gt;
&lt;p&gt;인증 절차를 마친 후 클라이언트는 요청마다 Cookie 헤더에 세션ID를 서버로 전송합니다. 그러면 서버가 세션ID에 해당하는 세션 정보가 세션 저장소에 존재하는지 확인하여 해당 클라이언트를 인증된 클라이언트로 판단하는 것입니다.&lt;/p&gt;
&lt;h4&gt;장단점은?&lt;/h4&gt;
&lt;p&gt;서버에서 클라이언트의 상태를 유지하고 있으므로, 사용자의 로그인 여부 확인이 용이하고, 클라이언트가 임의로 정보를 변경시키더라도 서버에서 클라이언트의 상태 정보를 가지고 있으므로 상대적으로 안전하다는 장점이 있습니다.&lt;/p&gt;
&lt;p&gt;하지만 서버에서 클라이언트의 상태를 모두 유지하고 있어야 하므로, 클라이언트 수에 따른 메모리나 DB에 부하가 심하다는 단점이 있습니다. 세션 용 DB를 사용하는 방법도 있지만 추후 서버를 확장하는 상황에서 서버간에 세션을 공유하는 방식도 복잡해집니다.
또한 웹 브라우저에서 세션 관리에 사용하는 쿠키는 단일 도메인에서만 작동하도록 설계되어 CORS 방식을 사용할 때 쿠키 및 세션 관리가 어려워진다는 단점도 있습니다.&lt;/p&gt;
&lt;h3&gt;토큰 기반 인증&lt;/h3&gt;
&lt;p&gt;토큰 기반 인증은 인증 정보를 클라이언트가 직접 가지고 있는 방식입니다. 이때 인증 정보는 토큰의 형태로 브라우저의 로컬 스토리지 또는 쿠키에 저장됩니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a95575ea0a1a0bd12da6321edfcbcad5/67d3c/token.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.21739130434783%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdyQsD//xAAYEAEAAwEAAAAAAAAAAAAAAAABABAxEf/aAAgBAQABBQJ02JOV/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAABAxQf/aAAgBAQAGPwI1Uq//xAAbEAACAwADAAAAAAAAAAAAAAABMQARQRAhYf/aAAgBAQABPyEuwsrJ6JvFhZQU1Ap//9oADAMBAAIAAwAAABAzD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB4QAQADAAAHAAAAAAAAAAAAAAEAESEQMUFRYbHB/9oACAEBAAE/EE7BNHY3D4A+8FZoGlHuZtcrnBQLWurP/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;token&quot;
        title=&quot;&quot;
        src=&quot;/static/a95575ea0a1a0bd12da6321edfcbcad5/d7854/token.jpg&quot;
        srcset=&quot;/static/a95575ea0a1a0bd12da6321edfcbcad5/a81b0/token.jpg 138w,
/static/a95575ea0a1a0bd12da6321edfcbcad5/35f54/token.jpg 275w,
/static/a95575ea0a1a0bd12da6321edfcbcad5/d7854/token.jpg 550w,
/static/a95575ea0a1a0bd12da6321edfcbcad5/0ea46/token.jpg 825w,
/static/a95575ea0a1a0bd12da6321edfcbcad5/ddced/token.jpg 1100w,
/static/a95575ea0a1a0bd12da6321edfcbcad5/67d3c/token.jpg 1131w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;사용자가 아이디와 비밀번호를 입력하고 서버로 요청을 보내면 서버는 db에서 회원을 조회하고 등록된 사용자라면 토큰을 생성하여 클라이언트에 토큰과 함께 응답을 보냅니다.
응답이 성공적으로 왔다면 클라이언트는 이후 인증이 필요한 모든 요청에 해당 토큰을 Authorization헤더에 실어 보냅니다.
그러면 서버는 요청 헤더로 전달받은 토큰을 검증하고 권한이 있는 사용자라고 판단하면 요청된 데이터를 응답해 주는 것입니다.&lt;/p&gt;
&lt;p&gt;하지만 이 때 한가지 주의 사항이 있습니다. 토큰은 발급 시 유효기간 동안 되돌릴 수 없고 탈취당할 경우 토큰에는 인증 정보가 모두 담겨있으므로 위험합니다.
이를 해결하기 위해 서버에서는 Access token과 Refresh token 두개의 토큰을 발행 합니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Access Token&lt;/strong&gt;: 클라이언트 쪽에서 요청 헤더에 담아 보내는 토큰 입니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Refresh Token&lt;/strong&gt;: Access Token이 만료되거나 잘못된 토큰일 경우 Refresh Token을 사용해 유저를 검증합니다. 만약 Refresh Token을 검증하여 인증된 유저일 경우 Access Token을 재발행 해줍니다.&lt;/p&gt;
&lt;p&gt;결론적으로 Access Token의 유효기간을 짧게 설정하고 Refresh Token의 유효기간을 길게 설정하여 Access Token 만료시 Refresh Token을 검증하여 Access Token을 재발행 해주는 것으로 보안적으로 안전하게 유저 인증을 관리 할 수 있습니다.&lt;/p&gt;
&lt;h4&gt;장단점은?&lt;/h4&gt;
&lt;p&gt;클라이언트가 토큰 정보를 갖고 있기 때문에 서버를 확장하는데 부담이 적고, 클라이언트 세션 관리에 대한 서버의 메모리 부담을 줄일 수 있다는 장점이 있습니다.&lt;/p&gt;
&lt;p&gt;하지만 인증 정보가 담긴 토큰이 탈취될 수도 있기 때문에 보안에 취약하며 토큰에 부가적인 정보가 담겨 있기에 서버-클라이언트 간 주고 받는 데이터가 세션 기반의 인증보다 많다는 단점이 있습니다.&lt;/p&gt;
&lt;h4&gt;그럼 JWT란?&lt;/h4&gt;
&lt;p&gt;JWT(Json Web Token)는 말그대로 웹에서 사용되는 JSON 형식의 토큰에 대한 표준 규격입니다.&lt;/p&gt;
&lt;p&gt;하나의 JWT 토큰은 헤더(header)와 페이로드(payload), 서명(signature) 이렇게 세 부분으로 이루어지며 각 구역이 . 기호로 구분됩니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;헤더&gt;.&amp;lt;페이로드&gt;.&amp;lt;서명&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;헤더에는 토큰의 유형과 서명 알고리즘에 명시되고, 페이로드에는 소위 claim이라고도 불리는 사용자의 인증/인가 정보가, 서명에는 헤더와 페이로드가 비밀키로 서명되어 저장됩니다.&lt;/p&gt;
&lt;p&gt;JWT 토큰은 네트워크로 전송되야 하기 때문에 공간을 적게 차지하는 것이 유리합니다. 그래서 JSON 형식으로 데이터를 저장할 때 키를 3글자로 줄이는 독특한 관행이 있습니다.&lt;/p&gt;
&lt;h2&gt;토큰의 저장 위치&lt;/h2&gt;
&lt;p&gt;토큰을 기반으로 구성한 로그인 방식에서 많은 고민이 필요한 부분 중 하나는 토큰을 안전하게 저장하는 위치인 것 같습니다.&lt;/p&gt;
&lt;p&gt;처음에는 이 부분이 막막해서 구글링을 열심히 해봤는데 결국 제가 내린 결론은 &quot;정답은 없다&quot; 였습니다. 검색 결과로 나온 방법들마다 구현 방식이 조금씩 달랐고, 100% 안전한 방식은 없는 것 같았습니다.&lt;/p&gt;
&lt;p&gt;그래도 일반적으로 언급되고 있는 몇 가지 중요한 내용이 있어서 그 부분에 대해서 살펴봤습니다.&lt;/p&gt;
&lt;p&gt;토큰의 저장 위치를 고민해야하는 이유는 바로 보안 때문입니다. 웹 어플리케이션 보안 취약점 중 유저 인증에서 보편적으로 이용되는 취약점은 XSS와 CSRF 공격 두 가지가 있습니다.&lt;/p&gt;
&lt;h3&gt;XSS(Cross-Site Scripting) 공격&lt;/h3&gt;
&lt;p&gt;웹사이트에서 의도치 않은 스크립트를 넣어서 실행시키는 기법을 말합니다. 보통 게시판에 악성 스크립트가 담긴 글을 올리는 형태로 이루어지며, 스크립트가 포함된 글을 열어보게 되면 브라우저에서 원치 않는 스크립트가 실행되는 방식입니다.&lt;/p&gt;
&lt;p&gt;이것을 통해 사용자의 쿠키 정보를 탈취하거나, 사용자 비밀번호를 변경하는 API를 호출하는 행위를 할 수 있습니다.&lt;/p&gt;
&lt;h3&gt;CSRF(Cross-Site Request Forgery) 공격&lt;/h3&gt;
&lt;p&gt;공격자가 다른 사이트에서 API를 요청해 실행하는 공격입니다.
API를 요청할 수 있는 클라이언트 도메인이 누구인지 서버에서 통제하고 있지 않다면 CSRF가 가능한데, 이때 공격자가 클라이언트에 저장된 사용자 인증정보를 서버에 보낼 수 있다면, 제대로 로그인한 것처럼 사용자의 정보를 변경하거나 사용자만 가능한 액션들을 수행할 수 있습니다.&lt;/p&gt;
&lt;p&gt;예를 들어 CSRF에 취약한 은행 사이트가 있다면 로그인한 척 계좌 비밀번호를 바꾸거나 송금을 보낼 수 있는 것입니다.&lt;/p&gt;
&lt;h3&gt;브라우저 저장소 종류 별 보안 이슈&lt;/h3&gt;
&lt;p&gt;클라이언트에서 위 프로세스들을 따라 Access Token 같은 인증정보를 저장할 때 이용하는 저장소는 보통 localStorage나 쿠키입니다.&lt;/p&gt;
&lt;p&gt;둘 다 브라우저에 저장하는 방식으로 페이지를 새로고침 하거나 창을 닫고 다시 접속할 때도 로그인 정보가 이어지도록하기 위해서입니다. 하지만 두 방식은 XSS와 CSRF 공격에 취약할 수 있습니다.&lt;/p&gt;
&lt;h4&gt;localStorage 저장 방식&lt;/h4&gt;
&lt;p&gt;브라우저 저장소에 저장하는 방식으로 자바스크립트 내 글로벌 변수로 읽기 및 쓰기 접근이 가능합니다.&lt;/p&gt;
&lt;p&gt;😈 자바스크립트로 접근이 가능하기 때문에 Refresh Token 또는 Access Token을 저장해두면 XSS 취약점을 통해 그 안에 담긴 값을 이용해 API 요청을 위조할 수 있습니다.&lt;/p&gt;
&lt;h4&gt;쿠키 저장 방식&lt;/h4&gt;
&lt;p&gt;브라우저에 쿠키로 저장되고 클라이언트가 HTTP 요청을 보낼 때마다 자동으로 쿠키가 서버에 전송됩니다. 자바스크립트 내 글로벌 변수로 읽기 및 쓰기 접근이 가능합니다.&lt;/p&gt;
&lt;p&gt;😈 localStorage 저장 방식과 마찬가지로 Refresh Token, Access Token을 쿠키에 저장해두면 XSS 취약점이 있을 때 담긴 값들을 불러오거나, API 콜을 보내면 쿠키에 담긴 값들이 함께 전송되어 로그인한 척 공격을 수행할 수 있게 됩니다.&lt;/p&gt;
&lt;p&gt;😈 쿠키에 Access Token을 저장해 인증에 이용하는 구조에 CSRF 취약점이 있다면 인증 정보가 쿠키에 담겨 서버로 보내지며 공격자는 유저 권한으로 정보를 가져올 수 있습니다.&lt;/p&gt;
&lt;p&gt;😇 쿠키에 Refresh Token만 저장하고 새로운 Access Token을 받아와 인증에 이용하는 구조에서는 CSRF 취약점 공격을 방어할 수 있습니다.
CSRF는 정상 사용자가 img 태그를 보거나 link를 클릭하도록 유도하여 사용자 대신 request를 보내는 방법입니다. Refresh Token은 쿠키로 저장되어 있기 때문에 CSRF를 통해 Access Token을 사용자 대신 요청할 순 있지만 response는 사용자가 받기 때문에 공격자는 이 Access Token을 얻지 못하기 때문입니다.&lt;/p&gt;
&lt;h4&gt;secure httpOnly 쿠키 저장 방식&lt;/h4&gt;
&lt;p&gt;브라우저에 쿠키로 저장되는 건 같지만, 자바스크립트 내에서 접근이 불가능합니다. secure을 적용하면 https 접속에서만 동작하게 됩니다.&lt;/p&gt;
&lt;p&gt;😇 httpOnly 쿠키 방식으로 저장된 정보는 자바스크립트 내에서 접근이 불가능하므로 XSS 취약점 공격으로 담긴 값을 불러올 수 없습니다.&lt;/p&gt;
&lt;p&gt;😇 httpOnly 쿠키 역시 Refresh Token만 저장하고 Access Token을 받아와 인증에 이용하는 구조로 CSRF 공격 방어가 가능합니다.&lt;/p&gt;
&lt;p&gt;😈 쿠키 저장 방식과 같은 이유로 Access Token은 저장하면 안됩니다.&lt;/p&gt;
&lt;p&gt;😈 httpOnly 쿠키에 담긴 값에 접근할 수는 없지만 XSS 취약점을 노려 API 콜을 요청하면 httpOnly 쿠키에 담긴 값들도 함께 보내져 유저인 척 정보를 빼오거나 액션을 수행할 수 있습니다.&lt;/p&gt;
&lt;h4&gt;결론&lt;/h4&gt;
&lt;p&gt;어떤 저장 방식을 택해도 XSS 취약점이 있다면 보안 이슈가 존재하게 됩니다. 그러므로 유저 정보 저장 방식을 바꾸는 것만으로는 방어할 수 없고, 클라이언트와 서버에서 추가적으로 XSS 방어 처리를 하는 것이 필수입니다.&lt;/p&gt;
&lt;p&gt;그래도 최선의 방법을 찾아보자면 Refresh Token만을 secure httpOnly 쿠키에 저장해 CSRF 공격을 방어하고 Access Token은 웹 어플리케이션 내 로컬 변수에 저장하여 API를 요청할 때 Authorization 헤더에 넣어 보내주는 것이 좋겠습니다. 하지만 XSS 취약점을 이용한 API 요청 공격은 무방비하니 XSS 자체를 막기 위해 클라이언트와 서버에서 추가적으로 방어할 필요가 있습니다.&lt;/p&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Reference&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://hoime.tistory.com/93&quot;&gt;https://hoime.tistory.com/93&lt;/a&gt; &lt;br/&gt;
&lt;a href=&quot;https://hudi.blog/session-based-auth-vs-token-based-auth/&quot;&gt;https://hudi.blog/session-based-auth-vs-token-based-auth/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://millo-l.github.io/JWT-%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D%EB%B0%A9%EC%8B%9D/&quot;&gt;https://millo-l.github.io/JWT-기반-인증방식/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://velog.io/@yaytomato/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%90%EC%84%9C-%EC%95%88%EC%A0%84%ED%95%98%EA%B2%8C-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0#-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%A0%80%EC%9E%A5%EC%86%8C-%EC%A2%85%EB%A5%98%EC%99%80-%EB%B3%B4%EC%95%88-%EC%9D%B4%EC%8A%88&quot;&gt;https://velog.io/@yaytomato/프론트에서-안전하게-로그인-처리하기#-브라우저-저장소-종류와-보안-이슈&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://ssocoit.tistory.com/235&quot;&gt;https://ssocoit.tistory.com/235&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[첫 사이드 프로젝트 진행기]]></title><description><![CDATA[…]]></description><link>https://klloo.github.io/alteration-detective/</link><guid isPermaLink="false">https://klloo.github.io/alteration-detective/</guid><pubDate>Mon, 31 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;구구절절 프로젝트 개요 및 기간&lt;/h3&gt;
&lt;p&gt;수선탐정 프로젝트는 근처의 수선집을 찾아주는 웹 프로젝트 입니다. 별건 아니고 그냥 지도앱인데, 이런 저런 기능은 덜어내고 수선집 조회에만 특화된 지도 앱이라고 보시면 될 것 같습니다.&lt;/p&gt;
&lt;p&gt;프로젝트를 시작한 건 웹 퍼블리셔로 일하던 친구가 학습 목적으로 이런 프로젝트를 진행하려고 하는데 혹시 같이 하지 않겠냐고 제안해줘서 시작하게 되었습니다. 그렇게 해서 기획자 2 퍼블리셔 2 개발자 1 (나) 이렇게 총 5명이 진행을 하게 되었습니다.&lt;/p&gt;
&lt;p&gt;그런데 프로젝트 초기에 친구가 개인 사정으로 나가게 되고, 저와 다른 분들 간의 연결 고리 역할을 해주던 친구가 없어지니 프로젝트는 자연스레 흐지부지 되었습니다. 이 때가 아무 기능 구현 없이 일단 대충 화면 틀만 잡아놓은 상태였습니다.&lt;/p&gt;
&lt;p&gt;하지만 저는 공부를 해야했던 입장이었기 때문에 논의가 필요했던 모호한 기능들은 다 덜어버리고 최소한의 기능만으로라도 구현해보면 좋을 것 같아 진행해보게 되었습니다.&lt;/p&gt;
&lt;p&gt;친구가 나간 이후 슬퍼하며 방황하고….하지는 않았지만 흐지부지 된 이후 다시 맘 먹고 진행하기까지의 공백이 꽤 길었는데 이 기간을 제외하고 순수하게 개발을 진행한 기간은 대략 2주 정도 되는 것 같습니다.&lt;/p&gt;
&lt;h3&gt;기술 스택&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fa26a7e2739ca48d335d3373c30b7f77/23296/skills.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.46376811594205%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACR0lEQVR42q1Tu24TURD1t9GBREGDREPB51BGCCFR8SjdgkRrGmKTEIJiR5aJiV/7sL3v5/XuHubM2hCUlFzp6s7Mzpx5nNlOXdfwfR8my5DLtWwbk8kESRyjqSqYskQsMn3SNEVRFKpPp9NWThL4UaQ2ng4DtoGPL/MrOFGoRtt1cfTyFZ4fvcDrt++xWq0QhiFOTk4UqJQYYwz8IEC42QCej0Dk3W7XAoaS4cN8hKltocgLDC9HuP/wEe49eYwHz55icT3XSnq9HgaDAWazGTYC9PX0FP3eZzSzJSLBUEBmo8JT7BrEBkjKWqqOtaqyNFiv19ry4VwMR7AdV+WmafSl7y3AsGjwS+IsGUdi1F3tBPQ8T+W6rtDtdtE/Pt7r9b+AnAX751uWBerKoKl3QkaBPM918NvtVitkAG0kJxMC25hSLwFZbYfoDOBcbGH4YjjE2fdzLBZLOI6D5XKpwUx6rT4WxuMxvsn8pldXsCwL8/lcfZRlotP5MA/qrIKt0YlV3WzZ1I12kstsq/1MGcfvbP/PDCsJzNI2i+8F+NT/iHfdN7gcXupOWu4GliT2nSmMjLbxbUSjPhaWgySJ72Y5NwnKStlAVmbwk5bZrayIK2NZ+AGaaNlWFbpIf55JojVSWak7AR2zFoZDpKKTjMPhzh1a9rwMP84tRLIGcVax39trQwbZvzGVGCtljx95aXflzyFxbbURRsOV6LHK9KnkFyUG3w4HygqZIQyD/fv3kjCSk0hblOM4EtISffn/3vRRlvGfz29+kSkxXCNDWwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;skills&quot;
        title=&quot;&quot;
        src=&quot;/static/fa26a7e2739ca48d335d3373c30b7f77/dd45a/skills.png&quot;
        srcset=&quot;/static/fa26a7e2739ca48d335d3373c30b7f77/948cf/skills.png 138w,
/static/fa26a7e2739ca48d335d3373c30b7f77/6b2ea/skills.png 275w,
/static/fa26a7e2739ca48d335d3373c30b7f77/dd45a/skills.png 550w,
/static/fa26a7e2739ca48d335d3373c30b7f77/23296/skills.png 675w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;백엔드 프레임워크로는 Express를 사용하였습니다. Express는 라우팅과 미들웨어 기반인 경량형 Node.js 웹 애플리케이션 프레임워크입니다. 간단한 프로젝트를 진행할 것이었으므로 가볍게 웹 서버를 구현할 수 있는 점을 고려했고, 프론트와 백 모두 같은 언어로 개발하면 생산성 측면에서도 큰 장점이 될 것 같아 Express를 선택하게 되었습니다.&lt;/p&gt;
&lt;p&gt;데이터베이스는 mysql을 사용했습니다. 저에게는 raw쿼리가 더 익숙했고 orm으로는 복잡한 쿼리를 작성하는데 어려웠던 기억이 있어서 orm은 사용하지 않고 raw쿼리와 knex.js라는 쿼리빌더 라이브러리를 사용했습니다. 그렇기 때문에 프로젝트 인원들이 로컬에서 각각 데이터베이스를 관리하는데 어려움이 있을 것 같아 heroku에 데이터베이스를 생성하고 하나의 데이터베이스를 사용할 수 있도록 했습니다. heroku는 PaaS(Platform-as-a-service) 클라우드 서비스로 heroku를 사용하면 간단하게 프로젝트를 배포할 수 있습니다.&lt;/p&gt;
&lt;p&gt;프론트엔드 프레임워크로는 vue를 사용했고 상태관리 라이브러리로는 vuex를 사용했습니다. vue 와 자바스크립트 학습이 프로젝트의 목표 중 하나였으므로 vue를 사용하게 되었습니다. ui 라이브러리로는 element ui를 사용했습니다. element ui는 깔끔하고 다양한 컴포넌트를 제공해주고 있지만 생태계가 풍부하지는 못하다는 단점이 있습니다. 하지만 공식 문서가 잘 되어있어서 크게 상관은 없었던 것 같습니다.&lt;/p&gt;
&lt;p&gt;소스는 깃허브로 관리했고 notion과 swit이라는 협업툴을 사용했습니다. 주로 개발자간에는 노션을 사용하여 일정과 개발 관련된 진행 사항을 공유했고 기획자와 개발자간에는 swit으로 의사소통을 하였습니다. swit은 얼마 사용하지 못하였지만 노션은 혼자서라도 사용하며 일정을 관리했습니다.&lt;/p&gt;
&lt;h3&gt;디렉토리 구조&lt;/h3&gt;
&lt;h4&gt;backend&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/94746f1283a86516bbed89d59b073e9c/c655d/backend.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.73913043478261%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABAUlEQVR42qWTXW6DMBCEcxIQxjYGAiUhLTY/Aafk/keaerfqW1Op+GElWyt/mtnxntI0xW9VliX8MmBxPepwFrlEaQyyLMOrN1SnV41CGzhr0bUNhMihlIYpCCiOAbUuYD967NuItm35XgWlh4FKa1jr4P0n7vcVRVAnpYpR+A3c9ye67sIgsh1l+XrtMY4TmqbF+dywysOhEPB2e8cw2DDDN1YZBSR7pM77B8N/ko6e4bZ5GFNyIASOmiHZXdeNLUcDyZ61I+Z5ZoV0jwLWtcI0OYYSJA+rR3UolCRJwzdRWJYxWPZwznFRSFLK0E/+r7CqJANpU7z3PE+yLsTflr8A+SOM+RJcSW4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;backend&quot;
        title=&quot;&quot;
        src=&quot;/static/94746f1283a86516bbed89d59b073e9c/dd45a/backend.png&quot;
        srcset=&quot;/static/94746f1283a86516bbed89d59b073e9c/948cf/backend.png 138w,
/static/94746f1283a86516bbed89d59b073e9c/6b2ea/backend.png 275w,
/static/94746f1283a86516bbed89d59b073e9c/dd45a/backend.png 550w,
/static/94746f1283a86516bbed89d59b073e9c/d4c13/backend.png 825w,
/static/94746f1283a86516bbed89d59b073e9c/99f37/backend.png 1100w,
/static/94746f1283a86516bbed89d59b073e9c/c655d/backend.png 1586w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;MVC 패턴을 참고하여 설계를 했습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; : 설정 관련 파일을 담고 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;database&lt;/code&gt; : 데이터베이스 설정 관련 파일을 담고 있습니다. connection 객체 생성하는 함수 등이 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;routes&lt;/code&gt; : 라우터 관련 파일들입니다. 기능별로 파일 분리하여 관리하였고, 라우터는 경로와 컨트롤러를 연결하는 역할 담당입니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;controllers&lt;/code&gt; : 컨트롤러 관련 파일들입니다. 기능별로 파일 분리하였고, 컨트롤러는 요청과 응답을 조작하는 역할 담당입니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;services&lt;/code&gt; : 서비스 관련 파일들입니다. 기능별로 파일을 분리하였고, 서비스는 컨트롤러에서 전달받은 매개변수로 필요한 서비스를 수행하고, 해당 결과를 컨트롤러로 전달하는 역할을 담당합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;model&lt;/code&gt; : 모델 관련 파일들을 관리하고 있습니다. 개발 시 필요한 객체등을 정의해뒀습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;queries&lt;/code&gt; : 개발 시 필요했던 raw query들을 관리하고 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;frontend&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/79ae740f2ea2af34fdf30e5e3deed328/56caf/frontend.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.42028985507246%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA5UlEQVR42q2Taw7CIBCEPUkfCEXTAtLWVpHEau9/pnHBGBOjNUF/bALZ8GVnZ1jleY7XyrIMggu4scPkB2w3G3C6SympX+Ddm0etPjUYYxiGEc65CAslhEBRJAGzCLS2I6CHUhp1XYOnAoPk9Zqj7yy0UlCNhtEmSl+CLUouS4bWWuyMQUHnu+QqVfIdGKRO04XkNv8BagLO8/xHIO3tdPKoKhlhPN3l54TuMESDAjTkMBkYYtOPBpezhzG7OKGsZGpscpqKXO4UmXKlPLZ0p3D/skPGSrRtA087PB4d+n4fod++3g0sQVEHbB0tOwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;frontend&quot;
        title=&quot;&quot;
        src=&quot;/static/79ae740f2ea2af34fdf30e5e3deed328/dd45a/frontend.png&quot;
        srcset=&quot;/static/79ae740f2ea2af34fdf30e5e3deed328/948cf/frontend.png 138w,
/static/79ae740f2ea2af34fdf30e5e3deed328/6b2ea/frontend.png 275w,
/static/79ae740f2ea2af34fdf30e5e3deed328/dd45a/frontend.png 550w,
/static/79ae740f2ea2af34fdf30e5e3deed328/d4c13/frontend.png 825w,
/static/79ae740f2ea2af34fdf30e5e3deed328/99f37/frontend.png 1100w,
/static/79ae740f2ea2af34fdf30e5e3deed328/56caf/frontend.png 1712w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; : 설정 관련 파일들입니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;api&lt;/code&gt; : api 호출 관련 파일들입니다. 기능의 대상을 기준으로 파일을 분리했습니다. (ex) 수선집 api, 사용자 api 등을 별도 파일로 관리)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;assets&lt;/code&gt; : css, image 등 asset 관련 파일들을 담고 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;router&lt;/code&gt; : 라우팅 관련한 함수들을 담은 파일입니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;store&lt;/code&gt; : vuex 관련한 함수들을 담은 파일입니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;utils&lt;/code&gt; : 공통 유틸 관련 함수들을 담은 파일입니다. (ex) formatter 등)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;view&lt;/code&gt; : 화면 및 컴포넌트 관련 파일들입니다. 메인화면, 로그인 화면 등 화면을 기준으로 폴더를 구분하고 각 폴더에 해당 화면에서 사용하는 하위 컴포넌트 폴더 및 파일을 추가하여 관리하였습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;permission.js&lt;/code&gt; : 권한 확인 관련 파일입니다. 라우터 이동 시 로그인 여부 확인하는 함수 등이 존재합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;개발 내용&lt;/h3&gt;
&lt;p&gt;개발한 기능은 회원 가입 및 로그인, 수선집 조회(지도 및 리스트), 수선집 리뷰 작성, 수선집 즐겨찾기 이렇게가 끝입니다.&lt;/p&gt;
&lt;p&gt;지도와 주소 변환 관련해서는 네이버 api를 사용하였습니다. 주소 검색시에는 공공 api를 사용하였고, 세탁소 데이터 또한 공공데이터에서 가져온 데이터를 가공하여 사용했습니다. 회원가입시 이메일 인증 과정은 nodemailer라는 패키지를 사용하였습니다. nodemailer는 쉽게 이메일을 보낼 수 있도록 하는 Node.js 애플리케이션용 모듈입니다.&lt;/p&gt;
&lt;h4&gt;에러 처리 방식&lt;/h4&gt;
&lt;p&gt;Express는 라우팅과 미들웨어 기반의 프레임워크 입니다. 여기서 미들웨어란 HTTP 요청에 대한 응답 과정 중간에 어떤한 동작을 해주는 함수인데 이 미들웨어의 종류 중 Error Handling 미들웨어를 사용하여 에러를 처리했습니다.&lt;/p&gt;
&lt;p&gt;Error Handling 미들웨어는 express-generator로 생성 시 기본적으로 다음과 같이 만들어져 있는데요. 에러가 발생하면 해당 코드가 동작하게 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// error handler&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// set locals, only providing error in development&lt;/span&gt;
 res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;locals&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;locals&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;env&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;development&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; err &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token comment&quot;&gt;// render the error page&lt;/span&gt;
 res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5&gt;비동기 에러 처리&lt;/h5&gt;
&lt;p&gt;Express는 ES6가 나오기 이전에 거의 다 만들어졌기 때문에 Error Handling 미들웨어가 비동기 에러를 처리하는데 잘 작동하지 않는다고 합니다.
그래서 매 비동기 요청마다 try, catch를 달아주어야 하는데 이를 해결하기 위해 router 함수를 감쌀 수 있는 wrapper 함수를 정의하여 사용했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;wrapAsyncController&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 모든 오류를 catch()로 처리하고 next()로 전달한다.&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;next&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 wrapper함수를 다음과 같이 router에 감싸서 사용하면 매번 try, catch를 사용하지 않고도 비동기 에러 처리가 가능하게 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; wrapAsyncController &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;../controllers/wrapAsync.controller&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/register&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wrapAsyncController&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UserController&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;registerUser&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5&gt;응답 클래스 정의&lt;/h5&gt;
&lt;p&gt;서버와 클라이언트 통신 시에 일관된 형식으로 응답을 주고받을 수 있도록 응답 클래스를 정의하여 사용했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Result&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 success&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 성공 여부&lt;/span&gt;
 data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 전달 데이터&lt;/span&gt;
 message&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 오류 메시지&lt;/span&gt;

 &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;success &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;화면단에서는 아래와 같이 사용할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cpp&quot;&gt;&lt;pre class=&quot;language-cpp&quot;&gt;&lt;code class=&quot;language-cpp&quot;&gt;&lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;loginInfo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token comment&quot;&gt;// 응답에 성공한 경우&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;success&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// data로 전달받은 사용자 정보를 가져온다.&lt;/span&gt;
       &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userInfo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// 에러가 발생한 경우 전달받은 에러메시지를 출력한다.&lt;/span&gt;
       &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$toast&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
 &lt;br/&gt;
&lt;h4&gt;회원 가입 및 로그인&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/431a633a2240b5a21cfafb82ec16cdea/4e814/loginjoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.42028985507246%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0klEQVR42pVTy27bMBDM//9Bjz30UAQFWjQ5BCgatAejQQ8pDMFJakvK0w/Flk1ZEilyycmSsmIFKRCUwIgUxR3O7o4OtHYoBKNkVA6idthIB2UcrLUwhuCce4F234S5v+/HwZbJ4rFFfG0xuWPMLEYLwrK2IKNR1xL94QMNEe/XgbC/7xEIr1OLi7HB2blCMre4ygi59ISOAx208YcR4B9kOQMFNI1fv7wsEKaxV0j4/UdhODH4u7RYsUJrLBMSfFl6YSBm2QiNShKnbsM77dQ+pzxOCRGrjBKD0Zywlr6mBum0xjxrkC00slmDhpWzXqhGQ6qG1RsGhVoHwrJwWD2acKOoLLbKIStZGacZpRIfTnKc/BA4/S7w81ggn+sQqJQOpJbTdx06wpt7hdupxHTBSph8+qixru0uQbxqSttR/512c68p3jLvj3K8O1zi4+cNPh2ucfxFYFW2B31puobsnAHZWAzjCqNJjTiRSK4kljO9r+EoKhFdFhjf6GCb4Z1G/g+F3VpUhK8DgW+DAoNfWwxOC6QXck/ou5zecqfvCcmitc3qzZRfj9Y2xZ4weSDE7MNL78M3CH0z+nhuSmdeqVrUbNaq8X9DWzT3H/ApPwFgjKAMgWCgOAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;loginjoin&quot;
        title=&quot;&quot;
        src=&quot;/static/431a633a2240b5a21cfafb82ec16cdea/dd45a/loginjoin.png&quot;
        srcset=&quot;/static/431a633a2240b5a21cfafb82ec16cdea/948cf/loginjoin.png 138w,
/static/431a633a2240b5a21cfafb82ec16cdea/6b2ea/loginjoin.png 275w,
/static/431a633a2240b5a21cfafb82ec16cdea/dd45a/loginjoin.png 550w,
/static/431a633a2240b5a21cfafb82ec16cdea/d4c13/loginjoin.png 825w,
/static/431a633a2240b5a21cfafb82ec16cdea/99f37/loginjoin.png 1100w,
/static/431a633a2240b5a21cfafb82ec16cdea/4e814/loginjoin.png 1335w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;지도 조회 및 검색&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/107342379a5425ffa6401919ff886129/bb051/home.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.4927536231884%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACOklEQVR42o2TW2sTQRTH8/l88Qv41ooKUkpJrLQ1aK0IbWMK+QiC4FsLoW0a/Rg+SERTm+7uZGdv2cvsbnby95zNVUXpgWF3Z+b89n9uFa012Pg5Ho/L98lkgt/2i2Kxz2v+zmZLiV6vh36/jzzPUVEqh1IZ4iRBGMUEKEpwTothiVIIwnAB4H3pepCOW353u13U63U0T07geS4qYZjBkSFBUzA8jmOkqSJQiihOUBB0rpgVFKSWz9I0K4Ht80tsb1fRaDTguATkA9eL4LoK4YhACV9OSidFZ4WeKivDnKXFJnX8M7b3Zx08ePQEx6934dB+JY4VpNGHMCyIoQ/D8AkaUQrULAW6VMVKi1k+HS8oz9g+nF7g/voWNl/sUz5tVDIKTxDQHAwgbq9hWR4CUsqQiJzSLCPFKTJ6TmZFYnVZlpfAj2dt3Hv4HGs7xxC2QzkcBbCHFlwxQCQMkh3BdyXG+bgEMogXg/VKledd0OmcY21zC+s7h7BsCllRdYdiCMf6CWH6pNCm5N6A/Qq9DLUszqJ1lsBPV108q25go34A0/aoKCqBHEq45jfc3H4huAVTLtvkT1sqnPbmRfsU1aeP8fbNAUUnSSFV1AscqrCE4XyFIR3Yfoh/2d8hX6JWq+Ho6JA6hUJOVATpWfC9EQzrB66N79SgEbveCXhFIe/u7eFdszkFzkcuTmIqQoA8U+Sk7xCynk3KZ7x8tY9Wq0VCKIerF7WeJnyyMrf/W2whjaUQApJmmlvtF048zKWCz1pJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;home&quot;
        title=&quot;&quot;
        src=&quot;/static/107342379a5425ffa6401919ff886129/dd45a/home.png&quot;
        srcset=&quot;/static/107342379a5425ffa6401919ff886129/948cf/home.png 138w,
/static/107342379a5425ffa6401919ff886129/6b2ea/home.png 275w,
/static/107342379a5425ffa6401919ff886129/dd45a/home.png 550w,
/static/107342379a5425ffa6401919ff886129/d4c13/home.png 825w,
/static/107342379a5425ffa6401919ff886129/99f37/home.png 1100w,
/static/107342379a5425ffa6401919ff886129/bb051/home.png 1212w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;수선집 상세 화면&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2d7bdd87686d58e5d5f79aa94e0478cc/27b8e/detail.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 98.55072463768117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD3ElEQVR42m1Ua08bRxTdn5kPfYWUqN/Sj+0HmkJIShxKAkqkpoWipEWhUpNGqFVxCgXaJOAnSTGWwW+v3/Z614992uvTe9fexY060vV4d++cOffcMyNYVh/9fh+DAQXNmqZDVTXnnW0PaLbAoyCKODw6QiQcRjgcQiAQwBE9h0IhRCIRBOk5Ho9DUAnAHg6dRfyr6QY6PZXARu9s23bmbb8fMzNfYPHrJdz23cGN+Xlc/3IWXy0swOfzYf7mLayurkLo0eLYmxBe+58isudH8OUrHB4cIBIIIpE4xeuXu7AsE3t7+7j68RSufngJn1x+H9MfXcb0lSuYnprCp9eu4YP3LmFlZRlCtVLGz2t3sXF/Dk8fPcDm2kNsPv4eT9a/xdaTVTx+cBNKS8IBbbK4MIe7t2awvDCLlcUFLC/5sLx4G999cx9Lvht4tL4GoZhN48d7s3jx7Adsb/2EF883seP/Hdc/+xwb9+aw8fAOKtUqaRdCrVYDa26aJibHcCxZIHAEQZJk7P/hx+HuDo7/+hvZ5DlyuRwS52m8CR5g+7df0Gi1cRyNIpPJolyuwNB1WKZFwBY1c0CA9hgwSE1Re0ink5CVutOW8Wbe0K0hjAEQjUZQKpWhKB2w7hzdrkouGHgMw+EIhG6vg26ngb7ZQblSRZMYS7KCnqpCJyamYTjJbI92u+2VyN3nGE4wYPsIOtlEkjuwaKcu7aq0OzAM01vg2oYBJUmibzqkZg3lUh6FfAaimEOzWXc8GyVZBDaypqmODjbpwR9YFw42N7N0d282G6jXShAJqFzMIZ9L4fzsFPHTt06eByiTLgYJ7JrZHcxOpdJHDMOkn+IwFAtplFzARAyy3BprGCZAKrlYqqBZL6BvtDG0R0fNIO00TSPhu16yTIDMOp9NIpNKIHkWxz9vIyRB40JDZsVlwjYwsDRqguosci3B/93kNgGyEwydG6Y5bFkuy7IuALlLzIaT67UKlZNBLntO5VBZZZE6q4yTo5ClKmC1MDBkr1mTxvYAuWsMxJ1jsQv5NHkzgVjsGGd0nt1kqdWCqhnQHSsNHSA3PA35gY9ShdgUxawDyqKnkwlimiKPdrxkRVH+w4gnjpFsw5GxXeqKLJHYdOxI8DQJzlZIp848DUeAF8bGcBKYZxthLpmFN0lUmW6UYiHrBOvHYNlMyrm6eLDHGo0GHbke+VGiBup4Feti/XkTv261ENrv0QVCgMyAffjuDfKu4HxSWqQh53cJFBjgOKXj2U4bf+52cRoynRxhkvb/hSvJyckJXbgJum3KdNxEFAoF1CoipHoR9bqIGgUD/gtWIrD+3KUreAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;detail&quot;
        title=&quot;&quot;
        src=&quot;/static/2d7bdd87686d58e5d5f79aa94e0478cc/dd45a/detail.png&quot;
        srcset=&quot;/static/2d7bdd87686d58e5d5f79aa94e0478cc/948cf/detail.png 138w,
/static/2d7bdd87686d58e5d5f79aa94e0478cc/6b2ea/detail.png 275w,
/static/2d7bdd87686d58e5d5f79aa94e0478cc/dd45a/detail.png 550w,
/static/2d7bdd87686d58e5d5f79aa94e0478cc/d4c13/detail.png 825w,
/static/2d7bdd87686d58e5d5f79aa94e0478cc/27b8e/detail.png 836w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;회고&lt;/h3&gt;
&lt;p&gt;데이터베이스 설계와 백엔드부터 프론트엔드 전부 혼자 개발해본 경험이 처음이라 큰 의미가 있었습니다. 하지만 미비한 기획에서 시작한 탓인지 완성도가 조금 낮은 상태로 프로젝트를 종료하게 되었습니다.&lt;/p&gt;
&lt;p&gt;어차피 퍼블리셔를 제외한 개발자는 저 혼자였으니 인원이 빠져나가도 크게 상관은 없었지만 모든 기능과 기획에 대해 혼자 의사결정을 해야하는 부분이 생각외로 고민도 많았고 힘들었습니다. 그래서 처음 기획했었던 기능 대다수를 걷어낸 부분이 제일 아쉬운 것 같습니다.&lt;/p&gt;
&lt;p&gt;스타일 관련된 부분을 통일성 있게 관리하지 못했다는 점도 아쉬웠습니다. 프로젝트 초기에는 퍼블리셔분들이 잘 해주셨는데 혼자가 된 이후 어떻게 관리할지 갈피를 못잡고 전역으로 선언한 스타일도 많아서 !important 를 남발하는 등 그야말로 주먹구구식으로 진행해버리고 말았습니다. 아직도 스타일 관리와 적용에 대해서 모르는 부분이 많지만 그 중요성 만큼은 확실히 알게 되었습니다.&lt;/p&gt;
&lt;p&gt;node로 백엔드 개발을 진행한 부분은 굉장히 유익했던 것 같습니다. 이전에 백엔드 개발로는 스프링을 사용했었기 때문에 자연스럽게 MVC 구조를 따라 설계를 했습니다. Express는 자유도가 높은 것이 장점이자 단점인데 이를 충분히 활용하지 못한 것 같아 Nest.js를 사용하는게 낫지 않았을까 하는 생각도 들었지만 많은 것을 배울 수 있어서 큰 아쉬움은 없는 것 같습니다.&lt;/p&gt;
&lt;p&gt;프로젝트의 주된 목적이었던 vue 프레임워크 활용에 대해서도 어느정도 달성한 것 같습니다. 이전에도 vue로 개발은 종종 해봤지만 프로젝트를 처음부터 진행해본 것은 처음이었고, 주로 지도와 주소에 관련된 API를 다룬 것도 큰 도움이 되었습니다.&lt;/p&gt;
&lt;p&gt;여러모로 아쉬운 부분이 더 큰 프로젝트였지만 많은 것을 배울 수 있었던 것 같습니다. 사실 결과물 자체는 완성도가 조금 낮다고 생각되어 어디 내놓을만한 프로젝트는 아니지만... 진행하며 깨달은 점이 많아 기록해두고 싶었습니다. 원래 과정보다는 결과가 중요하다는 주의였는데, 이 프로젝트를 계기로 생각이 많이 바뀌게 되었습니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA["window" is not available 에러 해결]]></title><description><![CDATA[다크모드를 적용하고, 로컬에서 잘 돌아가는 것을 확인한 다음 배포를 하려고 했는데 이런 에러가 발생했습니다.  에러 메시지를 읽어보니 window…]]></description><link>https://klloo.github.io/gatsby-window-not-abailable/</link><guid isPermaLink="false">https://klloo.github.io/gatsby-window-not-abailable/</guid><pubDate>Sat, 29 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;다크모드를 적용하고, 로컬에서 잘 돌아가는 것을 확인한 다음 배포를 하려고 했는데 이런 에러가 발생했습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3b6e410ab151fb2ba7e0f4354d77fbb9/076ca/windowisnot.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.362318840579707%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVR42m2Q6W6DMBCEeYlwGDDBF75IIJVb9f0fbLLrKJVa9cd4fex+mnHjtw0xBGyOaoykgETVe49A9zlnpJRq3fe9Vu5zzsEYg43muZe1risaXpTW0MYS1GFVCstKWpYqfjdGV1lrK0hKibZt0XXdj/jc9z0BeVBpfJSC76+CdM8w4QX3wUOIAZfL72EeFEJgGIYq3r/PjSIHV3ZJDg1BOHL0luJ6ihehtSJHM+Z5xjRNGMex6g37q2ZZJEZ5haCYJu8o5ROPx4nbLeM8DxzHncCe/soSXNc/4/js8j/gEwM6i4PxhqM+AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;windowisnot&quot;
        title=&quot;&quot;
        src=&quot;/static/3b6e410ab151fb2ba7e0f4354d77fbb9/dd45a/windowisnot.png&quot;
        srcset=&quot;/static/3b6e410ab151fb2ba7e0f4354d77fbb9/948cf/windowisnot.png 138w,
/static/3b6e410ab151fb2ba7e0f4354d77fbb9/6b2ea/windowisnot.png 275w,
/static/3b6e410ab151fb2ba7e0f4354d77fbb9/dd45a/windowisnot.png 550w,
/static/3b6e410ab151fb2ba7e0f4354d77fbb9/d4c13/windowisnot.png 825w,
/static/3b6e410ab151fb2ba7e0f4354d77fbb9/076ca/windowisnot.png 914w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;에러 메시지를 읽어보니 window객체가 없다는 말이었습니다.&lt;/p&gt;
&lt;h3&gt;원인&lt;/h3&gt;
&lt;p&gt;자바스크립트에는 전역 객체가 존재합니다. 전역 객체란 모든 객체의 유일한 최상위 객체를 의미하며 일반적으로 Brower-side에서는 window , Server-side(Node.js)에서는 global 객체를 의미합니다.
Node.js에서는 window라는 객체가 존재하지 않아, 빌드시 초기 Gatsby가 서버사이드 렌더링 할 때 window객체를 참조할 수 없어 생기는 문제였습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1a8f2d899531b6802d2aca381f90b4da/d2a60/error.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.68115942028986%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVR42pVR226rMBDM/39YLj1SouYhOm2VEDAXG9tgA0kKhM4ZO1LfD9Job97Z2WW12+1wOByw3W5xOp2wXq/x9vYHx+MRm80G+/0e//OtPr8+SbjH+/Edl8sFaZoiSZLof3z8xfl8xjzPeD6fEcuyRIRczEc7YZ5GLKyvOtejdzfYukXTtHCtgzUWjWVsG7SMa6UhK/ULrS2869D5Hr4x6BsNZxTuvSdhO2Bo7xj8/UVA0kASLeG9Jzr0XUcSxs6TyGGapl/V0/RSG1fW2kAbQutIqKSKioLaWtUoiwqWeaskVCHQWkObQcsqqq1rjaqsCBnJVyLLkecFrskVwU9TQT+FEDmyTCC9ZtG/sB5iIQokzIWeUMv4viBhylo/DFRYcyKVaE4q8vI1lQpDg5J1VKCLEuoqYFi39BtpYKSD4S1t2JBvTVnyhj1v2NxQszGsLKWKNqwaVjf8OWGgYd1WJM9lxPQYMX8vGL9HjOOI6faI+FkW/AMjc1lJvXqm2QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;error&quot;
        title=&quot;&quot;
        src=&quot;/static/1a8f2d899531b6802d2aca381f90b4da/dd45a/error.png&quot;
        srcset=&quot;/static/1a8f2d899531b6802d2aca381f90b4da/948cf/error.png 138w,
/static/1a8f2d899531b6802d2aca381f90b4da/6b2ea/error.png 275w,
/static/1a8f2d899531b6802d2aca381f90b4da/dd45a/error.png 550w,
/static/1a8f2d899531b6802d2aca381f90b4da/d2a60/error.png 807w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/debugging-html-builds/&quot;&gt;공식문서&lt;/a&gt;를 읽어보니 웹페이지를 일단 빌드하기만 하면 이후 브라우저 환경에서는 window 객체를 참조할 수 있으니 일단은 빌드될 수 있도록만 해주면 될 것 같았습니다.&lt;/p&gt;
&lt;h3&gt;해결&lt;/h3&gt;
&lt;h4&gt;1. window가 정의되어 있는지 확인&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isBrowser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; window &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isBrowser&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;isLoggedIn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런식으로 현재 window 객체가 존재하는지 확인한 후, 존재하는 경우에만 window 객체를 참조할 수 있도록 해주면 됩니다.&lt;/p&gt;
&lt;h4&gt;2. useEffect 사용하기&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;isLoggedIn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;는 DOM형성 후에 실행이 되는 hook입니다. 즉 브라우저에서만 코드가 실행됩니다. 이렇게 하면 초기 빌드 시 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; 내부 코드는 실행되지 않으므로 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; 내부로 에러가 발생하는 코드를 옮겨주면 해결됩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Gatsby 블로그에 다크모드 적용하기]]></title><description><![CDATA[…]]></description><link>https://klloo.github.io/darkmode/</link><guid isPermaLink="false">https://klloo.github.io/darkmode/</guid><pubDate>Thu, 27 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;다크모드&lt;/h2&gt;
&lt;p&gt;다크모드를 적용해봤습니다. 원래 향후 계획에도 없던 ... 기능인데 너무 하얘가지고 가만히 보고 있자니 가끔 눈이 아파서 이참에 구현을 해봤습니다.
다크모드를 한 번도 구현해본적은 없지만 막연하게 그냥 전역으로 변수 두고 스타일 변수만 바꿔주면 되겠지 ... 했는데 생각보다 고려사항이 많았습니다. 게다가 서버 사이드 랜더링은 처음이라 더 어려웠던 것 같습니다. 여러 포스팅들을 읽고 읽으면서 제일 이해가 쉬운 방법으로 따라해봤습니다.&lt;/p&gt;
&lt;h2&gt;1. 버튼 만들기&lt;/h2&gt;
&lt;p&gt;먼저 버튼을 만들어 줬습니다. 버튼은 그냥 간단하게 해와 달 아이콘으로 표현을 해봤습니다.
처음에는 폰트어썸을 사용했는데 돈을 내지 않고서는&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/74d479f7782f4c2126f447a04823a968/a65ce/uglyicon.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.31884057971014%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACOUlEQVR42kVTyW7aUBT1J2ebfkk3XXXXVdqoSqssKlWdU6RCFDCCBAiTwUwe3vzs03ufgTzJ4vo83+Gcc4ke+iO0On38bccYjuYQUmG52kJpjVJIPI5mGD8vccgKHHKFQ+EoLpv3M+bPWDSZJhiO5xg8TTFdrFGUAptdBiEU8lxgRtgiSeljgf1mgu38D/a79bEAYekTtos7HPZb7AmLjLGo65oeoKoqSKlpOgNrHZxzhNVQSkFbQG++YNO5gCuHxMSDUiGXV1i3L1CpOUrCIu+rUOD12w80fhmKeu+JrsL7z99hHSe6gJckx127F2JjGoxzV+kOfDiOHCXwJK1ODG0MnOd3LmIRD8eU1MTchH9ZFuIDZsbDWGeR5cVLQe7Oh5iFw1TtEXO+ATmZmzT39oxxE5bKuuqloFQWVixRLD7ClFPwu1SO4gny2TWsXBJVwoguN9KUxMUEbYDSNHXWg0w+weoDyaQRKQP4MsauewmX/YMyZAJjeQtZ/xW8oARNhtAanaZnqlJKMBG1ukF6f4naJMGoyJJ+dI+brz3SsNGzriskaY6r2w6tgggYn3mywfXtj6Alm8JnOEnx5t23EHPTYAoL2+0PiIIKurAxJe1j+yEOWDOVJ/FLtLsDkoSmNc1KFUWBePAY7tnU6GSA0u4ocEOL14W1PDnOumlaRmahOT6a0qxdk8v6RkKQyGoHn/2EkSnpYMLj5BpV9guW7lhsQWY5ldB3hOki7Ckb6MQzYb9hdEn/MoX/WdGWGs/zeaUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;uglyicon&quot;
        title=&quot;&quot;
        src=&quot;/static/74d479f7782f4c2126f447a04823a968/dd45a/uglyicon.png&quot;
        srcset=&quot;/static/74d479f7782f4c2126f447a04823a968/948cf/uglyicon.png 138w,
/static/74d479f7782f4c2126f447a04823a968/6b2ea/uglyicon.png 275w,
/static/74d479f7782f4c2126f447a04823a968/dd45a/uglyicon.png 550w,
/static/74d479f7782f4c2126f447a04823a968/a65ce/uglyicon.png 559w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;앞에 두 개 아이콘 밖에 사용할 수가 없었는데 뭔 톱니바퀴 같기도하고 하여간 너무 맘에 안들어서 그냥 이모지로 표현을 해버렸습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 277px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/079fd956fc0dd2082d64ef4f453c705e/2a985/emojiicon.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.07246376811594%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVR42rWV30vbUBTH+yYMBHFTZ3/YaBObaKzWthZ/oFj8UbV2Nuqc1h8g+iKCL74JKoqisD0Lgk8y2F+0B1EUH0TnsD5oBZfka27aKm65aR164HNzOeee7z03OZdY8MpmIYOqqoYoivKIUdxQMJNotvhZDE+bGYla/hbIzM8vfuHw6BjHJ6e4vPydihHufkK9P0vNVSW7YMZubm+RuL7GVSKBZDKZ3uxeEzwAlDuQFGqFLzsysh9ZlmXI2oJ/kNM886fW/tFycnqHuRot720EaX2WC4aN/T9GbWwyLC2vIxyRMDgygdhwHFHpCyIDn3Wi0qjuGxiKo1+aQm90GPMLi+ZXjyTkF9pgLxdQYmdRU9+I9q4Igs0h1Pqa8MHKgRc4LM2xKLE60NTWTa1SFxybnIHV6QZfEwAreOFvbEdbRx9aQz3wBVtRwXsh1nohhUUwbBU6e2LmgqPj0/jo4MBV1cPF14HhPHCyog5T6QGr+SrcdXBwflgZHp3hT+aC8clZ2BhBq7ABldV+uEVCIP306z6C4AmgzCWiu096WYU0SNymVdiRrcLxqRntg/B6BW7RR4XEnWy13hGmgpHYCPLyi1Bsd+F9aTmVIpsL7wpKEWwJmQvuf/+BlbVNbG5/w8bWVyokvrq+hZ3dPfM+fM1/ygNRoXzsbiRwtwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;emojiicon&quot;
        title=&quot;&quot;
        src=&quot;/static/079fd956fc0dd2082d64ef4f453c705e/2a985/emojiicon.png&quot;
        srcset=&quot;/static/079fd956fc0dd2082d64ef4f453c705e/948cf/emojiicon.png 138w,
/static/079fd956fc0dd2082d64ef4f453c705e/6b2ea/emojiicon.png 275w,
/static/079fd956fc0dd2082d64ef4f453c705e/2a985/emojiicon.png 277w&quot;
        sizes=&quot;(max-width: 277px) 100vw, 277px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;사실 이것도 100% 마음에 들지 않아 언젠가 다시 바뀔지도 모를 것 같습니다.&lt;/p&gt;
&lt;h2&gt;2. 다크모드 설정하기&lt;/h2&gt;
&lt;p&gt;이제 사용자 설정 혹은 시스템의 설정에 따라 다크모드를 설정해줍니다. 다크모드 설정 방식은 다음과 같은 방식으로 진행을 했습니다.&lt;/p&gt;
&lt;p&gt;먼저 다크모드로 설정하고 싶다면 body에 &apos;dark&apos;라는 클래스를 추가해줍니다. 그리고 글로벌 스타일에서 기본 스타일과 다크모드 스타일을 각각 정의 해준 뒤, body 클래스에 따라 다른 스타일 선택해줍니다.
이 때 기본 스타일과 다크모드 스타일에서는 css변수를 다르게 사용해줬는데 키값은 동일하게 지정하되 해당 키값에 대한 색상 값을 다르게 주는 방식으로 하여 하위 스타일에서 같은 변수명을 사용하더라도 모드에 따라 다른 색이 적용되도록 했습니다.&lt;/p&gt;
&lt;p&gt;예를 들어 &lt;code class=&quot;language-text&quot;&gt;--background-color&lt;/code&gt; 값을 기본 스타일에서는 white, 다크모드 스타일에서는 black으로 설정하고 해당 변수 값을 body의 배경 색상으로 지정해주면, 모드에 따라 다른 색상이 적용되는 방식입니다.&lt;/p&gt;
&lt;p&gt;이를 위해서 먼저 다크모드일 경우 body에 &apos;dark&apos; 클래스를 추가해주는 작업을 먼저 진행했습니다.&lt;/p&gt;
&lt;h3&gt;시스템 설정에 따라 다크모드 설정&lt;/h3&gt;
&lt;p&gt;요즘 많은 시스템들이 다크모드를 지원해주고 있습니다. 그에 따라 웹에서도 prefers-color-scheme 라는 미디어 속성으로 시스템의 다크 테마 여부를 탐지할 수 있게 되었습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;prefers-color-scheme&lt;/code&gt;라는 미디어 속성을 사용하면 다크 테마 여부를 감지할 수 있는데 다음과 같이 사용할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;prefers-color-scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dark&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; black&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 사용해주면 시스템의 다크모드 설정에 따라 다른 스타일을 제공해줄 수 있습니다.&lt;/p&gt;
&lt;p&gt;물론 시스템의 설정도 중요하지만 사용자가 설정을 변경한다면 사용자의 설정을 따라가야 합니다. 이렇게 사용자의 설정과 시스템의 설정을 모두 고려하기 위해서는 스크립트로 사용을 해야하는데, 미디어쿼리를 스크립트로 처리하기 위해서는 matchMedia 를 사용할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;window.matchMedia&lt;/code&gt;는 주어진 미디어 쿼리 문자열의 분석 결과를 나타냅니다. 이 함수는 &lt;code class=&quot;language-text&quot;&gt;MediaQueryList&lt;/code&gt; 를 반환하는데 이 객체는 media와 matches라는 두 프로퍼티가 존재합니다. media는 사용한 미디어쿼리 문자열을 반환하고, matches는 현재 화면이 미디어 쿼리의 범위에 들어가면 true, 아니면 false를 반환합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; darkQuery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;matchMedia&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;(prefers-color-scheme: dark)&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;darkQuery&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;matches &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;dark&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;light&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 사용할 수 있습니다.&lt;/p&gt;
&lt;p&gt;또 하나 고려해야할 부분은 시스템이나 사용자의 설정을 기억해야 한다는 점입니다.
다시 방문 했을때에도 이전의 설정을 기억하여 그대로 제공하도록 해주는 기능이 필요합니다. 다시 방문했을때는 다시 설정하면 되지 라는 생각을 잠시 했지만 문제는 새로고침입니다. 이렇게만 한다면 새로고침 시 설정이 초기화되어... 굉장히 무능한 블로그 같고 .. 하여튼 불편합니다. 이를 위해서는 localStorage를 사용하여 브라우저에 마지막으로 설정한 모드를 저장해줬습니다.&lt;/p&gt;
&lt;p&gt;이를 종합하여 시스템 설정에 따라서 body 클래스에 &apos;dark&apos;를 추가하거나 제거해주기 위해서는 다음과 같이 할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DARK&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;dark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LIGHT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;light&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 시스템 설정이 다크모드인지 확인&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; darkQuery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;matchMedia&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;(prefers-color-scheme: dark)&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// localStorage에 저장된 테마 불러오기&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; savedTheme &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;theme&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 다크모드라면 theme를 dark로, 아니라면 light로 설정하고 theme에 따라 클래스 변경&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newTheme &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; savedTheme &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;darkQuery&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;matches &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DARK&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LIGHT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;setTheme&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;DARK&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newTheme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;dark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// 새로 설정된 테마를 localStorage에 저장&lt;/span&gt;
 localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;theme&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newTheme&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 동적으로 시스템 테마 변경에 따라 바뀌도록 하려면 미디어 쿼리 state 변경에 따라 변경될 수 있도록 이벤트 리스너를 넣어줄 수 있다.&lt;/span&gt;
darkQuery&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;matches &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;dark&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;light&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 이 스크립트를 어디서 실행하는지가 문제입니다.&lt;/p&gt;
&lt;p&gt;이게 적용하기 까다로운 이유가 해당 속성이 css 속성이기 때문에 server 에서 받아올 수 없어서 그냥 react의 lifecycle 내에서 현재 테마를 가져오고, 그에 따라 스타일을 조정하면 시스템이 다크 테마여도 잠시 라이트 테마가 보여지는 현상을 겪을 수 있다고 합니다.&lt;/p&gt;
&lt;p&gt;이 문제를 해결하기 위해서는 위 스크립트가 화면이 painting 되기 전에 실행되어야 합니다. 제가 참고한 포스팅에서는 스크립트를 body 바로 다음에 위치시켜서 body 내부 엘리먼트들이 페인팅 되기 전에 실행하도록 하였습니다. 이렇게 두면 스크립트는 DOM 파싱을 막으므로, 위 스크립트가 실행된 후에 페인팅이 되는 것이 보장되기 때문입니다.&lt;/p&gt;
&lt;p&gt;Gatsby에서는 gatsby-ssr의 onRenderBody API를 이용할 수 있습니다. 해당 API는 setPreBodyComponents 함수를 제공하는데, 이 함수를 통해 body 바로 하위에 스크립트를 넣어줄 수 있습니다.
(아니면 html.js를 수정할 수 있는데, Gatsby Theme 내에서는 제공이 안되어 권장하지는 않는다고 합니다.)&lt;/p&gt;
&lt;p&gt;결과적으로 gatsby-ssr.js 파일에 다음과 같이 적용해주면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; React &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onRenderBody&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; setPreBodyComponents&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setHtmlAttributes &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    const DARK = &apos;dark&apos;;
    const LIGHT = &apos;light&apos;;
    
    const darkQuery = window.matchMedia(&apos;(prefers-color-scheme: dark)&apos;);
    const savedTheme = localStorage.getItem(&apos;theme&apos;);
    
    const newTheme = savedTheme || (darkQuery.matches ? DARK : LIGHT);

    const setTheme = (DARK) =&gt; {
    if (newTheme === &apos;dark&apos;) {
        document.body.classList.add(&apos;dark&apos;);
    } else {
        document.body.classList.remove(&apos;dark&apos;);
    }
    localStorage.setItem(&apos;theme&apos;, newTheme);
    };
    
    darkQuery.addListener((e) =&gt; {
    setTheme(e.matches ? &apos;dark&apos; : &apos;light&apos;);
    });
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setHtmlAttributes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ko&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setPreBodyComponents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script dangerouslySetInnerHTML&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;__html&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; script &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;br/&gt;
&lt;h3&gt;사용자 설정에 따라 다크모드 설정&lt;/h3&gt;
&lt;p&gt;아까 만들어 둔 버튼을 연동하여 사용자 설정에 따라서도 다크모드가 설정될 수 있도록 만들어야 합니다. 먼저 버튼에서 해당 스크립트의 함수 및 값을 사용할 수 있도록 window 객체에 넣어줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; React &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onRenderBody&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; setPreBodyComponents&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setHtmlAttributes &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  window.__DARK = &apos;dark&apos;;
  window.__LIGHT = &apos;light&apos;;
  
  const darkQuery = window.matchMedia(&apos;(prefers-color-scheme: dark)&apos;);
  const savedTheme = localStorage.getItem(&apos;theme&apos;);

  window.__theme = savedTheme || (darkQuery.matches ? window.__DARK : window.__LIGHT);

  window.__setTheme = (newTheme) =&gt; {
    if (newTheme === window.__DARK) {
      document.body.classList.add(window.__DARK);
    } else {
      document.body.classList.remove(window.__DARK);
    }
    localStorage.setItem(&apos;theme&apos;, newTheme);
    window.__theme = newTheme;
  };

  darkQuery.addListener((e) =&gt; {
    window.__setTheme(e.matches ? window.__DARK : window.__LIGHT);
  });

  window.__setTheme(window.__theme);
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setHtmlAttributes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ko&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setPreBodyComponents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script dangerouslySetInnerHTML&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;__html&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; script &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 다크모드 버튼을 클릭하면 window객체에 저장해둔 &lt;code class=&quot;language-text&quot;&gt;__setTheme&lt;/code&gt; 함수를 호출하도록 코드를 작성합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Layout&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; location&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;theme&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setTheme&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; isDarkMode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; window &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		isDarkMode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__DARK&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; onClickDarkModeButton &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newTheme &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; isDarkMode &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__LIGHT &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__DARK&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;__setTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newTheme&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;setTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newTheme&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isDarkMode&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;setTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__theme&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;theme&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
		&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;DarkModeButton onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onClickDarkModeButton&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isDarkMode &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;☀️&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;🌙&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;DarkModeButton&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 하면 다크모드 버튼을 클릭할 때 마다 body요소에 &apos;dark&apos;클래스가 생겼다 사라졌다 하는 것을 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;darklight.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3&gt;다크모드에 따라 스타일 설정하기&lt;/h3&gt;
&lt;p&gt;이제 다크모드에 따른 스타일만 적용해주면 됩니다. 사실 다크모드와 라이트모드에서의 차이점은 색상밖에 없기 때문에 색상만 잘 설정해주면 됩니다.
이 부분은 GPT의 도움을 받았습니다. 제 블로그는 CSS-in-JS라이브러리로 emotion을 사용하고 있는데 글로벌 스타일을 적용할 때 body 요소에 &apos;dark&apos;클래스가 있는지에 따라 다른 스타일을 적용해주는 방법을 사용했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Global&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; css &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@emotion/react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Common &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./common&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 기본 스타일&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; baseStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; css&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
 /* ... 기본 스타일 ... */
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 다크 모드 스타일&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; darkStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; css&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
 /* ... 다크 모드 스타일 ... */
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;GlobalStyle&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// body 클래스에 따라 다른 스타일 선택&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; currentStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; css&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;baseStyle&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;;
  &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; darkStyle &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;;
 &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Global styles&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;currentStyle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; GlobalStyle&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 해주고 다크모드 스타일에 기본 스타일의 색상변수를 다시 설정해주면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 기본 스타일&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; baseStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; css&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    ...
    --color-text: black;
    --color-background: white;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 다크 모드 스타일&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; darkStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; css&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
 --color-text: white;
 --color-background: black;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;br/&gt;
그런데 아뿔싸 ... emotion을 적용하면서 css 변수를 common이라는 자바스크립트 파일을 만들고 그 파일 내에서 객체로 관리하도록 바꾸는 바람에 저 방식이 통하지 않아서 고민을 좀 했습니다.
&lt;p&gt;고민 결과 Common 객체에 lightColor, darkColor를 속성으로 두고, 그 속성 하위에 색상을 정의해두기로 했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Common &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
	&lt;span class=&quot;token literal-property property&quot;&gt;lightColor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;black&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;white&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token literal-property property&quot;&gt;darkColor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;white&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;black&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Common&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;br/&gt;
그리고 이걸 다시 css변수로 적어줬습니다.
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 기본 스타일&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; baseStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; css&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    ...
    --color-text: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;Common&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lightColor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;;
    --color-background: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;Common&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lightColor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;background&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 다크 모드 스타일&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; darkStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; css&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
 --color-text: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;Common&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;darkColor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;;
 --color-background: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;Common&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;darkColor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;background&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;br/&gt;
뭔가 Common 객체로 전역적인 스타일을 한 번에 관리할 수 있는 점이 편리하지만 색상을 추가할 때 css변수로 한 번 더 추가해야 하는 번거로움과 다른 스타일은 Common객체에서 가져다 쓰는 반면 색상은 css 변수를 사용해야 한다는 점이 통일성을 해치는 기분이라 만족스럽지 못합니다. 이 부분에 대해서는 조언이 필요할 것 같습니다... 도와주세요 
&lt;br/&gt;
&lt;h2&gt;3. giscus(댓글)에 다크모드 설정하기&lt;/h2&gt;
&lt;p&gt;헐 이렇게 하니까 다른 부분에는 다크모드가 잘 적용이 되지만 댓글에는 다크모드가 적용이 안돼서 둥둥 떠다닙니다. 댓글에도 다크모드를 설정해줘야 하는데 giscus를 가져다 쓰는 입장에서 어떻게 적용해야 하는지 생각해보니 giscus에서는 다양한 테마를 적용하고 있습니다. 그래서 다크모드 여부에 따라 테마가 변경되도록 구현을 해봤습니다.&lt;/p&gt;
&lt;p&gt;먼저 댓글 컴포넌트에서 테마가 바뀌었다는 것을 감지할 수 있도록 window객체에 리스너를 등록할 수 있도록 바꿔줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; React &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onRenderBody&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; setPreBodyComponents&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setHtmlAttributes &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  window.__DARK = &apos;dark&apos;;
  window.__LIGHT = &apos;light&apos;;
  
  const darkQuery = window.matchMedia(&apos;(prefers-color-scheme: dark)&apos;);
  const savedTheme = localStorage.getItem(&apos;theme&apos;);

  window.__theme = savedTheme || (darkQuery.matches ? window.__DARK : window.__LIGHT);
  window.__onThemeChange = () =&gt; {};

  window.__setTheme = (newTheme) =&gt; {
    if (newTheme === window.__DARK) {
      document.body.classList.add(window.__DARK);
    } else {
      document.body.classList.remove(window.__DARK);
    }
    localStorage.setItem(&apos;theme&apos;, newTheme);
    window.__theme = newTheme;
    window.__onThemeChange(newTheme);
  };
  darkQuery.addListener((e) =&gt; {
    window.__setTheme(e.matches ? window.__DARK : window.__LIGHT);
  });

  window.__setTheme(window.__theme);
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setHtmlAttributes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ko&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setPreBodyComponents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script dangerouslySetInnerHTML&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;__html&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; script &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;br/&gt;
이렇게 테마가 변경될 때 마다 window.__onThemeChange() 함수가 호출되도록 작성해줍니다.
그 다음 댓글 컴포넌트에서 window.__onThemeChange() 함수를 등록해주면 됩니다. 여기서는 __onThemeChange() 함수 내부에서 댓글 테마가 바뀌도록 하여 전체 테마가 바뀔 때 마다 댓글 테마도 바뀌도록 해줬습니다.
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;commentTheme&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCommentTheme&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setCommentTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__DARK &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;dark&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;light&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;__onThemeChange&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setCommentTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__DARK &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;dark&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;light&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;commentTheme&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기까지 해서 다크모드 적용을 완료하였고 전체적으로 &lt;a href=&quot;https://godsenal.com/posts/gatsby-%EB%B8%94%EB%A1%9C%EA%B7%B8-%EB%8B%A4%ED%81%AC-%ED%85%8C%EB%A7%88-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0&quot;&gt;이 블로그&lt;/a&gt;를 많이 참고하여 진행을 했습니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Gatsby로 깃허브 블로그 만들기]]></title><description><![CDATA[내 나이 26 ... 드디어 깃허브 블로그를 만들다... 계기 이전에도 기술 블로그를 운영하려는 노력은 꾸준히 해왔다.
맨 처음 마음 먹었을 때는 네이버 블로그를 사용했다. 당시 대학교…]]></description><link>https://klloo.github.io/make-blog/</link><guid isPermaLink="false">https://klloo.github.io/make-blog/</guid><pubDate>Mon, 17 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5b9e5b0ebcc94b90737f13dcf7e64281/d125e/iamold.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 102.17391304347827%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEUklEQVR42k1UXVPiZhjN79np5d70H2x/QKcz26vetM72sl8z9qrTWdvVRUUXFxdBRUVAUZRFVBBIgJCQhPAZwofa9o+cnvfF7fTimSRvkvOc55zzvorXd+F5PXijPkb+AL4/xHgyxGTiwR/zOh2xPPlO1HTm4+FxgvuH8f9qggdeHx6nULxhF0MC+vx4PPYI5j2BjDAYdDDkewE0mXls2kOfBMQ7ATKvJ8DHeSmtVgOdrgXXbcFpm3A7FvqDtgSynaYsy9YxGHbgdlsEG6LTaWE2mzP/VLN70cSHUq2WULy9QrlchN7UYBg11OoVlO4KfK7LH/3JAN2eg27fRm/gwDDrMElEVL1RQ6tloKpWOWkXittuoVQqoKFrUr9u10GbbGf3vhyv0yUIr0LP+/sJ2m1bavz411SOO/L7+PufGWzb4ncEtO0mGeZRr2tyTMOoy5/71E+rVWSJKRpk4nkcbzwHnc0mBPapc5eGTMnSJIEOFIu0r6/yqNWq1MmF0NRik8HAlXqKauhVtCydgENq7XCtTbcJOB5J9sIU0zTR67lQTFNDPn9JLarUyWZZUiOHUgjdRn5PjiWSYFlNsjMwe2AaZkNO0peaTh9G/Mfg920ohqHh4uKMgOqTw4KljoWFb/HixReIxiLSLJNrgo3tmHzWZYRGBOxS4wmNa+g16u1AaZBZJpOGTlNaZCAEXw+u4tmzz7C4uIhIJIwRQy/WTbJIpzI4SZ/h+vpGuipMFLHRqbHr2lDq9TJSySPoxpyF2CE///ITlv54LRlXKkXJQox9Ra2PDhNIHidJ4nQuEQH98YBRq1EOC4qqlnCciHMMlYB1qdvZ+QnC70PI5c6e1mwphZgid5lFuXIDVSvJDeAw+EJnTVN534JSvrsh4AEaDHOxWJCONgkeWFnFVmjrP6dd7g4xYi6XxV4sJlMgMmo7htRTZbAt24RSKl4hRcDb6zx3yw1qahE74S38+MOv2NzYRINxErkTYRdbLpk4xNa7LcnG7djSeZHFSqVMM5tQrgs5ObIAlsaQ3VoggK9ffoPg+jrUyq3MoABwbAPrK2vYDG7CYYO2WDObUo7yXYmmNaB8zJ1T5ENUyE7o6VCzhe9e4fnzz3FwuEcgg7tElYeEpt3hqy9f4tXC92zCrHIDdDimN+pwNxVhNGtQstlTqWGRDFW1jGrpGhEaskGWhatLBrZGTTV54tSp88bqCg5iUdmozdOpQJMKF1mkjhNyQuX8LI3joziqjEcue473G0EcxnYQ3/mA2HYY+9EdHO3v4vhwH2k2zp2ncHGaQjaTQf7jJeLRGPY/RLBNXRu6CuU4sY/4XhSZkwQCb5ax9NvvWFl6zfsVBP5cxirXgm/fYDOwTNbL2A4FsRVcQ5gAsXAYBztRJHb3EOG9OLGUJDtfZFJIJ+PY3dmm4GtyrNDGKsKhDYQ3g2RNI9YCXH9L8GUCrpPRO0RCAnQbu6ztUAiGruFftnMJbx+fxgIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;iamold&quot;
        title=&quot;&quot;
        src=&quot;/static/5b9e5b0ebcc94b90737f13dcf7e64281/dd45a/iamold.png&quot;
        srcset=&quot;/static/5b9e5b0ebcc94b90737f13dcf7e64281/948cf/iamold.png 138w,
/static/5b9e5b0ebcc94b90737f13dcf7e64281/6b2ea/iamold.png 275w,
/static/5b9e5b0ebcc94b90737f13dcf7e64281/dd45a/iamold.png 550w,
/static/5b9e5b0ebcc94b90737f13dcf7e64281/d125e/iamold.png 737w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;내 나이 26 ... 드디어 깃허브 블로그를 만들다...&lt;/p&gt;
&lt;h4&gt;계기&lt;/h4&gt;
&lt;p&gt;이전에도 기술 블로그를 운영하려는 노력은 꾸준히 해왔다.
맨 처음 마음 먹었을 때는 네이버 블로그를 사용했다. 당시 대학교 4학년이었지만 아무것도 모르던 나는... 그냥 접근성이 제일 좋아서 네이버 블로그로 선택을 했었다.&lt;/p&gt;
&lt;p&gt;스프링으로 막 백엔드 공부를 시작하면서 혼자 진행했던 프로젝트 내용, 알고리즘 문제 풀이, 정보처리기사 공부했던 내용, 면접 대비용으로 자바와 CS공부했던 내용 등을 정리해놨었다. 이제보니 나름 뭘 많이 끄적여놨는지...게시글이 116개가 있다.&lt;/p&gt;
&lt;p&gt;그런데 왐마?! 뭔가 좀 이것 저것 찾아보기 시작하면서 아무도 네이버 블로그를 기술 블로그로 사용하지 않는다는 것을 깨달았다. 또 그 때가 막 네이버 블로그에 일상을 기록하고 소통하는게 유행하기 시작하던 때라...나도 그냥 공부했던 내용 전부 비공개로 전환해놓고 일상 블로그로 돌려버렸다^_^&lt;/p&gt;
&lt;p&gt;그리고는 취업을 했는데 자바스크립트와 클라우드에 관련한 지식 부족으로 ... 업무를 하는데 어려움을 겪었었다. 그래서 공부를 시작하기로 마음 먹고 이 참에 기술 블로그도 다시 해봐야겠다고 생각했다. 그 때는 벨로그를 사용했는데 내 기준 제일 깔끔하고 가독성이 좋아서 선택했었다. 벨로그 메인 트렌드 탭에 올라오는 글들을 읽어보는 것도 재밌었다. 나도 재밌는 글 많이써야지 하고 야심차게 시작을 했는데...&lt;/p&gt;
&lt;p&gt;주로 개념 정리를 하다보니 그냥 여기저기서 긁어온 내용을 누덕누덕 기운 누더기 포스팅만 잔뜩 생겼었다. 당연히 궁금했던 내용, 알아야하는 내용을 찾아보고 이해한 내용을 정리하면서 큰 도움이 됐고 아직도 필요할 때 마다 정리했던 내용을 찾아보기도 하지만 이런걸 꼭 블로그에 써야하나? 하는 생각이 들었다. 그래서 그냥 다 노션으로 옮겨놓고, 앞으로는 이렇게 개념 정리나 혼자 공부한 내용은 노션에 작성을 하고, 프로젝트를 진행하는 과정이나 하여튼 뭔가 혼자 생각해보고 혼자 해결한 과정 같은 것들은 블로그에 기록해두고 싶었다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d52895fc54b664ba38f119d91faf7535/2e367/latetoolate.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.01449275362319%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADoElEQVR42iWT2U9cZRjG5//wQi80LrWmTS+9NTbGC2xiNahpvZAo2jRpLam1DSmG1oJFqC2LyFraOTMMDOvMMIDMvs+cWc4MAwNtqSytMAtTBC9/voMXT873nbz5vc/7vOfoHL4RPIEJrDNDWO0PiKRshBM2oqlZkZ1EZuFQWtZJetnN0qqPkGonELWSXfGymPOiJh2kFz0sLnnQzbsU5h1GzKM9TE71Ek1aCKsWYgJTtf8V1+ZIpudZEsD49CDV1VVUfXSS6jOnafz5Cr6glaTmFC2gc3gMLLgNuAPD0nX8UMHoGNGEVWAzxJI20QzppQXc/jGGOq8RGW/GPlTP2U8/4KWXX+Hc+a/wh6ZRE7MV4ENcXgWP34A3JNDIqEDN4nJSoNPirgK1ElSnMCstrM53sJc2s581Mdh6gTePvMWxE+9gnuiX0efQOQXo9j6UHBW8QaMARyQjcRkz44+Y5GyW8aex2/u5/+sllDt1KHcvExq9xdXzn/P6kaO8+sZr/NbeSDRuR+f2Cciv4AsZ8IeHCQqkomh8ipQErWX9qOlZQs4BYsM3+bP/Ooa2S/Td+IYP33+X4yeOc/TY29zraCQQnhJgxV0FGDbKyHqBjaBlfDzZXBNtkMxm8MdCKH0tTN2+SNLUhF/fwIOWb7n341m+qHqP2u++xDzejdNtQleBefx63CGFmGS2tpUj83iFUDxKeiVLJKlyt6uDhsvnUH6qxTVwDUvnBQZv1VDz8Uk+qz5Fb3/LIdDhMqJzBfS4gnpisTFyT3Isrz3GFfDKRr0kl9Joy1kcPg89nU3cvniK9quf0PbDaRrqzlBT+zX1Dd/T09vMiLmLBaciwJCRkON3tiLdLMvZYNIzabPIgrziLiYfdZKwuDQOD6Fvq0PffoXB7ib6BnoxmhQmJg3Y5034gxYZWRyG3YNk5pqJjl8nPNtFPOYgu6xKjmFSWpDcaoJMVsZfjPLoUYa1p6sUd0vs7x+wt1emXM6TL2ywk18jHLWgmzHeZNl9h5C5Aad0Ku9tEFdd2GYmUOMBtHQMf8CD1+fG7XERT6j8e3DAgWh3t8hueZtCcVOgfxFVbeiUoVZ85husLrQSdhrYfJZje3uFncI6hdIzKd7in/0icVlSIOBD0zRSqRQejzQRFYp/U5S6fHFdgPbKvzyP8Y960rZfyHjus/V8RYrWD4uKpeeHDsovCvJuh1KpJCOWD587+cq9wO6LvEQgDotPWdKs/AdDvXQRd2Q8cAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;latetoolate&quot;
        title=&quot;&quot;
        src=&quot;/static/d52895fc54b664ba38f119d91faf7535/dd45a/latetoolate.png&quot;
        srcset=&quot;/static/d52895fc54b664ba38f119d91faf7535/948cf/latetoolate.png 138w,
/static/d52895fc54b664ba38f119d91faf7535/6b2ea/latetoolate.png 275w,
/static/d52895fc54b664ba38f119d91faf7535/dd45a/latetoolate.png 550w,
/static/d52895fc54b664ba38f119d91faf7535/d4c13/latetoolate.png 825w,
/static/d52895fc54b664ba38f119d91faf7535/2e367/latetoolate.png 1066w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;나 스스로도 왜 이제 와서... 라는 생각이 들었지만 몰라... 고민 말고 다시 시작해보기로 했다.
왜 깃허브 블로그로 다시 시작을 했냐면 그냥 멋져서 그렇다.&lt;/p&gt;
&lt;h4&gt;플랫폼 선정&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/17e30361762dc704275f0a045ebb7ffc/78612/gatsbyy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.85507246376812%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUUlEQVR42nWSTUtCQRSG/Yv+BBcuQlyIm0QXItGiRaEpRQuxFhqkNyKruyhQklzYRdJFSlRQZJf8CkKs+/WEg7e8WgOH886ccx5meMfFdFmWxbyeZNM0HbW/+meXyxafY43nOxX1qYdlWgtgwzAE3I75MwdQ+9I5yVyyEymIuDq9EcXBYECxWERVVbGfDOq6LnStVvvRs7cVwNvrBzIrR4TcKZbdSdaWdtHGBvFEnHQ6jSRJlEolcrkc0WiUSqVCOBwmn89TrVap1+uMRqNfYEt5pJA6J7d+xlbogMPtC8YfGonNOKlkCo/HQyAQwO/3E4vFCAaDeL1eIpEIPp9PZPsFAqhrBmVJYX9DZm/1mHq5JRr6vT6yLDMcDmk0GjSbTTqdjsiKotBut8lms0I7gDb05f6N3uv71EanKf+52+12F01ZGDKd7trf56+Y1GZN+Qb8DkQRoZ7UTwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;gatsbyy&quot;
        title=&quot;&quot;
        src=&quot;/static/17e30361762dc704275f0a045ebb7ffc/dd45a/gatsbyy.png&quot;
        srcset=&quot;/static/17e30361762dc704275f0a045ebb7ffc/948cf/gatsbyy.png 138w,
/static/17e30361762dc704275f0a045ebb7ffc/6b2ea/gatsbyy.png 275w,
/static/17e30361762dc704275f0a045ebb7ffc/dd45a/gatsbyy.png 550w,
/static/17e30361762dc704275f0a045ebb7ffc/d4c13/gatsbyy.png 825w,
/static/17e30361762dc704275f0a045ebb7ffc/99f37/gatsbyy.png 1100w,
/static/17e30361762dc704275f0a045ebb7ffc/78612/gatsbyy.png 1260w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;보통 깃허브로 블로그를 만들 때 제일 유명한게 Jekyll과 Gatsby였는데 Gatsby가 리액트 기반이라고 해서 관심이 갔다. 안그래도 막막한 블로그 만들기... 조금이라도 익숙한 환경에서 진행을 해보고 싶었다.&lt;/p&gt;
&lt;p&gt;그래서 관련된 내용을 찾아보니 Gatsby가 유용한 플러그인들도 많이 제공을 하고, 성능도 더 좋다고 하길래 더 고민없이 Gatsby로 선택했다! Jekyll은 사용해보지 않아서 비교는 못해보겠지만 확실히 리액트 기반이라 큰 어려움 없이 진행할 수 있었던 것 같다. 아직 SSG에 대한 내용이나 Gatsby프레임워크, GraphQL을 몰라서 반도 모르고 사용한 느낌이라 이 부분들에 대해서도 더 찾아봐야할 것 같다.&lt;/p&gt;
&lt;h4&gt;깃허브 페이지로 블로그 올리기&lt;/h4&gt;
&lt;p&gt;먼저 틀만 만들어진 블로그를 Github Pages로 올려보고 싶었다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. Gatsby 프로젝트 생성&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. Github Repository를 생성하고 Gatsby 프로젝트와 연결&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. Github Pages 설치 및 배포 설정&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;그 과정은 이 순서로 진행을 했다. Gatsby는 리액트 프레임워크로 SSG(Static Site Generator, 정적 사이트 생성기)이다. 여기서 정적 사이트란 HTML, CSS, JavaScript로만 만들어진 사이트를 의미한다.&lt;/p&gt;
&lt;p&gt;그래서 이걸로 어떻게 블로그를 만드는거냐면 내가 Markdown으로 글을 쓰면, 이걸 SSG가 HTML코드로 변환을 해서 정적 사이트로 만들어 주는데, 이 만들어진 정적 사이트를 블로그로 사용하는 것이다. 이렇게 하면 정적 파일만 배포하면 되기 때문에 별도의 서버를 운영할 필요가 없다는 장점이 있다.&lt;/p&gt;
&lt;p&gt;아무튼 이렇게 블로그를 만들었으니, 배포를 해야하는데 이 때 사용하는 것이 Github Pages이다. Github pages는 github에서 제공하는 정적 웹사이트 호스팅 서비스로, 자신의 repository내용으로 웹페이지를 구동할 수 있게 해준다.&lt;/p&gt;
&lt;p&gt;자세한 진행 과정은 &lt;a href=&quot;https://devfoxstar.github.io/web/github-pages-gatsby&quot;&gt;이 블로그&lt;/a&gt;를 보고 진행하였다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 498px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1d2c8e790c3494081fbeb9b4ab06c4d9/79e1b/originblog.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 168.84057971014494%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEmElEQVR42qVWS0/jVhT2L2Nf2DBdICTQFAmQOj9hRkhV1S4qFlVFQVRI3fQ1s6SLDlRIFWphKqYaJhAeSZw4sWPHdhznTZz313NO4vAcGM04OrnX9rnfPb7nO9+9Cu65+v2+2ENXf2j8rxSLRaytreHw8BAHBwfY39+XdmdnB5qmQdd1rK+vY3Pzd5zHzpFIJLD1cguRSATH0WO4rjuanC9FVVXMz89jcXERExMTWFhYwPj4J5iensbY2BgBbeLJ508wNzeHmZkZfProEZ4+fYapqSlMTk4iGo0KUK/XGwB2Oh0cHR0hnU6jXC6j0WjA8zz4vo/d3V1py+UKCoUCTNOEbTu4qNfhOo74dbvda5+vnJ6cUkTjmJ2dxfLyMpaWlrC9vX1rDa+u5bv6ApjL2VhdXcXKygqt1Q94/PgzbGxsyEuOPgTtsfX68mlyP2xvAd7MWJ0+Jwiao9kvAW6D3mXKKAJy6vW6IwJ86CURZmKn0JIJeZA1LdiOS3TIUyJ8pDMGLFoWbtkyepZ8cigWS+LnsJ9fRN4ryDOlVrDw/Luv8NPyM1TyWeQcD8mUBiNrisUTSbpPQ0tnoKopqMkUYnF1OIE+nEyXQGq0XIqhxfHlN99i6YuvET+LwvV8ZIwstQWZPUc0cfMeTMuGSYP5Gfd1wxxG78jEPkU5+uQwU8wpnk1LpZBzfUSNIuJWCUeZAg41Dye6j/9UF6fZIo6pf0JtzCxKonjtJSlXAYN2B8cZDwcxixx9tDs9BK0Omu0uGbXUD6jfanfEN3w3SGyYlOFNSI1qo41irSntB2W5/5CK9G/aMABc3l8HpPtuSFoy6fduEPk9ZezOSvnYSylUA/zxJoM3qTwiaQ9bb3UcqA724zZekf2bcMQ88rtLDG4BVmjxtyJZ7BybiBAVXr418HwvQa2OvZhN73T8/HccTuni/QCbQQDfdVAplVAgfatWSvduB7csfBcCdkkUGgQatFpotdrEtbZkL0zSZWb7t+TqrmiVZrOFlJaRmuQC5zLTRQCsQa1SmXEt60Z2JBzsb1o5KbmUlpZ6D4LBGiusfeyc0Q2pW1YTdswTMN8zmEnqwu+5zYpZAsptmyuGMEabFCNrFAlHw4MYIENFzxFwNPzOyFoyWB8qEPuxcb9cqaJWq4vUNWnZlGq1JmCDT7BGasLO3HcIlFXFdgbKw5PkSGFc15Mx4ZdpaZ3U/gIK//FgfsCAalKTKLllabpahtc7H1kpffTfTZ1R9km+GiRBhldDLWjB8usiUyxRLE2mX4NNhL5odlCqN68F2B/+rk4ogHa5ge//PJVK+XVPxYtXSbzYV/HbPwlsvtbwC1XJj3+dSfnJCeGhSmlRZvIk+36pgjIlqFAqo9khESVj0ne7PRHR7j1b51WCK8wj3rU429VaDZVq9ePUJqBKYUCftkA+wzCvuFqYMkwR3nz4GW+R4VbJ/h7xrkT+tu3KfXg4UPikwKxn6sjORpXAvDs7j9PxLSEUYmDmm5DbMMWft1TmYbhXM7lHgCGJeQCftpxhvQ5IbEsZ8tbKUZnkw5Ny7fM4m05hPDlXCQP+D5bF/egPmKDqAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;originblog&quot;
        title=&quot;&quot;
        src=&quot;/static/1d2c8e790c3494081fbeb9b4ab06c4d9/79e1b/originblog.png&quot;
        srcset=&quot;/static/1d2c8e790c3494081fbeb9b4ab06c4d9/948cf/originblog.png 138w,
/static/1d2c8e790c3494081fbeb9b4ab06c4d9/6b2ea/originblog.png 275w,
/static/1d2c8e790c3494081fbeb9b4ab06c4d9/79e1b/originblog.png 498w&quot;
        sizes=&quot;(max-width: 498px) 100vw, 498px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;처음엔 이런 모습이었다.(모바일 화면) 저 kyle mathews라는 분이 Gatsby 만든 사람이라고 한다... 안녕하세요 대단하십니다.&lt;/p&gt;
&lt;h4&gt;블로그 디자인 및 기능 추가&lt;/h4&gt;
&lt;p&gt;깃허브 블로그의 가장 큰 장점은 모든걸 커스터마이징할 수 있다는 것이다. 깃허브 블로그를 선택한 이유가 멋있어서... 라고 했는데 이 점이 제일 멋있는 것 같다.&lt;/p&gt;
&lt;p&gt;먼저 원했던 기능들을 추가한 다음, 디자인을 추가했다.&lt;/p&gt;
&lt;h5&gt;카테고리 기능&lt;/h5&gt;
&lt;p&gt;카테고리 추가는 그냥 마크다운 문서 가장 위쪽에 있는 메타데이터를 &lt;code class=&quot;language-text&quot;&gt;frontmatter&lt;/code&gt; 라고 하는데 그냥 여기에 category 항목만 추가하면 됐다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/09b8c4da44f5f8c31f020b78b3482e03/c0255/frontmatter.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.362318840579707%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA0UlEQVR42o2P227DIBBE8x1pDMTAcrGNsUNza6u2Uvr/nzQFZFnOWx6OZgeNdocd5xy+D5DkoGQLUhJWq4rREi4rqRaeNBwpeKPRbSg+OELZU9hxIWDmD9B4xnn0eFwm/L5H3OKQ6ZEGj6mz+JxD1eAMTr2r76M3iJkys3Uh47DpCzZeoO2IFHr8pIj7NEDnxvtDg0PDFl1Y5oaxqm/Zrw2FPuZ2V7j0jcdfBNERwZr6vRIQBbFh47nga+ZpYRdmKONwCnvIluWLDCxf55vgq/wDorCPUPfKlSsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;frontmatter&quot;
        title=&quot;&quot;
        src=&quot;/static/09b8c4da44f5f8c31f020b78b3482e03/dd45a/frontmatter.png&quot;
        srcset=&quot;/static/09b8c4da44f5f8c31f020b78b3482e03/948cf/frontmatter.png 138w,
/static/09b8c4da44f5f8c31f020b78b3482e03/6b2ea/frontmatter.png 275w,
/static/09b8c4da44f5f8c31f020b78b3482e03/dd45a/frontmatter.png 550w,
/static/09b8c4da44f5f8c31f020b78b3482e03/d4c13/frontmatter.png 825w,
/static/09b8c4da44f5f8c31f020b78b3482e03/c0255/frontmatter.png 920w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그리고 이걸 활용해서 카테고리 목록을 가져왔다. graphql 초면이라 이 부분은 구글링 했다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt;categories&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token property-query&quot;&gt;allMarkdownRemark&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property-query&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;field&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;frontmatter___category&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;fieldValue&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;totalCount&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;아무튼 이렇게 가져와서&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; categories &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;fieldValue&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ALL_NAME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;totalCount&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; allPosts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;categories&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;group&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 전체보기 카테고리까지 추가한 다음 화면에 뿌려줬다.&lt;/p&gt;
&lt;p&gt;그 다음 카테고리를 선택하면 페이지 전환 없이 그냥 포스트 목록에서 제목에 검색 키워드가 포함되는 포스트만 조회되도록 하고싶었다. 이 부분은 따로 질의 하지 않고 그냥 전체 포스트 목록에서 걸러주는 식으로 만들었다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;curCategory &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ALL_NAME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setPosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;allPosts&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;setPosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;allPosts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; post&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;category &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; curCategory&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;curCategory&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 카테고리가 바뀔 때 마다 다른 포스트들을 보여주도록 했다.&lt;/p&gt;
&lt;h5&gt;검색 기능&lt;/h5&gt;
&lt;p&gt;검색도 카테고리와 마찬가지로 전체 포스트 목록에서 키워드로 걸러주는 방식으로 만들었다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; searchProc &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 검색 키워드가 없으면 전체보기 카테고리로 이동&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;keyword &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;keyword&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;trim&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;setCurCategory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ALL_NAME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;setPosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;allPosts&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setPosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;allPosts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 키워드가 포스팅의 제목 또는 설명에 포함이 되어야 하고 현재 카테고리가 전체보기거나, 전체보기가 아니라면 해당 카테고리에 속하는 게시글이어야 한다. (카테고리 별로 검색)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;post&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keyword&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; post&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keyword&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;curCategory &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ALL_NAME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; post&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;category &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; curCategory&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;keyword&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; curCategory&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게... 했어욥&lt;/p&gt;
&lt;p&gt;대충 이 정도만 추가하고 본격적으로 꾸미기 시작했다. 일단 나는 최대한 심플하고 깔끔하게 만들고 싶었다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0127c260b77f35d06ce90db0673ad16e/a2ef2/mynaverblog.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.28985507246377%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACIklEQVR42q2T30tTYRjHz3/UVRcJ0T/QRYUXRWB10U0ohaCBsAwr3RwGlkTJ0DJSSprGSvej4Zruh2dzRxf2QyWKJumctUXu7Gw7+3Teo6sWXWT5wJf3eR8O3/d5nu/3SJqmkctmKapbVCoVdF3/J5TLZUqlElKxWERVVYoGsSiIuzhL4qzmu4AkuhLYq5AKBRVNK/woZDIZCka3omNNze+e8PeCGFnspLKzm7+N6pQSexwmoaoWzM6q+zRR7dJQr+a+g+3vfuZqPm9ymIS6Xv5vYaoPSWJLy6lN/IEZ4oko71PrbKytsrQgk0zIuCddpNPrrCwqJEJ+3izEmI9F+LKZZuV1koQcZi4S5K0SMr0oaSWdwIxMj/USj50DeJ4HmA294EaXBVt3FycbTiFPB1mMeng22Mkd60UO7t9HwDuB+5EDxX2XwMh1wqO9hjMKSIJ1qM+K3dKEa6yf4cEe4vE4F5obaWlrxnrlGqGpILkPCrHxPoZv2zhUdwD/xBPczgfklnykZkdJRcaMuQ1j57e+Mey4idPRgeu+HSXsxuv1crT+CKcbTtDaeB5/MIz7Xi9nDtdhOVvPseNNeCa9+F39JP1DZF750FZlQzSDUDXMq0SnkaeeMuMbJ7vxkUg0QntHO7d67Ax02pmdSzDpfIjtchuOq610t5zjpRJH+5pi7d08ibCPz5+Wt20j1BX/4J8UqzV8qcYJupGLmmnqX4z9HWKCAmTncr+3AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;mynaverblog&quot;
        title=&quot;&quot;
        src=&quot;/static/0127c260b77f35d06ce90db0673ad16e/dd45a/mynaverblog.png&quot;
        srcset=&quot;/static/0127c260b77f35d06ce90db0673ad16e/948cf/mynaverblog.png 138w,
/static/0127c260b77f35d06ce90db0673ad16e/6b2ea/mynaverblog.png 275w,
/static/0127c260b77f35d06ce90db0673ad16e/dd45a/mynaverblog.png 550w,
/static/0127c260b77f35d06ce90db0673ad16e/d4c13/mynaverblog.png 825w,
/static/0127c260b77f35d06ce90db0673ad16e/99f37/mynaverblog.png 1100w,
/static/0127c260b77f35d06ce90db0673ad16e/a2ef2/mynaverblog.png 1970w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이게 내 네이버 블로그인데 뭔가 이런 느낌으로 만들고 싶었다. 뭐... 아무것도 없어보이긴 하지만 그래도 있을 기능 다 있고도 엄청 깔끔한 점이 맘에 든다.&lt;/p&gt;
&lt;p&gt;그리고 &lt;a href=&quot;https://zoomkoding.com/college-timetable-development/&quot;&gt;이 블로그&lt;/a&gt;도 많이 참고했다.
사실 거의 그대로 만든 느낌인데 개인적으로 카드 형태의 목록을 좋아해서 포스트 목록은 카드 형식으로 만들었다!&lt;/p&gt;
&lt;p&gt;제일 많이 신경 쓴 부분은 폰트인데 폰트는 &lt;a href=&quot;https://noonnu.cc/font_page/448&quot;&gt;ibm 폰트&lt;/a&gt;를 사용했다.
처음에는 &lt;a href=&quot;https://noonnu.cc/font_page/452&quot;&gt;paybook 폰트&lt;/a&gt;를 사용했었는데 적당히 둥글고도 단정한 느낌이 좋았지만 ibm폰트가 더 깔끔하고 가독성이 좋은 느낌이라 이걸로 결정했다! 하지만 언제 또 바뀔지 모른다.. 결정느림보에게 이렇게 자유도 높은 플랫폼은 힘들어요...&lt;/p&gt;
&lt;h4&gt;댓글 추가하기&lt;/h4&gt;
&lt;p&gt;무릇 블로그라면 댓글 기능이 있어야한다.&lt;/p&gt;
&lt;p&gt;보통 Utterances를 많이 사용하는 것 같은데 나는 giscus라는 것을 사용했다. 테마도 다양했고 반응 기능, 정렬 기능, 답글 기능 등 Utterances보다 많은 기능을 제공하고 있었기 때문이다!&lt;/p&gt;
&lt;p&gt;giscus는 일단 댓글 전용 리포지토리를 만들고, Discussions를 활성화 시킨 다음, &lt;a href=&quot;https://giscus.app/ko&quot;&gt;이 문서&lt;/a&gt;에 나온대로 진행하면 된다. 댓글 기능은 포스트 별로 discussion을 생성하고, 해당 discuusion에 달린 댓글을 포스트에 보여주는 방식인 것 같았다.&lt;/p&gt;
&lt;p&gt;이 문서의 마지막에 페이지에 넣으라고 스크립트를 제공해주는데 이걸 어떻게 적용시키지...? 싶었다. 그래서 찾아보니 &lt;code class=&quot;language-text&quot;&gt;@giscus/react&lt;/code&gt; 라는 패키지가 있었다. 이 패키지를 설치하고 &lt;a href=&quot;https://github.com/giscus/giscus-component&quot;&gt;여기서&lt;/a&gt; 하라는대로 컴포넌트를 추가해줬다!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Giscus&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;comments&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;klloo/blog-comments&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;repoId&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;category&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;categoryId&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;mapping&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;pathname&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;strict&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;reactionsEnabled&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;emitMetadata&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;inputPosition&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;bottom&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;preferred_color_scheme&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ko&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;crossorigin&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;anonymous&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token attr-name&quot;&gt;async&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;giscus에서 제공해주는 스크립트의 속성명(케밥케이스)과 컴포넌트에 넣어야하는 prop이름(카멜케이스)이 다르기 때문에 주의해야 한다. 이 사항은 &lt;code class=&quot;language-text&quot;&gt;@giscus/react&lt;/code&gt; 패키지 설명에도 나와있긴하다.&lt;/p&gt;
&lt;p&gt;그러면 댓글 기능 완성이다. 그런데 이렇게만 하면 내가 포스트들을 일일이 확인해야 댓글이 달렸는지 알 수 있다. 그래서 댓글이 달리면 슬랙으로 알림이 오도록 설정해줬다.&lt;/p&gt;
&lt;p&gt;먼저 슬랙에 워크스페이스를 만들고 슬랙 봇을 생성해준다. 그리고 댓글 전용 repository에 Actions를 추가해준다. 그럼 끝이다&lt;/p&gt;
&lt;p&gt;github actions는 github에서 제공하는 CI/CD를 위해 제공되는 서비스로 repository에서 에서 어떤 이벤트가 발생했을 때 특정 작업이 일어나게 하거나 주기적으로 어떤 작업들을 반복해서 실행시킬 수도 있다. 그래서 댓글이 달리면(discussion이 생성되거나, discussion에 댓글이 달렸을 경우), 슬랙으로 알림을 보낼 수 있도록 설정해주면 되는 것이다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bf44b554a1e617c1f0b5bcd1abcc7b97/d7ceb/slackcomment.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.10144927536232%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCElEQVR42p2RW2vCQBCF8///SaEv/QO2Ul9K9VGkBRONunHjJRdzT3a/TgQfpKWoA2eHZZdzZs5xRi8jJu8TVLDGXyzYak2S5RhjuFTXdVf3/8qxxpKmGVN3zfdSMVdH3PDE4VTxSDlFVpJnBcFWc4xiqqq+a6JfhG/PQ8bDsayqWPlLdKiJkoyqbh4jNJ0hSU7MPMXXQuGpA9N1TJiW5w/2XsKmaijyQkLRaL07k3ci0gth7W3ohcsaI5s5r08DPgcfBJsVvjtHq0C8TCSoHCukN0H8tmWDkTxkwpo4TplvdnjBHj+MmKkYFRWPedgfbduSy8hl3QrEArGhlt6n3b9d+l+w9trlH+EavUn9vw4vAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;slackcomment&quot;
        title=&quot;&quot;
        src=&quot;/static/bf44b554a1e617c1f0b5bcd1abcc7b97/dd45a/slackcomment.png&quot;
        srcset=&quot;/static/bf44b554a1e617c1f0b5bcd1abcc7b97/948cf/slackcomment.png 138w,
/static/bf44b554a1e617c1f0b5bcd1abcc7b97/6b2ea/slackcomment.png 275w,
/static/bf44b554a1e617c1f0b5bcd1abcc7b97/dd45a/slackcomment.png 550w,
/static/bf44b554a1e617c1f0b5bcd1abcc7b97/d4c13/slackcomment.png 825w,
/static/bf44b554a1e617c1f0b5bcd1abcc7b97/99f37/slackcomment.png 1100w,
/static/bf44b554a1e617c1f0b5bcd1abcc7b97/d7ceb/slackcomment.png 1446w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;자세한 과정은 &lt;a href=&quot;https://jjam89.tistory.com/287&quot;&gt;이 블로그&lt;/a&gt;를 참고했고, 이렇게 해주면 슬랙으로 알림이 잘 오는걸 확인할 수 있다!&lt;/p&gt;
&lt;h4&gt;Google Search Console 등록하기&lt;/h4&gt;
&lt;p&gt;이렇게 블로그도 만들고 댓글 기능도 만들었는데 아무도 안찾아오면 외롭고 슬프니까 Google Search Console에 등록해준다.&lt;/p&gt;
&lt;p&gt;이 과정은 Gatsby 플러그인을 사용해서 robots.txt과 sitemap을 생성하고, Google Search Console에 sitemap을 등록해주기만 하면 된다.&lt;/p&gt;
&lt;p&gt;등록하는 과정은 &lt;a href=&quot;https://janeljs.github.io/blog/google-search-console/&quot;&gt;이 블로그&lt;/a&gt; 내용을 참고하였다. 일단 따라서 등록은 했는데... 잘 된건지 모르겠다. 보통 노출되는데 며칠 걸린다고 하니까 좀 기다려봐야겠다&lt;/p&gt;
&lt;p&gt;+ 하루만에 노출이 되고 있는 것을 확인했다!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/21fa6a716f6034cfbaa95add0ea01313/332b4/googlesite.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.04347826086957%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABKElEQVR42s1Ra0/DMBDr//+VIChtx9q830nNJWvHJjZgEh84yTolcZyz0ym2wBqFWkIIcM5bl1Ii59z213W9QikF3jlY62F9ImTab1R0kjE4axpRCEmCn6LOecQYG1JKCCE2+BDgvUcgRB8QYkbZFDtsVacJRHT0ciVXKK1pCrutA4wxUEpBa0P8glvVlUI2ysmKVgZGW4rAIaeCetZ6Xq8urRcxxEiTk4N93V2yDq8cb08zDv2C6YWBTRpLr6GZO2dXndS+1x7JecLLd8dxxDCM1KfWGeMtT0Y510xrPx6PZFnjXp0Fa6aafksKjphOFm798I4fBWvGfW8xPL9jIsvLqKBmj5LuX/5WsFrmM8d8YJDcIIWCYNKXD3lAEL+y9JDgX9T/F/wAc/UAviaoBeEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;googlesite&quot;
        title=&quot;&quot;
        src=&quot;/static/21fa6a716f6034cfbaa95add0ea01313/dd45a/googlesite.png&quot;
        srcset=&quot;/static/21fa6a716f6034cfbaa95add0ea01313/948cf/googlesite.png 138w,
/static/21fa6a716f6034cfbaa95add0ea01313/6b2ea/googlesite.png 275w,
/static/21fa6a716f6034cfbaa95add0ea01313/dd45a/googlesite.png 550w,
/static/21fa6a716f6034cfbaa95add0ea01313/d4c13/googlesite.png 825w,
/static/21fa6a716f6034cfbaa95add0ea01313/99f37/googlesite.png 1100w,
/static/21fa6a716f6034cfbaa95add0ea01313/332b4/googlesite.png 1826w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item></channel></rss>