<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Gatsby Starter Blog RSS Feed]]></title><description><![CDATA[장희영의 블로그]]></description><link>https://klloo.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 31 Jul 2023 04:20:12 GMT</lastBuildDate><item><title><![CDATA[첫 사이드 프로젝트 진행기]]></title><description><![CDATA[…]]></description><link>https://klloo.github.io/alteration-detective/</link><guid isPermaLink="false">https://klloo.github.io/alteration-detective/</guid><pubDate>Mon, 31 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;구구절절 프로젝트 개요 및 기간&lt;/h3&gt;
&lt;p&gt;수선탐정 프로젝트는 근처의 수선집을 찾아주는 웹 프로젝트 입니다. 별건 아니고 그냥 지도앱인데, 이런 저런 기능은 덜어내고 수선집 조회에만 특화된 지도 앱이라고 보시면 될 것 같습니다.&lt;/p&gt;
&lt;p&gt;프로젝트를 시작한 건 웹 퍼블리셔로 일하던 친구가 학습 목적으로 이런 프로젝트를 진행하려고 하는데 혹시 같이 하지 않겠냐고 제안해줘서 시작하게 되었습니다. 그렇게 해서 기획자 2 퍼블리셔 2 개발자 1 (나) 이렇게 총 5명이 진행을 하게 되었습니다.&lt;/p&gt;
&lt;p&gt;그런데 프로젝트 초기에 친구가 개인 사정으로 나가게 되고, 저와 다른 분들 간의 연결 고리 역할을 해주던 친구가 없어지니 프로젝트는 자연스레 흐지부지 되었습니다. 이 때가 아무 기능 구현 없이 일단 대충 화면 틀만 잡아놓은 상태였습니다.&lt;/p&gt;
&lt;p&gt;하지만 저는 공부를 해야했던 입장이었기 때문에 논의가 필요했던 모호한 기능들은 다 덜어버리고 최소한의 기능만으로라도 구현해보면 좋을 것 같아 진행해보게 되었습니다.&lt;/p&gt;
&lt;p&gt;친구가 나간 이후 슬퍼하며 방황하고….하지는 않았지만 흐지부지 된 이후 다시 맘 먹고 진행하기까지의 공백이 꽤 길었는데 이 기간을 제외하고 순수하게 개발을 진행한 기간은 대략 2주 정도 되는 것 같습니다.&lt;/p&gt;
&lt;h3&gt;기술 스택&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fa26a7e2739ca48d335d3373c30b7f77/23296/skills.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.46376811594205%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACR0lEQVR42q1Tu24TURD1t9GBREGDREPB51BGCCFR8SjdgkRrGmKTEIJiR5aJiV/7sL3v5/XuHubM2hCUlFzp6s7Mzpx5nNlOXdfwfR8my5DLtWwbk8kESRyjqSqYskQsMn3SNEVRFKpPp9NWThL4UaQ2ng4DtoGPL/MrOFGoRtt1cfTyFZ4fvcDrt++xWq0QhiFOTk4UqJQYYwz8IEC42QCej0Dk3W7XAoaS4cN8hKltocgLDC9HuP/wEe49eYwHz55icT3XSnq9HgaDAWazGTYC9PX0FP3eZzSzJSLBUEBmo8JT7BrEBkjKWqqOtaqyNFiv19ry4VwMR7AdV+WmafSl7y3AsGjwS+IsGUdi1F3tBPQ8T+W6rtDtdtE/Pt7r9b+AnAX751uWBerKoKl3QkaBPM918NvtVitkAG0kJxMC25hSLwFZbYfoDOBcbGH4YjjE2fdzLBZLOI6D5XKpwUx6rT4WxuMxvsn8pldXsCwL8/lcfZRlotP5MA/qrIKt0YlV3WzZ1I12kstsq/1MGcfvbP/PDCsJzNI2i+8F+NT/iHfdN7gcXupOWu4GliT2nSmMjLbxbUSjPhaWgySJ72Y5NwnKStlAVmbwk5bZrayIK2NZ+AGaaNlWFbpIf55JojVSWak7AR2zFoZDpKKTjMPhzh1a9rwMP84tRLIGcVax39trQwbZvzGVGCtljx95aXflzyFxbbURRsOV6LHK9KnkFyUG3w4HygqZIQyD/fv3kjCSk0hblOM4EtISffn/3vRRlvGfz29+kSkxXCNDWwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;skills&quot;
        title=&quot;&quot;
        src=&quot;/static/fa26a7e2739ca48d335d3373c30b7f77/dd45a/skills.png&quot;
        srcset=&quot;/static/fa26a7e2739ca48d335d3373c30b7f77/948cf/skills.png 138w,
/static/fa26a7e2739ca48d335d3373c30b7f77/6b2ea/skills.png 275w,
/static/fa26a7e2739ca48d335d3373c30b7f77/dd45a/skills.png 550w,
/static/fa26a7e2739ca48d335d3373c30b7f77/23296/skills.png 675w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;백엔드 프레임워크로는 Express를 사용하였습니다. Express는 라우팅과 미들웨어 기반인 경량형 Node.js 웹 애플리케이션 프레임워크입니다. 간단한 프로젝트를 진행할 것이었으므로 가볍게 웹 서버를 구현할 수 있는 점을 고려했고, 프론트와 백 모두 같은 언어로 개발하면 생산성 측면에서도 큰 장점이 될 것 같아 Express를 선택하게 되었습니다.&lt;/p&gt;
&lt;p&gt;데이터베이스는 mysql을 사용했습니다. 저에게는 raw쿼리가 더 익숙했고 orm으로는 복잡한 쿼리를 작성하는데 어려웠던 기억이 있어서 orm은 사용하지 않고 raw쿼리와 knex.js라는 쿼리빌더 라이브러리를 사용했습니다. 그렇기 때문에 프로젝트 인원들이 로컬에서 각각 데이터베이스를 관리하는데 어려움이 있을 것 같아 heroku에 데이터베이스를 생성하고 하나의 데이터베이스를 사용할 수 있도록 했습니다. heroku는 PaaS(Platform-as-a-service) 클라우드 서비스로 heroku를 사용하면 간단하게 프로젝트를 배포할 수 있습니다.&lt;/p&gt;
&lt;p&gt;프론트엔드 프레임워크로는 vue를 사용했고 상태관리 라이브러리로는 vuex를 사용했습니다. vue 와 자바스크립트 학습이 프로젝트의 목표 중 하나였으므로 vue를 사용하게 되었습니다. ui 라이브러리로는 element ui를 사용했습니다. element ui는 깔끔하고 다양한 컴포넌트를 제공해주고 있지만 생태계가 풍부하지는 못하다는 단점이 있습니다. 하지만 공식 문서가 잘 되어있어서 크게 상관은 없었던 것 같습니다.&lt;/p&gt;
&lt;p&gt;소스는 깃허브로 관리했고 notion과 swit이라는 협업툴을 사용했습니다. 주로 개발자간에는 노션을 사용하여 일정과 개발 관련된 진행 사항을 공유했고 기획자와 개발자간에는 swit으로 의사소통을 하였습니다. swit은 얼마 사용하지 못하였지만 노션은 혼자서라도 사용하며 일정을 관리했습니다.&lt;/p&gt;
&lt;h3&gt;개발 내용&lt;/h3&gt;
&lt;p&gt;개발한 기능은 회원 가입 및 로그인, 수선집 조회(지도 및 리스트), 수선집 리뷰 작성, 수선집 즐겨찾기 이렇게가 끝입니다.&lt;/p&gt;
&lt;p&gt;지도와 주소 변환 관련해서는 네이버 api를 사용하였습니다. 주소 검색시에는 공공 api를 사용하였고, 세탁소 데이터 또한 공공데이터에서 가져온 데이터를 가공하여 사용했습니다. 회원가입시 이메일 인증 과정은 nodemailer라는 패키지를 사용하였습니다. nodemailer는 쉽게 이메일을 보낼 수 있도록 하는 Node.js 애플리케이션용 모듈입니다.&lt;/p&gt;
&lt;h4&gt;디렉토리 구조&lt;/h4&gt;
&lt;h5&gt;backend&lt;/h5&gt;
&lt;p&gt;MVC 패턴을 참고하여 설계했습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9e37ab997fbcb619a419da1a2d91e16d/c6bbc/backend.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.449275362318836%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB70lEQVR42oWSXYsSYRTH56ZdBV8Yo5hx3lqpiwhZCnqBqC3c3RkNaunSCSRXo/oaruMH8it454VeiAheiO/v3oji+z/PE2MLQT1wOPxn5vmd/zlzuFwuh6/fvuP6x09cJxJI7COZTCIWiyGbzYLOfD7HYrHAarXC/w4XNaO4c0+E9uwleI8bDscxXC4XOI5DKBRCt9tFuVxGp9NhsV6vsVwuGdyO28W4L6YJWVbw+PwDTp4+h6RqUBQFPM8jHA6j2WyiWCyi3++j3W6z3Gg0GJw0FazX6xgMBn+AguiHfP4R0sUVhMAjiIIAj8cDwzDQarVQrVYxHA4ZpNfrMQhBqRhp+mY2m90C+v0IXH6CdqZDfnIKTXsAr9cLXdcZhBzabkiTG4LYjglMebvdgjP3QFEUcXZxifd6GC9ev0EwGITPxzMgXSwUCocZkjNyTG3WajUWVIDe0c87OHyoX+Hk1VvIogBxr91uNwNOp1PWFrmhbINtx/bsdrvd75bNaBSKqiJgfIb2zoAkSVD32ufzMSBdopYmkwmbI8V4PGZ5NBr9vTbxeJytiEsNwHH3Po6PjuB0OtmzSCTCZlMqlZgTgpOm1aF5UdjODsBKpYJ0Og3rJgUrfQPLspDJZJBKpZDP59lHtHebzYbtGkH+tdi/AGnOUkI1Pq70AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;backend&quot;
        title=&quot;&quot;
        src=&quot;/static/9e37ab997fbcb619a419da1a2d91e16d/dd45a/backend.png&quot;
        srcset=&quot;/static/9e37ab997fbcb619a419da1a2d91e16d/948cf/backend.png 138w,
/static/9e37ab997fbcb619a419da1a2d91e16d/6b2ea/backend.png 275w,
/static/9e37ab997fbcb619a419da1a2d91e16d/dd45a/backend.png 550w,
/static/9e37ab997fbcb619a419da1a2d91e16d/d4c13/backend.png 825w,
/static/9e37ab997fbcb619a419da1a2d91e16d/c6bbc/backend.png 910w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h5&gt;frontend&lt;/h5&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/449b9d50195749ae9144f499ecab9cd4/38a65/frontend.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.04347826086957%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaElEQVR42n2TWU8aYRSGJ6F3sshWxmGxhtGCghqCBazGAoWS9MKEhGCa+Gv8T/4EhJJ4YSCyurC5At4QNuXtnM+OJdX2S06+M5nMc97znjPcj/19fPkWQzASRSgUQiQSQTQaRTgcxuHhIeg8Pj7i6emJhXwmkwneOtw7pRpL21+xvhPCB5sNOp0eBoMBCoUCiUQCnU4HlUoF19fXaLVaDPQvGAOaDHos+zaxHNuF3W6HMMfDYrVCo9EgmUyi3W4zUL1eR6PRYAXomeLq6ooVonfD4fAZqJ3VYGndA2cwBofXD95qA28yQalUYm9vDzc3N0zhw8MDAxCUgnKyYjweYzQavajmdFotPP5N7OzG4Y1+x6qUu1ZWoFKpGPDu7g6lUgm3t7c4OztjYBnyZssGvQ7rvgC2trbxaW0VTqcDNslLAlLLpJBABGw2m6/8+9tTjrwi78SNAESvj7XL8zxrmYAEury8ZDBqlQrc398zb+kmtdNT59QScFECuv2fsRaMYGFhAVZpKDKQWp4G0k3+1Wo1dne7XVZ0MBj8UbgoinB5N+AJReByuSFKz/JQaIq5XI61fXp6ikKhwPJqtYpiscji5OQEFxcXv4Gzs3CIdsx7fDAFQnhvNMIsCFCp1QxIlUkhrQl9REE5qaWcFJPafr//DFRJSkSHE5ZAEILbA95ogCABZ2ZmEI/HWcvZbJYpIQgpI9C0DVSA/KTinNVigWCbh/BxGYLZjDlpsc3STVYcHByg1+shn8/j/PycLbCsltZGXh/5pl+TK5fLSKVS+Hl0hEwmLUUG6XQax8fHL0bLE5RX5H+/3i+JDP4fiIirzQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;frontend&quot;
        title=&quot;&quot;
        src=&quot;/static/449b9d50195749ae9144f499ecab9cd4/dd45a/frontend.png&quot;
        srcset=&quot;/static/449b9d50195749ae9144f499ecab9cd4/948cf/frontend.png 138w,
/static/449b9d50195749ae9144f499ecab9cd4/6b2ea/frontend.png 275w,
/static/449b9d50195749ae9144f499ecab9cd4/dd45a/frontend.png 550w,
/static/449b9d50195749ae9144f499ecab9cd4/d4c13/frontend.png 825w,
/static/449b9d50195749ae9144f499ecab9cd4/38a65/frontend.png 1075w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;에러 처리 방식&lt;/h4&gt;
&lt;p&gt;Express는 라우팅과 미들웨어 기반의 프레임워크 입니다. 여기서 미들웨어란 HTTP 요청에 대한 응답 과정 중간에 어떤한 동작을 해주는 함수인데 이 미들웨어의 종류 중 Error Handling 미들웨어를 사용하여 에러를 처리했습니다.&lt;/p&gt;
&lt;p&gt;Error Handling 미들웨어는 express-generator로 생성 시 기본적으로 다음과 같이 만들어져 있는데요. 에러가 발생하면 해당 코드가 동작하게 됩니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// error handler
app.use(function (err, req, res, next) {
  // set locals, only providing error in development
  res.locals.message = err.message;
  res.locals.error = req.app.get(&amp;quot;env&amp;quot;) === &amp;quot;development&amp;quot; ? err : {};

  // render the error page
  res.status(err.status || 500);
  res.render(&amp;quot;error&amp;quot;);
});&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;h5&gt;비동기 에러 처리&lt;/h5&gt;
&lt;p&gt;Express는 ES6가 나오기 이전에 거의 다 만들어졌기 때문에 Error Handling 미들웨어가 비동기 에러를 처리하는데 잘 작동하지 않는다고 합니다.
그래서 매 비동기 요청마다 try, catch를 달아주어야 하는데 이를 해결하기 위해 router 함수를 감쌀 수 있는 wrapper 함수를 정의하여 사용했습니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;module.exports = wrapAsyncController = (fn) =&amp;gt; {
    return (req, res, next) =&amp;gt; {
        // 모든 오류를 catch()로 처리하고 next()로 전달한다.
        fn(req, res, next).catch(next);
    }
};&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이 wrapper함수를 다음과 같이 router에 감싸서 사용하면 매번 try, catch를 사용하지 않고도 비동기 에러 처리가 가능하게 됩니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;const wrapAsyncController = require(&amp;#39;../controllers/wrapAsync.controller&amp;#39;);

router.post(&amp;#39;/register&amp;#39;, wrapAsyncController(UserController.registerUser));&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;h5&gt;응답 클래스 정의&lt;/h5&gt;
&lt;p&gt;서버와 클라이언트 통신 시에 일관된 형식으로 응답을 주고받을 수 있도록 응답 클래스를 정의하여 사용했습니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;class Result {
    success; // 성공 여부
    data; // 전달 데이터
    message; // 오류 메시지

    constructor() {
        this.success = false;
    }
}

module.exports = Result;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;화면단에서는 아래와 같이 사용할 수 있습니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;cpp&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;login(loginInfo)
   .then((data) =&amp;gt; {
     const result = data.data;
     // 응답에 성공한 경우
     if (result.success) {
   	// data로 전달받은 사용자 정보를 가져온다.
       const userInfo = result.data;
   			...
     } else {
   	// 에러가 발생한 경우 전달받은 에러메시지를 출력한다.
       this.$toast.error(result.message);
     }
   })
   .catch((err) =&amp;gt; {
     throw new Error(err);
});&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
 &lt;br/&gt;
&lt;h4&gt;회원 가입 및 로그인&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/431a633a2240b5a21cfafb82ec16cdea/4e814/loginjoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.42028985507246%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0klEQVR42pVTy27bMBDM//9Bjz30UAQFWjQ5BCgatAejQQ8pDMFJakvK0w/Flk1ZEilyycmSsmIFKRCUwIgUxR3O7o4OtHYoBKNkVA6idthIB2UcrLUwhuCce4F234S5v+/HwZbJ4rFFfG0xuWPMLEYLwrK2IKNR1xL94QMNEe/XgbC/7xEIr1OLi7HB2blCMre4ygi59ISOAx208YcR4B9kOQMFNI1fv7wsEKaxV0j4/UdhODH4u7RYsUJrLBMSfFl6YSBm2QiNShKnbsM77dQ+pzxOCRGrjBKD0Zywlr6mBum0xjxrkC00slmDhpWzXqhGQ6qG1RsGhVoHwrJwWD2acKOoLLbKIStZGacZpRIfTnKc/BA4/S7w81ggn+sQqJQOpJbTdx06wpt7hdupxHTBSph8+qixru0uQbxqSttR/512c68p3jLvj3K8O1zi4+cNPh2ucfxFYFW2B31puobsnAHZWAzjCqNJjTiRSK4kljO9r+EoKhFdFhjf6GCb4Z1G/g+F3VpUhK8DgW+DAoNfWwxOC6QXck/ou5zecqfvCcmitc3qzZRfj9Y2xZ4weSDE7MNL78M3CH0z+nhuSmdeqVrUbNaq8X9DWzT3H/ApPwFgjKAMgWCgOAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;loginjoin&quot;
        title=&quot;&quot;
        src=&quot;/static/431a633a2240b5a21cfafb82ec16cdea/dd45a/loginjoin.png&quot;
        srcset=&quot;/static/431a633a2240b5a21cfafb82ec16cdea/948cf/loginjoin.png 138w,
/static/431a633a2240b5a21cfafb82ec16cdea/6b2ea/loginjoin.png 275w,
/static/431a633a2240b5a21cfafb82ec16cdea/dd45a/loginjoin.png 550w,
/static/431a633a2240b5a21cfafb82ec16cdea/d4c13/loginjoin.png 825w,
/static/431a633a2240b5a21cfafb82ec16cdea/99f37/loginjoin.png 1100w,
/static/431a633a2240b5a21cfafb82ec16cdea/4e814/loginjoin.png 1335w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;지도 조회 및 검색&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/107342379a5425ffa6401919ff886129/bb051/home.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.4927536231884%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACOklEQVR42o2TW2sTQRTH8/l88Qv41ooKUkpJrLQ1aK0IbWMK+QiC4FsLoW0a/Rg+SERTm+7uZGdv2cvsbnby95zNVUXpgWF3Z+b89n9uFa012Pg5Ho/L98lkgt/2i2Kxz2v+zmZLiV6vh36/jzzPUVEqh1IZ4iRBGMUEKEpwTothiVIIwnAB4H3pepCOW353u13U63U0T07geS4qYZjBkSFBUzA8jmOkqSJQiihOUBB0rpgVFKSWz9I0K4Ht80tsb1fRaDTguATkA9eL4LoK4YhACV9OSidFZ4WeKivDnKXFJnX8M7b3Zx08ePQEx6934dB+JY4VpNGHMCyIoQ/D8AkaUQrULAW6VMVKi1k+HS8oz9g+nF7g/voWNl/sUz5tVDIKTxDQHAwgbq9hWR4CUsqQiJzSLCPFKTJ6TmZFYnVZlpfAj2dt3Hv4HGs7xxC2QzkcBbCHFlwxQCQMkh3BdyXG+bgEMogXg/VKledd0OmcY21zC+s7h7BsCllRdYdiCMf6CWH6pNCm5N6A/Qq9DLUszqJ1lsBPV108q25go34A0/aoKCqBHEq45jfc3H4huAVTLtvkT1sqnPbmRfsU1aeP8fbNAUUnSSFV1AscqrCE4XyFIR3Yfoh/2d8hX6JWq+Ho6JA6hUJOVATpWfC9EQzrB66N79SgEbveCXhFIe/u7eFdszkFzkcuTmIqQoA8U+Sk7xCynk3KZ7x8tY9Wq0VCKIerF7WeJnyyMrf/W2whjaUQApJmmlvtF048zKWCz1pJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;home&quot;
        title=&quot;&quot;
        src=&quot;/static/107342379a5425ffa6401919ff886129/dd45a/home.png&quot;
        srcset=&quot;/static/107342379a5425ffa6401919ff886129/948cf/home.png 138w,
/static/107342379a5425ffa6401919ff886129/6b2ea/home.png 275w,
/static/107342379a5425ffa6401919ff886129/dd45a/home.png 550w,
/static/107342379a5425ffa6401919ff886129/d4c13/home.png 825w,
/static/107342379a5425ffa6401919ff886129/99f37/home.png 1100w,
/static/107342379a5425ffa6401919ff886129/bb051/home.png 1212w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;수선집 상세 화면&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2d7bdd87686d58e5d5f79aa94e0478cc/27b8e/detail.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 98.55072463768117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD3ElEQVR42m1Ua08bRxTdn5kPfYWUqN/Sj+0HmkJIShxKAkqkpoWipEWhUpNGqFVxCgXaJOAnSTGWwW+v3/Z614992uvTe9fexY060vV4d++cOffcMyNYVh/9fh+DAQXNmqZDVTXnnW0PaLbAoyCKODw6QiQcRjgcQiAQwBE9h0IhRCIRBOk5Ho9DUAnAHg6dRfyr6QY6PZXARu9s23bmbb8fMzNfYPHrJdz23cGN+Xlc/3IWXy0swOfzYf7mLayurkLo0eLYmxBe+58isudH8OUrHB4cIBIIIpE4xeuXu7AsE3t7+7j68RSufngJn1x+H9MfXcb0lSuYnprCp9eu4YP3LmFlZRlCtVLGz2t3sXF/Dk8fPcDm2kNsPv4eT9a/xdaTVTx+cBNKS8IBbbK4MIe7t2awvDCLlcUFLC/5sLx4G999cx9Lvht4tL4GoZhN48d7s3jx7Adsb/2EF883seP/Hdc/+xwb9+aw8fAOKtUqaRdCrVYDa26aJibHcCxZIHAEQZJk7P/hx+HuDo7/+hvZ5DlyuRwS52m8CR5g+7df0Gi1cRyNIpPJolyuwNB1WKZFwBY1c0CA9hgwSE1Re0ink5CVutOW8Wbe0K0hjAEQjUZQKpWhKB2w7hzdrkouGHgMw+EIhG6vg26ngb7ZQblSRZMYS7KCnqpCJyamYTjJbI92u+2VyN3nGE4wYPsIOtlEkjuwaKcu7aq0OzAM01vg2oYBJUmibzqkZg3lUh6FfAaimEOzWXc8GyVZBDaypqmODjbpwR9YFw42N7N0d282G6jXShAJqFzMIZ9L4fzsFPHTt06eByiTLgYJ7JrZHcxOpdJHDMOkn+IwFAtplFzARAyy3BprGCZAKrlYqqBZL6BvtDG0R0fNIO00TSPhu16yTIDMOp9NIpNKIHkWxz9vIyRB40JDZsVlwjYwsDRqguosci3B/93kNgGyEwydG6Y5bFkuy7IuALlLzIaT67UKlZNBLntO5VBZZZE6q4yTo5ClKmC1MDBkr1mTxvYAuWsMxJ1jsQv5NHkzgVjsGGd0nt1kqdWCqhnQHSsNHSA3PA35gY9ShdgUxawDyqKnkwlimiKPdrxkRVH+w4gnjpFsw5GxXeqKLJHYdOxI8DQJzlZIp848DUeAF8bGcBKYZxthLpmFN0lUmW6UYiHrBOvHYNlMyrm6eLDHGo0GHbke+VGiBup4Feti/XkTv261ENrv0QVCgMyAffjuDfKu4HxSWqQh53cJFBjgOKXj2U4bf+52cRoynRxhkvb/hSvJyckJXbgJum3KdNxEFAoF1CoipHoR9bqIGgUD/gtWIrD+3KUreAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;detail&quot;
        title=&quot;&quot;
        src=&quot;/static/2d7bdd87686d58e5d5f79aa94e0478cc/dd45a/detail.png&quot;
        srcset=&quot;/static/2d7bdd87686d58e5d5f79aa94e0478cc/948cf/detail.png 138w,
/static/2d7bdd87686d58e5d5f79aa94e0478cc/6b2ea/detail.png 275w,
/static/2d7bdd87686d58e5d5f79aa94e0478cc/dd45a/detail.png 550w,
/static/2d7bdd87686d58e5d5f79aa94e0478cc/d4c13/detail.png 825w,
/static/2d7bdd87686d58e5d5f79aa94e0478cc/27b8e/detail.png 836w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;회고&lt;/h3&gt;
&lt;p&gt;데이터베이스 설계와 백엔드부터 프론트엔드 전부 혼자 개발해본 경험이 처음이라 큰 의미가 있었습니다. 하지만 미비한 기획에서 시작한 탓인지 완성도가 많이 낮은 상태로 프로젝트를 종료하게 되었습니다.&lt;/p&gt;
&lt;p&gt;어차피 퍼블리셔를 제외한 개발자는 저 혼자였으니 인원이 빠져나가도 크게 상관은 없었지만 모든 기능과 기획에 대해 혼자 의사결정을 해야하는 부분이 생각외로 고민도 많았고 힘들었습니다. 그래서 처음 기획했었던 기능 대다수를 걷어낸 부분이 제일 아쉬운 것 같습니다.&lt;/p&gt;
&lt;p&gt;스타일 관련된 부분을 통일성 있게 관리하지 못했다는 점도 아쉬웠습니다. 프로젝트 초기에는 퍼블리셔분들이 잘 해주셨는데 혼자가 된 이후 어떻게 관리할지 갈피를 못잡고 전역으로 선언한 스타일도 많아서 !important 를 남발하는 등 그야말로 주먹구구식으로 진행해버리고 말았습니다. 아직도 스타일 관리와 적용에 대해서 모르는 부분이 많지만 그 중요성 만큼은 확실히 알게 되었습니다.&lt;/p&gt;
&lt;p&gt;node로 백엔드 개발을 진행한 부분은 굉장히 유익했던 것 같습니다. 이전에 백엔드 개발로는 스프링을 사용했었기 때문에 자연스럽게 MVC 구조를 따라 설계를 했습니다. Express는 자유도가 높은 것이 장점이자 단점인데 이를 충분히 활용하지 못한 것 같아 Nest.js를 사용하는게 낫지 않았을까 하는 생각도 들었지만 많은 것을 배울 수 있어서 큰 아쉬움은 없는 것 같습니다.&lt;/p&gt;
&lt;p&gt;프로젝트의 주된 목적이었던 vue 프레임워크 활용에 대해서도 어느정도 달성한 것 같습니다. 이전에도 vue로 개발은 종종 해봤지만 프로젝트를 처음부터 진행해본 것은 처음이었고, 주로 지도와 주소에 관련된 API를 다룬 것도 큰 도움이 되었습니다.&lt;/p&gt;
&lt;p&gt;여러모로 아쉬운 부분이 더 큰 프로젝트였지만 개발과 관련된 부분 뿐만 아니라 개발 외적인 부분에서도 많은 것을 배울 수 있었던 것 같습니다. 사실 결과물 자체는 완성도가 많이 낮아 어디 내놓을만한 프로젝트는 아니지만... 진행하며 깨달은 점이 많아 기록해두고 싶었습니다. 원래 과정보다는 결과가 중요하다는 주의였는데, 이 프로젝트를 계기로 생각이 많이 바뀌게 되었습니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA["window" is not available 에러 해결]]></title><description><![CDATA[다크모드를 적용하고, 로컬에서 잘 돌아가는 것을 확인한 다음 배포를 하려고 했는데 이런 에러가 발생했습니다.  에러 메시지를 읽어보니 window…]]></description><link>https://klloo.github.io/gatsby-window-not-abailable/</link><guid isPermaLink="false">https://klloo.github.io/gatsby-window-not-abailable/</guid><pubDate>Sat, 29 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;다크모드를 적용하고, 로컬에서 잘 돌아가는 것을 확인한 다음 배포를 하려고 했는데 이런 에러가 발생했습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3b6e410ab151fb2ba7e0f4354d77fbb9/076ca/windowisnot.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.362318840579707%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVR42m2Q6W6DMBCEeYlwGDDBF75IIJVb9f0fbLLrKJVa9cd4fex+mnHjtw0xBGyOaoykgETVe49A9zlnpJRq3fe9Vu5zzsEYg43muZe1risaXpTW0MYS1GFVCstKWpYqfjdGV1lrK0hKibZt0XXdj/jc9z0BeVBpfJSC76+CdM8w4QX3wUOIAZfL72EeFEJgGIYq3r/PjSIHV3ZJDg1BOHL0luJ6ihehtSJHM+Z5xjRNGMex6g37q2ZZJEZ5haCYJu8o5ROPx4nbLeM8DxzHncCe/soSXNc/4/js8j/gEwM6i4PxhqM+AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;windowisnot&quot;
        title=&quot;&quot;
        src=&quot;/static/3b6e410ab151fb2ba7e0f4354d77fbb9/dd45a/windowisnot.png&quot;
        srcset=&quot;/static/3b6e410ab151fb2ba7e0f4354d77fbb9/948cf/windowisnot.png 138w,
/static/3b6e410ab151fb2ba7e0f4354d77fbb9/6b2ea/windowisnot.png 275w,
/static/3b6e410ab151fb2ba7e0f4354d77fbb9/dd45a/windowisnot.png 550w,
/static/3b6e410ab151fb2ba7e0f4354d77fbb9/d4c13/windowisnot.png 825w,
/static/3b6e410ab151fb2ba7e0f4354d77fbb9/076ca/windowisnot.png 914w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;에러 메시지를 읽어보니 window객체가 없다는 말이었습니다.&lt;/p&gt;
&lt;h3&gt;원인&lt;/h3&gt;
&lt;p&gt;자바스크립트에는 전역 객체가 존재합니다. 전역 객체란 모든 객체의 유일한 최상위 객체를 의미하며 일반적으로 Brower-side에서는 window , Server-side(Node.js)에서는 global 객체를 의미합니다.
Node.js에서는 window라는 객체가 존재하지 않아, 빌드시 초기 Gatsby가 서버사이드 렌더링 할 때 window객체를 참조할 수 없어 생기는 문제였습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1a8f2d899531b6802d2aca381f90b4da/d2a60/error.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.68115942028986%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVR42pVR226rMBDM/39YLj1SouYhOm2VEDAXG9tgA0kKhM4ZO1LfD9Job97Z2WW12+1wOByw3W5xOp2wXq/x9vYHx+MRm80G+/0e//OtPr8+SbjH+/Edl8sFaZoiSZLof3z8xfl8xjzPeD6fEcuyRIRczEc7YZ5GLKyvOtejdzfYukXTtHCtgzUWjWVsG7SMa6UhK/ULrS2869D5Hr4x6BsNZxTuvSdhO2Bo7xj8/UVA0kASLeG9Jzr0XUcSxs6TyGGapl/V0/RSG1fW2kAbQutIqKSKioLaWtUoiwqWeaskVCHQWkObQcsqqq1rjaqsCBnJVyLLkecFrskVwU9TQT+FEDmyTCC9ZtG/sB5iIQokzIWeUMv4viBhylo/DFRYcyKVaE4q8vI1lQpDg5J1VKCLEuoqYFi39BtpYKSD4S1t2JBvTVnyhj1v2NxQszGsLKWKNqwaVjf8OWGgYd1WJM9lxPQYMX8vGL9HjOOI6faI+FkW/AMjc1lJvXqm2QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;error&quot;
        title=&quot;&quot;
        src=&quot;/static/1a8f2d899531b6802d2aca381f90b4da/dd45a/error.png&quot;
        srcset=&quot;/static/1a8f2d899531b6802d2aca381f90b4da/948cf/error.png 138w,
/static/1a8f2d899531b6802d2aca381f90b4da/6b2ea/error.png 275w,
/static/1a8f2d899531b6802d2aca381f90b4da/dd45a/error.png 550w,
/static/1a8f2d899531b6802d2aca381f90b4da/d2a60/error.png 807w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/debugging-html-builds/&quot;&gt;공식문서&lt;/a&gt;를 읽어보니 웹페이지를 일단 빌드하기만 하면 이후 브라우저 환경에서는 window 객체를 참조할 수 있으니 일단은 빌드될 수 있도록만 해주면 될 것 같았습니다.&lt;/p&gt;
&lt;h3&gt;해결&lt;/h3&gt;
&lt;h4&gt;1. window가 정의되어 있는지 확인&lt;/h4&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;const isBrowser = typeof window !== &amp;quot;undefined&amp;quot;
if (isBrowser) {
    window.localStorage.getItem(&amp;quot;isLoggedIn&amp;quot;) === &amp;quot;true&amp;quot;
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이런식으로 현재 window 객체가 존재하는지 확인한 후, 존재하는 경우에만 window 객체를 참조할 수 있도록 해주면 됩니다.&lt;/p&gt;
&lt;h4&gt;2. useEffect 사용하기&lt;/h4&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;useEffect(() =&amp;gt; {
    window.localStorage.getItem(&amp;quot;isLoggedIn&amp;quot;) === &amp;quot;true&amp;quot;
  }
);&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;는 DOM형성 후에 실행이 되는 hook입니다. 즉 브라우저에서만 코드가 실행됩니다. 이렇게 하면 초기 빌드 시 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; 내부 코드는 실행되지 않으므로 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; 내부로 에러가 발생하는 코드를 옮겨주면 해결됩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Gatsby 블로그에 다크모드 적용하기]]></title><description><![CDATA[…]]></description><link>https://klloo.github.io/darkmode/</link><guid isPermaLink="false">https://klloo.github.io/darkmode/</guid><pubDate>Thu, 27 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;다크모드&lt;/h2&gt;
&lt;p&gt;다크모드를 적용해봤습니다. 원래 향후 계획에도 없던 ... 기능인데 너무 하얘가지고 가만히 보고 있자니 가끔 눈이 아파서 이참에 구현을 해봤습니다.
다크모드를 한 번도 구현해본적은 없지만 막연하게 그냥 전역으로 변수 두고 스타일 변수만 바꿔주면 되겠지 ... 했는데 생각보다 고려사항이 많았습니다. 게다가 서버 사이드 랜더링은 처음이라 더 어려웠던 것 같습니다. 여러 포스팅들을 읽고 읽으면서 제일 이해가 쉬운 방법으로 따라해봤습니다.&lt;/p&gt;
&lt;h2&gt;1. 버튼 만들기&lt;/h2&gt;
&lt;p&gt;먼저 버튼을 만들어 줬습니다. 버튼은 그냥 간단하게 해와 달 아이콘으로 표현을 해봤습니다.
처음에는 폰트어썸을 사용했는데 돈을 내지 않고서는&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/74d479f7782f4c2126f447a04823a968/a65ce/uglyicon.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.31884057971014%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACOUlEQVR42kVTyW7aUBT1J2ebfkk3XXXXVdqoSqssKlWdU6RCFDCCBAiTwUwe3vzs03ufgTzJ4vo83+Gcc4ke+iO0On38bccYjuYQUmG52kJpjVJIPI5mGD8vccgKHHKFQ+EoLpv3M+bPWDSZJhiO5xg8TTFdrFGUAptdBiEU8lxgRtgiSeljgf1mgu38D/a79bEAYekTtos7HPZb7AmLjLGo65oeoKoqSKlpOgNrHZxzhNVQSkFbQG++YNO5gCuHxMSDUiGXV1i3L1CpOUrCIu+rUOD12w80fhmKeu+JrsL7z99hHSe6gJckx127F2JjGoxzV+kOfDiOHCXwJK1ODG0MnOd3LmIRD8eU1MTchH9ZFuIDZsbDWGeR5cVLQe7Oh5iFw1TtEXO+ATmZmzT39oxxE5bKuuqloFQWVixRLD7ClFPwu1SO4gny2TWsXBJVwoguN9KUxMUEbYDSNHXWg0w+weoDyaQRKQP4MsauewmX/YMyZAJjeQtZ/xW8oARNhtAanaZnqlJKMBG1ukF6f4naJMGoyJJ+dI+brz3SsNGzriskaY6r2w6tgggYn3mywfXtj6Alm8JnOEnx5t23EHPTYAoL2+0PiIIKurAxJe1j+yEOWDOVJ/FLtLsDkoSmNc1KFUWBePAY7tnU6GSA0u4ocEOL14W1PDnOumlaRmahOT6a0qxdk8v6RkKQyGoHn/2EkSnpYMLj5BpV9guW7lhsQWY5ldB3hOki7Ckb6MQzYb9hdEn/MoX/WdGWGs/zeaUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;uglyicon&quot;
        title=&quot;&quot;
        src=&quot;/static/74d479f7782f4c2126f447a04823a968/dd45a/uglyicon.png&quot;
        srcset=&quot;/static/74d479f7782f4c2126f447a04823a968/948cf/uglyicon.png 138w,
/static/74d479f7782f4c2126f447a04823a968/6b2ea/uglyicon.png 275w,
/static/74d479f7782f4c2126f447a04823a968/dd45a/uglyicon.png 550w,
/static/74d479f7782f4c2126f447a04823a968/a65ce/uglyicon.png 559w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;앞에 두 개 아이콘 밖에 사용할 수가 없었는데 뭔 톱니바퀴 같기도하고 하여간 너무 맘에 안들어서 그냥 이모지로 표현을 해버렸습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 277px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/079fd956fc0dd2082d64ef4f453c705e/2a985/emojiicon.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.07246376811594%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVR42rWV30vbUBTH+yYMBHFTZ3/YaBObaKzWthZ/oFj8UbV2Nuqc1h8g+iKCL74JKoqisD0Lgk8y2F+0B1EUH0TnsD5oBZfka27aKm65aR164HNzOeee7z03OZdY8MpmIYOqqoYoivKIUdxQMJNotvhZDE+bGYla/hbIzM8vfuHw6BjHJ6e4vPydihHufkK9P0vNVSW7YMZubm+RuL7GVSKBZDKZ3uxeEzwAlDuQFGqFLzsysh9ZlmXI2oJ/kNM886fW/tFycnqHuRot720EaX2WC4aN/T9GbWwyLC2vIxyRMDgygdhwHFHpCyIDn3Wi0qjuGxiKo1+aQm90GPMLi+ZXjyTkF9pgLxdQYmdRU9+I9q4Igs0h1Pqa8MHKgRc4LM2xKLE60NTWTa1SFxybnIHV6QZfEwAreOFvbEdbRx9aQz3wBVtRwXsh1nohhUUwbBU6e2LmgqPj0/jo4MBV1cPF14HhPHCyog5T6QGr+SrcdXBwflgZHp3hT+aC8clZ2BhBq7ABldV+uEVCIP306z6C4AmgzCWiu096WYU0SNymVdiRrcLxqRntg/B6BW7RR4XEnWy13hGmgpHYCPLyi1Bsd+F9aTmVIpsL7wpKEWwJmQvuf/+BlbVNbG5/w8bWVyokvrq+hZ3dPfM+fM1/ygNRoXzsbiRwtwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;emojiicon&quot;
        title=&quot;&quot;
        src=&quot;/static/079fd956fc0dd2082d64ef4f453c705e/2a985/emojiicon.png&quot;
        srcset=&quot;/static/079fd956fc0dd2082d64ef4f453c705e/948cf/emojiicon.png 138w,
/static/079fd956fc0dd2082d64ef4f453c705e/6b2ea/emojiicon.png 275w,
/static/079fd956fc0dd2082d64ef4f453c705e/2a985/emojiicon.png 277w&quot;
        sizes=&quot;(max-width: 277px) 100vw, 277px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;사실 이것도 100% 마음에 들지 않아 언젠가 다시 바뀔지도 모를 것 같습니다.&lt;/p&gt;
&lt;h2&gt;2. 다크모드 설정하기&lt;/h2&gt;
&lt;p&gt;이제 사용자 설정 혹은 시스템의 설정에 따라 다크모드를 설정해줍니다. 다크모드 설정 방식은 다음과 같은 방식으로 진행을 했습니다.&lt;/p&gt;
&lt;p&gt;먼저 다크모드로 설정하고 싶다면 body에 &apos;dark&apos;라는 클래스를 추가해줍니다. 그리고 글로벌 스타일에서 기본 스타일과 다크모드 스타일을 각각 정의 해준 뒤, body 클래스에 따라 다른 스타일 선택해줍니다.
이 때 기본 스타일과 다크모드 스타일에서는 css변수를 다르게 사용해줬는데 키값은 동일하게 지정하되 해당 키값에 대한 색상 값을 다르게 주는 방식으로 하여 하위 스타일에서 같은 변수명을 사용하더라도 모드에 따라 다른 색이 적용되도록 했습니다.&lt;/p&gt;
&lt;p&gt;예를 들어 &lt;code class=&quot;language-text&quot;&gt;--background-color&lt;/code&gt; 값을 기본 스타일에서는 white, 다크모드 스타일에서는 black으로 설정하고 해당 변수 값을 body의 배경 색상으로 지정해주면, 모드에 따라 다른 색상이 적용되는 방식입니다.&lt;/p&gt;
&lt;p&gt;이를 위해서 먼저 다크모드일 경우 body에 &apos;dark&apos; 클래스를 추가해주는 작업을 먼저 진행했습니다.&lt;/p&gt;
&lt;h3&gt;시스템 설정에 따라 다크모드 설정&lt;/h3&gt;
&lt;p&gt;요즘 많은 시스템들이 다크모드를 지원해주고 있습니다. 그에 따라 웹에서도 prefers-color-scheme 라는 미디어 속성으로 시스템의 다크 테마 여부를 탐지할 수 있게 되었습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;prefers-color-scheme&lt;/code&gt;라는 미디어 속성을 사용하면 다크 테마 여부를 감지할 수 있는데 다음과 같이 사용할 수 있습니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;css&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;@media (prefers-color-scheme: dark) {
  body {
    background: black;
    color: white;
  }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이런 식으로 사용해주면 시스템의 다크모드 설정에 따라 다른 스타일을 제공해줄 수 있습니다.&lt;/p&gt;
&lt;p&gt;물론 시스템의 설정도 중요하지만 사용자가 설정을 변경한다면 사용자의 설정을 따라가야 합니다. 이렇게 사용자의 설정과 시스템의 설정을 모두 고려하기 위해서는 스크립트로 사용을 해야하는데, 미디어쿼리를 스크립트로 처리하기 위해서는 matchMedia 를 사용할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;window.matchMedia&lt;/code&gt;는 주어진 미디어 쿼리 문자열의 분석 결과를 나타냅니다. 이 함수는 &lt;code class=&quot;language-text&quot;&gt;MediaQueryList&lt;/code&gt; 를 반환하는데 이 객체는 media와 matches라는 두 프로퍼티가 존재합니다. media는 사용한 미디어쿼리 문자열을 반환하고, matches는 현재 화면이 미디어 쿼리의 범위에 들어가면 true, 아니면 false를 반환합니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;const darkQuery = window.matchMedia(&amp;#39;(prefers-color-scheme: dark)&amp;#39;);
console.log(darkQuery.matches ? &amp;#39;dark&amp;#39; : &amp;#39;light&amp;#39;);&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이렇게 사용할 수 있습니다.&lt;/p&gt;
&lt;p&gt;또 하나 고려해야할 부분은 시스템이나 사용자의 설정을 기억해야 한다는 점입니다.
다시 방문 했을때에도 이전의 설정을 기억하여 그대로 제공하도록 해주는 기능이 필요합니다. 다시 방문했을때는 다시 설정하면 되지 라는 생각을 잠시 했지만 문제는 새로고침입니다. 이렇게만 한다면 새로고침 시 설정이 초기화되어... 굉장히 무능한 블로그 같고 .. 하여튼 불편합니다. 이를 위해서는 localStorage를 사용하여 브라우저에 마지막으로 설정한 모드를 저장해줬습니다.&lt;/p&gt;
&lt;p&gt;이를 종합하여 시스템 설정에 따라서 body 클래스에 &apos;dark&apos;를 추가하거나 제거해주기 위해서는 다음과 같이 할 수 있습니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;const DARK = &amp;#39;dark&amp;#39;;
const LIGHT = &amp;#39;light&amp;#39;;
// 시스템 설정이 다크모드인지 확인
const darkQuery = window.matchMedia(&amp;#39;(prefers-color-scheme: dark)&amp;#39;);

// localStorage에 저장된 테마 불러오기
const savedTheme = localStorage.getItem(&amp;#39;theme&amp;#39;);
// 다크모드라면 theme를 dark로, 아니라면 light로 설정하고 theme에 따라 클래스 변경
const newTheme = savedTheme || (darkQuery.matches ? DARK : LIGHT);

const setTheme = (DARK) =&amp;gt; {
  if (newTheme === &amp;#39;dark&amp;#39;) {
    document.body.classList.add(&amp;#39;dark&amp;#39;);
  } else {
    document.body.classList.remove(&amp;#39;dark&amp;#39;);
  }
  // 새로 설정된 테마를 localStorage에 저장 
  localStorage.setItem(&amp;#39;theme&amp;#39;, newTheme);
};
// 동적으로 시스템 테마 변경에 따라 바뀌도록 하려면 미디어 쿼리 state 변경에 따라 변경될 수 있도록 이벤트 리스너를 넣어줄 수 있다.
darkQuery.addListener((e) =&amp;gt; {
  setTheme(e.matches ? &amp;#39;dark&amp;#39; : &amp;#39;light&amp;#39;);
});&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이제 이 스크립트를 어디서 실행하는지가 문제입니다.&lt;/p&gt;
&lt;p&gt;이게 적용하기 까다로운 이유가 해당 속성이 css 속성이기 때문에 server 에서 받아올 수 없어서 그냥 react의 lifecycle 내에서 현재 테마를 가져오고, 그에 따라 스타일을 조정하면 시스템이 다크 테마여도 잠시 라이트 테마가 보여지는 현상을 겪을 수 있다고 합니다.&lt;/p&gt;
&lt;p&gt;이 문제를 해결하기 위해서는 위 스크립트가 화면이 painting 되기 전에 실행되어야 합니다. 제가 참고한 포스팅에서는 스크립트를 body 바로 다음에 위치시켜서 body 내부 엘리먼트들이 페인팅 되기 전에 실행하도록 하였습니다. 이렇게 두면 스크립트는 DOM 파싱을 막으므로, 위 스크립트가 실행된 후에 페인팅이 되는 것이 보장되기 때문입니다.&lt;/p&gt;
&lt;p&gt;Gatsby에서는 gatsby-ssr의 onRenderBody API를 이용할 수 있습니다. 해당 API는 setPreBodyComponents 함수를 제공하는데, 이 함수를 통해 body 바로 하위에 스크립트를 넣어줄 수 있습니다.
(아니면 html.js를 수정할 수 있는데, Gatsby Theme 내에서는 제공이 안되어 권장하지는 않는다고 합니다.)&lt;/p&gt;
&lt;p&gt;결과적으로 gatsby-ssr.js 파일에 다음과 같이 적용해주면 됩니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;const React = require(&amp;#39;react&amp;#39;);

exports.onRenderBody = ({ setPreBodyComponents, setHtmlAttributes }) =&amp;gt; {
  const script = `
    const DARK = &amp;#39;dark&amp;#39;;
    const LIGHT = &amp;#39;light&amp;#39;;
    
    const darkQuery = window.matchMedia(&amp;#39;(prefers-color-scheme: dark)&amp;#39;);
    const savedTheme = localStorage.getItem(&amp;#39;theme&amp;#39;);
    
    const newTheme = savedTheme || (darkQuery.matches ? DARK : LIGHT);

    const setTheme = (DARK) =&amp;gt; {
    if (newTheme === &amp;#39;dark&amp;#39;) {
        document.body.classList.add(&amp;#39;dark&amp;#39;);
    } else {
        document.body.classList.remove(&amp;#39;dark&amp;#39;);
    }
    localStorage.setItem(&amp;#39;theme&amp;#39;, newTheme);
    };
    
    darkQuery.addListener((e) =&amp;gt; {
    setTheme(e.matches ? &amp;#39;dark&amp;#39; : &amp;#39;light&amp;#39;);
    });
  `;
  setHtmlAttributes({ lang: `ko` });
  setPreBodyComponents(&amp;lt;script dangerouslySetInnerHTML={{ __html: script }} /&amp;gt;);
}
&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;br/&gt;
&lt;h3&gt;사용자 설정에 따라 다크모드 설정&lt;/h3&gt;
&lt;p&gt;아까 만들어 둔 버튼을 연동하여 사용자 설정에 따라서도 다크모드가 설정될 수 있도록 만들어야 합니다. 먼저 버튼에서 해당 스크립트의 함수 및 값을 사용할 수 있도록 window 객체에 넣어줍니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;const React = require(&amp;#39;react&amp;#39;);

exports.onRenderBody = ({ setPreBodyComponents, setHtmlAttributes }) =&amp;gt; {
  const script = `
  window.__DARK = &amp;#39;dark&amp;#39;;
  window.__LIGHT = &amp;#39;light&amp;#39;;
  
  const darkQuery = window.matchMedia(&amp;#39;(prefers-color-scheme: dark)&amp;#39;);
  const savedTheme = localStorage.getItem(&amp;#39;theme&amp;#39;);

  window.__theme = savedTheme || (darkQuery.matches ? window.__DARK : window.__LIGHT);

  window.__setTheme = (newTheme) =&amp;gt; {
    if (newTheme === window.__DARK) {
      document.body.classList.add(window.__DARK);
    } else {
      document.body.classList.remove(window.__DARK);
    }
    localStorage.setItem(&amp;#39;theme&amp;#39;, newTheme);
    window.__theme = newTheme;
  };

  darkQuery.addListener((e) =&amp;gt; {
    window.__setTheme(e.matches ? window.__DARK : window.__LIGHT);
  });

  window.__setTheme(window.__theme);
  `;
  setHtmlAttributes({ lang: `ko` });
  setPreBodyComponents(&amp;lt;script dangerouslySetInnerHTML={{ __html: script }} /&amp;gt;);
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;그리고 다크모드 버튼을 클릭하면 window객체에 저장해둔 &lt;code class=&quot;language-text&quot;&gt;__setTheme&lt;/code&gt; 함수를 호출하도록 코드를 작성합니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;const Layout = ({ location, title, children }) =&amp;gt; {
    ...
	const [theme, setTheme] = useState(null);
	
	let isDarkMode = false;
	if (typeof window !== &amp;#39;undefined&amp;#39;)  
		isDarkMode = theme === window.__DARK;

	const onClickDarkModeButton = useCallback(() =&amp;gt; {
		const newTheme = isDarkMode ? window.__LIGHT : window.__DARK;
		window.__setTheme(newTheme);
		setTheme(newTheme);
	}, [isDarkMode]);

	useEffect(() =&amp;gt; {
		setTheme(window.__theme);
	}, []);

	if (!theme) {
		return null;
	}

	return (
        ...
		&amp;lt;DarkModeButton onClick={onClickDarkModeButton}&amp;gt;{isDarkMode ? &amp;#39;☀️&amp;#39; : &amp;#39;🌙&amp;#39;}&amp;lt;/DarkModeButton&amp;gt;
        ...
	);
};
&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이렇게 하면 다크모드 버튼을 클릭할 때 마다 body요소에 &apos;dark&apos;클래스가 생겼다 사라졌다 하는 것을 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/cd172eb41cf4305b2f59faa300cb6587/darklight.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3&gt;다크모드에 따라 스타일 설정하기&lt;/h3&gt;
&lt;p&gt;이제 다크모드에 따른 스타일만 적용해주면 됩니다. 사실 다크모드와 라이트모드에서의 차이점은 색상밖에 없기 때문에 색상만 잘 설정해주면 됩니다.
이 부분은 GPT의 도움을 받았습니다. 제 블로그는 CSS-in-JS라이브러리로 emotion을 사용하고 있는데 글로벌 스타일을 적용할 때 body 요소에 &apos;dark&apos;클래스가 있는지에 따라 다른 스타일을 적용해주는 방법을 사용했습니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;import React from &amp;#39;react&amp;#39;;
import { Global, css } from &amp;#39;@emotion/react&amp;#39;;
import Common from &amp;#39;./common&amp;#39;;

// 기본 스타일
const baseStyle = css`
  /* ... 기본 스타일 ... */
`;

// 다크 모드 스타일
const darkStyle = css`
  /* ... 다크 모드 스타일 ... */
`;

const GlobalStyle = () =&amp;gt; {
  // body 클래스에 따라 다른 스타일 선택
  const currentStyle = css`
    ${baseStyle};
    ${document.body.classList.contains(&amp;#39;dark&amp;#39;) ? darkStyle : null};
  `;

  return &amp;lt;Global styles={currentStyle} /&amp;gt;;
};

export default GlobalStyle;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이렇게 해주고 다크모드 스타일에 기본 스타일의 색상변수를 다시 설정해주면 됩니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// 기본 스타일
const baseStyle = css`
    ...
    --color-text: black;
    --color-background: white;
`;

// 다크 모드 스타일
const darkStyle = css`
    --color-text: white;
    --color-background: black;
`;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;br/&gt;
그런데 아뿔싸 ... emotion을 적용하면서 css 변수를 common이라는 자바스크립트 파일을 만들고 그 파일 내에서 객체로 관리하도록 바꾸는 바람에 저 방식이 통하지 않아서 고민을 좀 했습니다.
&lt;p&gt;고민 결과 Common 객체에 lightColor, darkColor를 속성으로 두고, 그 속성 하위에 색상을 정의해두기로 했습니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;const Common = {
	...
	lightColor: {
		text: &amp;#39;black&amp;#39;,
		background: &amp;#39;white&amp;#39;,
	},
	darkColor: {
		text: &amp;#39;white&amp;#39;,
		background: &amp;#39;black&amp;#39;,
	},
    ...
};
  
export default Common;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;br/&gt;
그리고 이걸 다시 css변수로 적어줬습니다.
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// 기본 스타일
const baseStyle = css`
    ...
    --color-text: ${Common.lightColor.text};
    --color-background: ${Common.lightColor.background};
`;

// 다크 모드 스타일
const darkStyle = css`
    --color-text: ${Common.darkColor.text};
    --color-background: ${Common.darkColor.background};
`;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;br/&gt;
뭔가 Common 객체로 전역적인 스타일을 한 번에 관리할 수 있는 점이 편리하지만 색상을 추가할 때 css변수로 한 번 더 추가해야 하는 번거로움과 다른 스타일은 Common객체에서 가져다 쓰는 반면 색상은 css 변수를 사용해야 한다는 점이 통일성을 해치는 기분이라 만족스럽지 못합니다. 이 부분에 대해서는 조언이 필요할 것 같습니다... 도와주세요 
&lt;br/&gt;
&lt;h2&gt;3. giscus(댓글)에 다크모드 설정하기&lt;/h2&gt;
&lt;p&gt;헐 이렇게 하니까 다른 부분에는 다크모드가 잘 적용이 되지만 댓글에는 다크모드가 적용이 안돼서 둥둥 떠다닙니다. 댓글에도 다크모드를 설정해줘야 하는데 giscus를 가져다 쓰는 입장에서 어떻게 적용해야 하는지 생각해보니 giscus에서는 다양한 테마를 적용하고 있습니다. 그래서 다크모드 여부에 따라 테마가 변경되도록 구현을 해봤습니다.&lt;/p&gt;
&lt;p&gt;먼저 댓글 컴포넌트에서 테마가 바뀌었다는 것을 감지할 수 있도록 window객체에 리스너를 등록할 수 있도록 바꿔줍니다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;const React = require(&amp;#39;react&amp;#39;);

exports.onRenderBody = ({ setPreBodyComponents, setHtmlAttributes }) =&amp;gt; {
  const script = `
  window.__DARK = &amp;#39;dark&amp;#39;;
  window.__LIGHT = &amp;#39;light&amp;#39;;
  
  const darkQuery = window.matchMedia(&amp;#39;(prefers-color-scheme: dark)&amp;#39;);
  const savedTheme = localStorage.getItem(&amp;#39;theme&amp;#39;);

  window.__theme = savedTheme || (darkQuery.matches ? window.__DARK : window.__LIGHT);
  window.__onThemeChange = () =&amp;gt; {};

  window.__setTheme = (newTheme) =&amp;gt; {
    if (newTheme === window.__DARK) {
      document.body.classList.add(window.__DARK);
    } else {
      document.body.classList.remove(window.__DARK);
    }
    localStorage.setItem(&amp;#39;theme&amp;#39;, newTheme);
    window.__theme = newTheme;
    window.__onThemeChange(newTheme);
  };
  darkQuery.addListener((e) =&amp;gt; {
    window.__setTheme(e.matches ? window.__DARK : window.__LIGHT);
  });

  window.__setTheme(window.__theme);
  `;
  setHtmlAttributes({ lang: `ko` });
  setPreBodyComponents(&amp;lt;script dangerouslySetInnerHTML={{ __html: script }} /&amp;gt;);
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;br/&gt;
이렇게 테마가 변경될 때 마다 window.__onThemeChange() 함수가 호출되도록 작성해줍니다.
그 다음 댓글 컴포넌트에서 window.__onThemeChange() 함수를 등록해주면 됩니다. 여기서는 __onThemeChange() 함수 내부에서 댓글 테마가 바뀌도록 하여 전체 테마가 바뀔 때 마다 댓글 테마도 바뀌도록 해줬습니다.
&lt;deckgo-highlight-code language=&quot;javascript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;const [commentTheme, setCommentTheme] = useState(null);

useEffect(() =&amp;gt; {
	setCommentTheme(window.__theme === window.__DARK ? &amp;#39;dark&amp;#39; : &amp;#39;preferred_color_scheme&amp;#39;);
	window.__onThemeChange = (theme) =&amp;gt; {
		setCommentTheme(theme === window.__DARK ? &amp;#39;dark&amp;#39; : &amp;#39;preferred_color_scheme&amp;#39;);
	};
}, []);

if (!commentTheme) {
	return null;
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;여기까지 해서 다크모드 적용을 완료하였고 전체적으로 &lt;a href=&quot;https://godsenal.com/posts/gatsby-%EB%B8%94%EB%A1%9C%EA%B7%B8-%EB%8B%A4%ED%81%AC-%ED%85%8C%EB%A7%88-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0&quot;&gt;이 블로그&lt;/a&gt;를 많이 참고하여 진행을 했습니다.&lt;/p&gt;
&lt;h2&gt;향후 계획 점검&lt;/h2&gt;
&lt;p&gt;일단 TOC를 구현은 했지만.. 분명 잘 되는 걸 확인하고 배포했는데 고장이 나서 링크가 작동하고 있지 않습니다. 이건 최대한 빨리 고쳐볼 예정입니다. 그리고 나머지 사항은 아직 진행할 생각이 없고 ... 그 동안은 자잘한 디자인을 수정하고 코드 리팩토링을 했습니다. 그 과정에서 컴포넌트를 분리하고 css-in-js 라이브러리로 emotion을 적용하여 스타일을 관리하도록 수정했습니다. 이제 또 수정하고 싶은 사항은 ...코드 블럭이 예쁘긴한데 줄바꿈 때문인지 가독성이 전혀 없고 inline 코드 블럭이 너무 못생겨서 이것도 수정할 예정입니다. 자잘한 수정 사항은 그냥 수정만 하고 넘기겠지만 다크모드나 TOC 처럼 제 기준 조금 작업이 필요한 사항을 또 개발하거나 수정한다면 포스팅을 작성하겠습니다!!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Gatsby로 깃허브 블로그 만들기]]></title><description><![CDATA[내 나이 26 ... 드디어 깃허브 블로그를 만들다... 계기 이전에도 기술 블로그를 운영하려는 노력은 꾸준히 해왔다.
맨 처음 마음 먹었을 때는 네이버 블로그를 사용했다. 당시 대학교…]]></description><link>https://klloo.github.io/make-blog/</link><guid isPermaLink="false">https://klloo.github.io/make-blog/</guid><pubDate>Mon, 17 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5b9e5b0ebcc94b90737f13dcf7e64281/d125e/iamold.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 102.17391304347827%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEUklEQVR42k1UXVPiZhjN79np5d70H2x/QKcz26vetM72sl8z9qrTWdvVRUUXFxdBRUVAUZRFVBBIgJCQhPAZwofa9o+cnvfF7fTimSRvkvOc55zzvorXd+F5PXijPkb+AL4/xHgyxGTiwR/zOh2xPPlO1HTm4+FxgvuH8f9qggdeHx6nULxhF0MC+vx4PPYI5j2BjDAYdDDkewE0mXls2kOfBMQ7ATKvJ8DHeSmtVgOdrgXXbcFpm3A7FvqDtgSynaYsy9YxGHbgdlsEG6LTaWE2mzP/VLN70cSHUq2WULy9QrlchN7UYBg11OoVlO4KfK7LH/3JAN2eg27fRm/gwDDrMElEVL1RQ6tloKpWOWkXittuoVQqoKFrUr9u10GbbGf3vhyv0yUIr0LP+/sJ2m1bavz411SOO/L7+PufGWzb4ncEtO0mGeZRr2tyTMOoy5/71E+rVWSJKRpk4nkcbzwHnc0mBPapc5eGTMnSJIEOFIu0r6/yqNWq1MmF0NRik8HAlXqKauhVtCydgENq7XCtTbcJOB5J9sIU0zTR67lQTFNDPn9JLarUyWZZUiOHUgjdRn5PjiWSYFlNsjMwe2AaZkNO0peaTh9G/Mfg920ohqHh4uKMgOqTw4KljoWFb/HixReIxiLSLJNrgo3tmHzWZYRGBOxS4wmNa+g16u1AaZBZJpOGTlNaZCAEXw+u4tmzz7C4uIhIJIwRQy/WTbJIpzI4SZ/h+vpGuipMFLHRqbHr2lDq9TJSySPoxpyF2CE///ITlv54LRlXKkXJQox9Ra2PDhNIHidJ4nQuEQH98YBRq1EOC4qqlnCciHMMlYB1qdvZ+QnC70PI5c6e1mwphZgid5lFuXIDVSvJDeAw+EJnTVN534JSvrsh4AEaDHOxWJCONgkeWFnFVmjrP6dd7g4xYi6XxV4sJlMgMmo7htRTZbAt24RSKl4hRcDb6zx3yw1qahE74S38+MOv2NzYRINxErkTYRdbLpk4xNa7LcnG7djSeZHFSqVMM5tQrgs5ObIAlsaQ3VoggK9ffoPg+jrUyq3MoABwbAPrK2vYDG7CYYO2WDObUo7yXYmmNaB8zJ1T5ENUyE7o6VCzhe9e4fnzz3FwuEcgg7tElYeEpt3hqy9f4tXC92zCrHIDdDimN+pwNxVhNGtQstlTqWGRDFW1jGrpGhEaskGWhatLBrZGTTV54tSp88bqCg5iUdmozdOpQJMKF1mkjhNyQuX8LI3joziqjEcue473G0EcxnYQ3/mA2HYY+9EdHO3v4vhwH2k2zp2ncHGaQjaTQf7jJeLRGPY/RLBNXRu6CuU4sY/4XhSZkwQCb5ax9NvvWFl6zfsVBP5cxirXgm/fYDOwTNbL2A4FsRVcQ5gAsXAYBztRJHb3EOG9OLGUJDtfZFJIJ+PY3dmm4GtyrNDGKsKhDYQ3g2RNI9YCXH9L8GUCrpPRO0RCAnQbu6ztUAiGruFftnMJbx+fxgIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;iamold&quot;
        title=&quot;&quot;
        src=&quot;/static/5b9e5b0ebcc94b90737f13dcf7e64281/dd45a/iamold.png&quot;
        srcset=&quot;/static/5b9e5b0ebcc94b90737f13dcf7e64281/948cf/iamold.png 138w,
/static/5b9e5b0ebcc94b90737f13dcf7e64281/6b2ea/iamold.png 275w,
/static/5b9e5b0ebcc94b90737f13dcf7e64281/dd45a/iamold.png 550w,
/static/5b9e5b0ebcc94b90737f13dcf7e64281/d125e/iamold.png 737w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;내 나이 26 ... 드디어 깃허브 블로그를 만들다...&lt;/p&gt;
&lt;h4&gt;계기&lt;/h4&gt;
&lt;p&gt;이전에도 기술 블로그를 운영하려는 노력은 꾸준히 해왔다.
맨 처음 마음 먹었을 때는 네이버 블로그를 사용했다. 당시 대학교 4학년이었지만 아무것도 모르던 나는... 그냥 접근성이 제일 좋아서 네이버 블로그로 선택을 했었다.&lt;/p&gt;
&lt;p&gt;스프링으로 막 백엔드 공부를 시작하면서 혼자 진행했던 프로젝트 내용, 알고리즘 문제 풀이, 정보처리기사 공부했던 내용, 면접 대비용으로 자바와 CS공부했던 내용 등을 정리해놨었다. 이제보니 나름 뭘 많이 끄적여놨는지...게시글이 116개가 있다.&lt;/p&gt;
&lt;p&gt;그런데 왐마?! 뭔가 좀 이것 저것 찾아보기 시작하면서 아무도 네이버 블로그를 기술 블로그로 사용하지 않는다는 것을 깨달았다. 또 그 때가 막 네이버 블로그에 일상을 기록하고 소통하는게 유행하기 시작하던 때라...나도 그냥 공부했던 내용 전부 비공개로 전환해놓고 일상 블로그로 돌려버렸다^_^&lt;/p&gt;
&lt;p&gt;그리고는 취업을 했는데 자바스크립트와 클라우드에 관련한 지식 부족으로 ... 업무를 하는데 어려움을 겪었었다. 그래서 공부를 시작하기로 마음 먹고 이 참에 기술 블로그도 다시 해봐야겠다고 생각했다. 그 때는 벨로그를 사용했는데 내 기준 제일 깔끔하고 가독성이 좋아서 선택했었다. 벨로그 메인 트렌드 탭에 올라오는 글들을 읽어보는 것도 재밌었다. 나도 재밌는 글 많이써야지 하고 야심차게 시작을 했는데...&lt;/p&gt;
&lt;p&gt;주로 개념 정리를 하다보니 그냥 여기저기서 긁어온 내용을 누덕누덕 기운 누더기 포스팅만 잔뜩 생겼었다. 당연히 궁금했던 내용, 알아야하는 내용을 찾아보고 이해한 내용을 정리하면서 큰 도움이 됐고 아직도 필요할 때 마다 정리했던 내용을 찾아보기도 하지만 이런걸 꼭 블로그에 써야하나? 하는 생각이 들었다. 그래서 그냥 다 노션으로 옮겨놓고, 앞으로는 이렇게 개념 정리나 혼자 공부한 내용은 노션에 작성을 하고, 프로젝트를 진행하는 과정이나 하여튼 뭔가 혼자 생각해보고 혼자 해결한 과정 같은 것들은 블로그에 기록해두고 싶었다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d52895fc54b664ba38f119d91faf7535/2e367/latetoolate.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.01449275362319%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADoElEQVR42iWT2U9cZRjG5//wQi80LrWmTS+9NTbGC2xiNahpvZAo2jRpLam1DSmG1oJFqC2LyFraOTMMDOvMMIDMvs+cWc4MAwNtqSytMAtTBC9/voMXT873nbz5vc/7vOfoHL4RPIEJrDNDWO0PiKRshBM2oqlZkZ1EZuFQWtZJetnN0qqPkGonELWSXfGymPOiJh2kFz0sLnnQzbsU5h1GzKM9TE71Ek1aCKsWYgJTtf8V1+ZIpudZEsD49CDV1VVUfXSS6jOnafz5Cr6glaTmFC2gc3gMLLgNuAPD0nX8UMHoGNGEVWAzxJI20QzppQXc/jGGOq8RGW/GPlTP2U8/4KWXX+Hc+a/wh6ZRE7MV4ENcXgWP34A3JNDIqEDN4nJSoNPirgK1ElSnMCstrM53sJc2s581Mdh6gTePvMWxE+9gnuiX0efQOQXo9j6UHBW8QaMARyQjcRkz44+Y5GyW8aex2/u5/+sllDt1KHcvExq9xdXzn/P6kaO8+sZr/NbeSDRuR+f2Cciv4AsZ8IeHCQqkomh8ipQErWX9qOlZQs4BYsM3+bP/Ooa2S/Td+IYP33+X4yeOc/TY29zraCQQnhJgxV0FGDbKyHqBjaBlfDzZXBNtkMxm8MdCKH0tTN2+SNLUhF/fwIOWb7n341m+qHqP2u++xDzejdNtQleBefx63CGFmGS2tpUj83iFUDxKeiVLJKlyt6uDhsvnUH6qxTVwDUvnBQZv1VDz8Uk+qz5Fb3/LIdDhMqJzBfS4gnpisTFyT3Isrz3GFfDKRr0kl9Joy1kcPg89nU3cvniK9quf0PbDaRrqzlBT+zX1Dd/T09vMiLmLBaciwJCRkON3tiLdLMvZYNIzabPIgrziLiYfdZKwuDQOD6Fvq0PffoXB7ib6BnoxmhQmJg3Y5034gxYZWRyG3YNk5pqJjl8nPNtFPOYgu6xKjmFSWpDcaoJMVsZfjPLoUYa1p6sUd0vs7x+wt1emXM6TL2ywk18jHLWgmzHeZNl9h5C5Aad0Ku9tEFdd2GYmUOMBtHQMf8CD1+fG7XERT6j8e3DAgWh3t8hueZtCcVOgfxFVbeiUoVZ85husLrQSdhrYfJZje3uFncI6hdIzKd7in/0icVlSIOBD0zRSqRQejzQRFYp/U5S6fHFdgPbKvzyP8Y960rZfyHjus/V8RYrWD4uKpeeHDsovCvJuh1KpJCOWD587+cq9wO6LvEQgDotPWdKs/AdDvXQRd2Q8cAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;latetoolate&quot;
        title=&quot;&quot;
        src=&quot;/static/d52895fc54b664ba38f119d91faf7535/dd45a/latetoolate.png&quot;
        srcset=&quot;/static/d52895fc54b664ba38f119d91faf7535/948cf/latetoolate.png 138w,
/static/d52895fc54b664ba38f119d91faf7535/6b2ea/latetoolate.png 275w,
/static/d52895fc54b664ba38f119d91faf7535/dd45a/latetoolate.png 550w,
/static/d52895fc54b664ba38f119d91faf7535/d4c13/latetoolate.png 825w,
/static/d52895fc54b664ba38f119d91faf7535/2e367/latetoolate.png 1066w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;나 스스로도 왜 이제 와서... 라는 생각이 들었지만 몰라... 고민 말고 다시 시작해보기로 했다.
왜 깃허브 블로그로 다시 시작을 했냐면 그냥 멋져서 그렇다.&lt;/p&gt;
&lt;h4&gt;플랫폼 선정&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/17e30361762dc704275f0a045ebb7ffc/78612/gatsbyy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.85507246376812%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUUlEQVR42nWSTUtCQRSG/Yv+BBcuQlyIm0QXItGiRaEpRQuxFhqkNyKruyhQklzYRdJFSlRQZJf8CkKs+/WEg7e8WgOH886ccx5meMfFdFmWxbyeZNM0HbW/+meXyxafY43nOxX1qYdlWgtgwzAE3I75MwdQ+9I5yVyyEymIuDq9EcXBYECxWERVVbGfDOq6LnStVvvRs7cVwNvrBzIrR4TcKZbdSdaWdtHGBvFEnHQ6jSRJlEolcrkc0WiUSqVCOBwmn89TrVap1+uMRqNfYEt5pJA6J7d+xlbogMPtC8YfGonNOKlkCo/HQyAQwO/3E4vFCAaDeL1eIpEIPp9PZPsFAqhrBmVJYX9DZm/1mHq5JRr6vT6yLDMcDmk0GjSbTTqdjsiKotBut8lms0I7gDb05f6N3uv71EanKf+52+12F01ZGDKd7trf56+Y1GZN+Qb8DkQRoZ7UTwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;gatsbyy&quot;
        title=&quot;&quot;
        src=&quot;/static/17e30361762dc704275f0a045ebb7ffc/dd45a/gatsbyy.png&quot;
        srcset=&quot;/static/17e30361762dc704275f0a045ebb7ffc/948cf/gatsbyy.png 138w,
/static/17e30361762dc704275f0a045ebb7ffc/6b2ea/gatsbyy.png 275w,
/static/17e30361762dc704275f0a045ebb7ffc/dd45a/gatsbyy.png 550w,
/static/17e30361762dc704275f0a045ebb7ffc/d4c13/gatsbyy.png 825w,
/static/17e30361762dc704275f0a045ebb7ffc/99f37/gatsbyy.png 1100w,
/static/17e30361762dc704275f0a045ebb7ffc/78612/gatsbyy.png 1260w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;보통 깃허브로 블로그를 만들 때 제일 유명한게 Jekyll과 Gatsby였는데 Gatsby가 리액트 기반이라고 해서 관심이 갔다. 안그래도 막막한 블로그 만들기... 조금이라도 익숙한 환경에서 진행을 해보고 싶었다.&lt;/p&gt;
&lt;p&gt;그래서 관련된 내용을 찾아보니 Gatsby가 유용한 플러그인들도 많이 제공을 하고, 성능도 더 좋다고 하길래 더 고민없이 Gatsby로 선택했다! Jekyll은 사용해보지 않아서 비교는 못해보겠지만 확실히 리액트 기반이라 큰 어려움 없이 진행할 수 있었던 것 같다. 아직 SSG에 대한 내용이나 Gatsby프레임워크, GraphQL을 몰라서 반도 모르고 사용한 느낌이라 이 부분들에 대해서도 더 찾아봐야할 것 같다.&lt;/p&gt;
&lt;h4&gt;깃허브 페이지로 블로그 올리기&lt;/h4&gt;
&lt;p&gt;먼저 틀만 만들어진 블로그를 Github Pages로 올려보고 싶었다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. Gatsby 프로젝트 생성&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. Github Repository를 생성하고 Gatsby 프로젝트와 연결&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. Github Pages 설치 및 배포 설정&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;그 과정은 이 순서로 진행을 했다. Gatsby는 리액트 프레임워크로 SSG(Static Site Generator, 정적 사이트 생성기)이다. 여기서 정적 사이트란 HTML, CSS, JavaScript로만 만들어진 사이트를 의미한다.&lt;/p&gt;
&lt;p&gt;그래서 이걸로 어떻게 블로그를 만드는거냐면 내가 Markdown으로 글을 쓰면, 이걸 SSG가 HTML코드로 변환을 해서 정적 사이트로 만들어 주는데, 이 만들어진 정적 사이트를 블로그로 사용하는 것이다. 이렇게 하면 정적 파일만 배포하면 되기 때문에 별도의 서버를 운영할 필요가 없다는 장점이 있다.&lt;/p&gt;
&lt;p&gt;아무튼 이렇게 블로그를 만들었으니, 배포를 해야하는데 이 때 사용하는 것이 Github Pages이다. Github pages는 github에서 제공하는 정적 웹사이트 호스팅 서비스로, 자신의 repository내용으로 웹페이지를 구동할 수 있게 해준다.&lt;/p&gt;
&lt;p&gt;자세한 진행 과정은 &lt;a href=&quot;https://devfoxstar.github.io/web/github-pages-gatsby&quot;&gt;이 블로그&lt;/a&gt;를 보고 진행하였다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 498px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1d2c8e790c3494081fbeb9b4ab06c4d9/79e1b/originblog.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 168.84057971014494%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEmElEQVR42qVWS0/jVhT2L2Nf2DBdICTQFAmQOj9hRkhV1S4qFlVFQVRI3fQ1s6SLDlRIFWphKqYaJhAeSZw4sWPHdhznTZz313NO4vAcGM04OrnX9rnfPb7nO9+9Cu65+v2+2ENXf2j8rxSLRaytreHw8BAHBwfY39+XdmdnB5qmQdd1rK+vY3Pzd5zHzpFIJLD1cguRSATH0WO4rjuanC9FVVXMz89jcXERExMTWFhYwPj4J5iensbY2BgBbeLJ508wNzeHmZkZfProEZ4+fYapqSlMTk4iGo0KUK/XGwB2Oh0cHR0hnU6jXC6j0WjA8zz4vo/d3V1py+UKCoUCTNOEbTu4qNfhOo74dbvda5+vnJ6cUkTjmJ2dxfLyMpaWlrC9vX1rDa+u5bv6ApjL2VhdXcXKygqt1Q94/PgzbGxsyEuOPgTtsfX68mlyP2xvAd7MWJ0+Jwiao9kvAW6D3mXKKAJy6vW6IwJ86CURZmKn0JIJeZA1LdiOS3TIUyJ8pDMGLFoWbtkyepZ8cigWS+LnsJ9fRN4ryDOlVrDw/Luv8NPyM1TyWeQcD8mUBiNrisUTSbpPQ0tnoKopqMkUYnF1OIE+nEyXQGq0XIqhxfHlN99i6YuvET+LwvV8ZIwstQWZPUc0cfMeTMuGSYP5Gfd1wxxG78jEPkU5+uQwU8wpnk1LpZBzfUSNIuJWCUeZAg41Dye6j/9UF6fZIo6pf0JtzCxKonjtJSlXAYN2B8cZDwcxixx9tDs9BK0Omu0uGbXUD6jfanfEN3w3SGyYlOFNSI1qo41irSntB2W5/5CK9G/aMABc3l8HpPtuSFoy6fduEPk9ZezOSvnYSylUA/zxJoM3qTwiaQ9bb3UcqA724zZekf2bcMQ88rtLDG4BVmjxtyJZ7BybiBAVXr418HwvQa2OvZhN73T8/HccTuni/QCbQQDfdVAplVAgfatWSvduB7csfBcCdkkUGgQatFpotdrEtbZkL0zSZWb7t+TqrmiVZrOFlJaRmuQC5zLTRQCsQa1SmXEt60Z2JBzsb1o5KbmUlpZ6D4LBGiusfeyc0Q2pW1YTdswTMN8zmEnqwu+5zYpZAsptmyuGMEabFCNrFAlHw4MYIENFzxFwNPzOyFoyWB8qEPuxcb9cqaJWq4vUNWnZlGq1JmCDT7BGasLO3HcIlFXFdgbKw5PkSGFc15Mx4ZdpaZ3U/gIK//FgfsCAalKTKLllabpahtc7H1kpffTfTZ1R9km+GiRBhldDLWjB8usiUyxRLE2mX4NNhL5odlCqN68F2B/+rk4ogHa5ge//PJVK+XVPxYtXSbzYV/HbPwlsvtbwC1XJj3+dSfnJCeGhSmlRZvIk+36pgjIlqFAqo9khESVj0ne7PRHR7j1b51WCK8wj3rU429VaDZVq9ePUJqBKYUCftkA+wzCvuFqYMkwR3nz4GW+R4VbJ/h7xrkT+tu3KfXg4UPikwKxn6sjORpXAvDs7j9PxLSEUYmDmm5DbMMWft1TmYbhXM7lHgCGJeQCftpxhvQ5IbEsZ8tbKUZnkw5Ny7fM4m05hPDlXCQP+D5bF/egPmKDqAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;originblog&quot;
        title=&quot;&quot;
        src=&quot;/static/1d2c8e790c3494081fbeb9b4ab06c4d9/79e1b/originblog.png&quot;
        srcset=&quot;/static/1d2c8e790c3494081fbeb9b4ab06c4d9/948cf/originblog.png 138w,
/static/1d2c8e790c3494081fbeb9b4ab06c4d9/6b2ea/originblog.png 275w,
/static/1d2c8e790c3494081fbeb9b4ab06c4d9/79e1b/originblog.png 498w&quot;
        sizes=&quot;(max-width: 498px) 100vw, 498px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;처음엔 이런 모습이었다.(모바일 화면) 저 kyle mathews라는 분이 Gatsby 만든 사람이라고 한다... 안녕하세요 대단하십니다.&lt;/p&gt;
&lt;h4&gt;블로그 디자인 및 기능 추가&lt;/h4&gt;
&lt;p&gt;깃허브 블로그의 가장 큰 장점은 모든걸 커스터마이징할 수 있다는 것이다. 깃허브 블로그를 선택한 이유가 멋있어서... 라고 했는데 이 점이 제일 멋있는 것 같다.&lt;/p&gt;
&lt;p&gt;먼저 원했던 기능들을 추가한 다음, 디자인을 추가했다.&lt;/p&gt;
&lt;h5&gt;카테고리 기능&lt;/h5&gt;
&lt;p&gt;카테고리 추가는 그냥 마크다운 문서 가장 위쪽에 있는 메타데이터를  &lt;code class=&quot;language-text&quot;&gt;frontmatter&lt;/code&gt; 라고 하는데 그냥 여기에 category 항목만 추가하면 됐다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/09b8c4da44f5f8c31f020b78b3482e03/c0255/frontmatter.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.362318840579707%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA0UlEQVR42o2P227DIBBE8x1pDMTAcrGNsUNza6u2Uvr/nzQFZFnOWx6OZgeNdocd5xy+D5DkoGQLUhJWq4rREi4rqRaeNBwpeKPRbSg+OELZU9hxIWDmD9B4xnn0eFwm/L5H3OKQ6ZEGj6mz+JxD1eAMTr2r76M3iJkys3Uh47DpCzZeoO2IFHr8pIj7NEDnxvtDg0PDFl1Y5oaxqm/Zrw2FPuZ2V7j0jcdfBNERwZr6vRIQBbFh47nga+ZpYRdmKONwCnvIluWLDCxf55vgq/wDorCPUPfKlSsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;frontmatter&quot;
        title=&quot;&quot;
        src=&quot;/static/09b8c4da44f5f8c31f020b78b3482e03/dd45a/frontmatter.png&quot;
        srcset=&quot;/static/09b8c4da44f5f8c31f020b78b3482e03/948cf/frontmatter.png 138w,
/static/09b8c4da44f5f8c31f020b78b3482e03/6b2ea/frontmatter.png 275w,
/static/09b8c4da44f5f8c31f020b78b3482e03/dd45a/frontmatter.png 550w,
/static/09b8c4da44f5f8c31f020b78b3482e03/d4c13/frontmatter.png 825w,
/static/09b8c4da44f5f8c31f020b78b3482e03/c0255/frontmatter.png 920w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그리고 이걸 활용해서 카테고리 목록을 가져왔다. graphql 초면이라 이 부분은 구글링 했다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;graphql&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;categories: allMarkdownRemark(limit: 2000) {
    group(field: frontmatter___category) {
        fieldValue
        totalCount
    }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;아무튼 이렇게 가져와서&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;const categories = [{fieldValue: ALL_NAME, totalCount: allPosts.length}, ...data.categories.group]&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이렇게 전체보기 카테고리까지 추가한 다음 화면에 뿌려줬다.&lt;/p&gt;
&lt;p&gt;그 다음 카테고리를 선택하면 페이지 전환 없이 그냥 포스트 목록에서 제목에 검색 키워드가 포함되는 포스트만 조회되도록 하고싶었다. 이 부분은 따로 질의 하지 않고 그냥 전체 포스트 목록에서 걸러주는 식으로 만들었다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;useEffect(() =&amp;gt; {
  if (curCategory === ALL_NAME) {
    setPosts([...allPosts]);
    return;
  } setPosts([...allPosts.filter((post)=&amp;gt;post.frontmatter.category === curCategory)]);
}, [curCategory]);&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이렇게 카테고리가 바뀔 때 마다 다른 포스트들을 보여주도록 했다.&lt;/p&gt;
&lt;h5&gt;검색 기능&lt;/h5&gt;
&lt;p&gt;검색도 카테고리와 마찬가지로 전체 포스트 목록에서 키워드로 걸러주는 방식으로 만들었다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;  const searchProc = useCallback((e) =&amp;gt; {
    e.preventDefault();
    // 검색 키워드가 없으면 전체보기 카테고리로 이동
    if(!keyword || !keyword.trim()) {
      setCurCategory(ALL_NAME);
      setPosts([...allPosts]);
      return;
    }
    setPosts([...allPosts.filter((post)=&amp;gt; {
      // 키워드가 포스팅의 제목 또는 설명에 포함이 되어야 하고 현재 카테고리가 전체보기거나, 전체보기가 아니라면 해당 카테고리에 속하는 게시글이어야 한다. (카테고리 별로 검색)
      if ((post.frontmatter.title?.includes(keyword) || post.frontmatter.description?.includes(keyword))) {
        if (curCategory !== ALL_NAME) 
          return post.frontmatter.category === curCategory;
        return true;
      }
  })])
  }, [keyword, curCategory]);&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이렇게... 했어욥&lt;/p&gt;
&lt;p&gt;대충 이 정도만 추가하고 본격적으로 꾸미기 시작했다. 일단 나는 최대한 심플하고 깔끔하게 만들고 싶었다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0127c260b77f35d06ce90db0673ad16e/a2ef2/mynaverblog.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.28985507246377%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACIklEQVR42q2T30tTYRjHz3/UVRcJ0T/QRYUXRWB10U0ohaCBsAwr3RwGlkTJ0DJSSprGSvej4Zruh2dzRxf2QyWKJumctUXu7Gw7+3Teo6sWXWT5wJf3eR8O3/d5nu/3SJqmkctmKapbVCoVdF3/J5TLZUqlElKxWERVVYoGsSiIuzhL4qzmu4AkuhLYq5AKBRVNK/woZDIZCka3omNNze+e8PeCGFnspLKzm7+N6pQSexwmoaoWzM6q+zRR7dJQr+a+g+3vfuZqPm9ymIS6Xv5vYaoPSWJLy6lN/IEZ4oko71PrbKytsrQgk0zIuCddpNPrrCwqJEJ+3izEmI9F+LKZZuV1koQcZi4S5K0SMr0oaSWdwIxMj/USj50DeJ4HmA294EaXBVt3FycbTiFPB1mMeng22Mkd60UO7t9HwDuB+5EDxX2XwMh1wqO9hjMKSIJ1qM+K3dKEa6yf4cEe4vE4F5obaWlrxnrlGqGpILkPCrHxPoZv2zhUdwD/xBPczgfklnykZkdJRcaMuQ1j57e+Mey4idPRgeu+HSXsxuv1crT+CKcbTtDaeB5/MIz7Xi9nDtdhOVvPseNNeCa9+F39JP1DZF750FZlQzSDUDXMq0SnkaeeMuMbJ7vxkUg0QntHO7d67Ax02pmdSzDpfIjtchuOq610t5zjpRJH+5pi7d08ibCPz5+Wt20j1BX/4J8UqzV8qcYJupGLmmnqX4z9HWKCAmTncr+3AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;mynaverblog&quot;
        title=&quot;&quot;
        src=&quot;/static/0127c260b77f35d06ce90db0673ad16e/dd45a/mynaverblog.png&quot;
        srcset=&quot;/static/0127c260b77f35d06ce90db0673ad16e/948cf/mynaverblog.png 138w,
/static/0127c260b77f35d06ce90db0673ad16e/6b2ea/mynaverblog.png 275w,
/static/0127c260b77f35d06ce90db0673ad16e/dd45a/mynaverblog.png 550w,
/static/0127c260b77f35d06ce90db0673ad16e/d4c13/mynaverblog.png 825w,
/static/0127c260b77f35d06ce90db0673ad16e/99f37/mynaverblog.png 1100w,
/static/0127c260b77f35d06ce90db0673ad16e/a2ef2/mynaverblog.png 1970w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이게 내 네이버 블로그인데 뭔가 이런 느낌으로 만들고 싶었다. 뭐... 아무것도 없어보이긴 하지만 그래도 있을 기능 다 있고도 엄청 깔끔한 점이 맘에 든다.&lt;/p&gt;
&lt;p&gt;그리고 &lt;a href=&quot;https://zoomkoding.com/college-timetable-development/&quot;&gt;이 블로그&lt;/a&gt;도 많이 참고했다.
사실 거의 그대로 만든 느낌인데 개인적으로 카드 형태의 목록을 좋아해서 포스트 목록은 카드 형식으로 만들었다!&lt;/p&gt;
&lt;p&gt;제일 많이 신경 쓴 부분은 폰트인데 폰트는 &lt;a href=&quot;https://noonnu.cc/font_page/448&quot;&gt;ibm 폰트&lt;/a&gt;를 사용했다.
처음에는 &lt;a href=&quot;https://noonnu.cc/font_page/452&quot;&gt;paybook 폰트&lt;/a&gt;를 사용했었는데 적당히 둥글고도 단정한 느낌이 좋았지만 ibm폰트가 더 깔끔하고 가독성이 좋은 느낌이라 이걸로 결정했다! 하지만 언제 또 바뀔지 모른다.. 결정느림보에게 이렇게 자유도 높은 플랫폼은 힘들어요...&lt;/p&gt;
&lt;h4&gt;댓글 추가하기&lt;/h4&gt;
&lt;p&gt;무릇 블로그라면 댓글 기능이 있어야한다.&lt;/p&gt;
&lt;p&gt;보통 Utterances를 많이 사용하는 것 같은데 나는 giscus라는 것을 사용했다. 테마도 다양했고 반응 기능, 정렬 기능, 답글 기능 등 Utterances보다 많은 기능을 제공하고 있었기 때문이다!&lt;/p&gt;
&lt;p&gt;giscus는 일단 댓글 전용 리포지토리를 만들고, Discussions를 활성화 시킨 다음, &lt;a href=&quot;https://giscus.app/ko&quot;&gt;이 문서&lt;/a&gt;에 나온대로 진행하면 된다. 댓글 기능은 포스트 별로 discussion을 생성하고, 해당 discuusion에 달린 댓글을 포스트에 보여주는 방식인 것 같았다.&lt;/p&gt;
&lt;p&gt;이 문서의 마지막에 페이지에 넣으라고 스크립트를 제공해주는데 이걸 어떻게 적용시키지...? 싶었다. 그래서 찾아보니 &lt;code class=&quot;language-text&quot;&gt;@giscus/react&lt;/code&gt; 라는 패키지가 있었다. 이 패키지를 설치하고 &lt;a href=&quot;https://github.com/giscus/giscus-component&quot;&gt;여기서&lt;/a&gt; 하라는대로 컴포넌트를 추가해줬다!&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;html&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;&amp;lt;Giscus
    id=&amp;quot;comments&amp;quot;
    repo=&amp;quot;klloo/blog-comments&amp;quot;
    repoId=&amp;quot;&amp;quot;
    category=&amp;quot;&amp;quot;
    categoryId=&amp;quot;&amp;quot;
    mapping=&amp;quot;pathname&amp;quot;
    strict=&amp;quot;0&amp;quot;
    reactionsEnabled=&amp;quot;1&amp;quot;
    emitMetadata=&amp;quot;0&amp;quot;
    inputPosition=&amp;quot;bottom&amp;quot;
    theme=&amp;quot;preferred_color_scheme&amp;quot;
    lang=&amp;quot;ko&amp;quot;
    crossorigin=&amp;quot;anonymous&amp;quot;
    async
/&amp;gt;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;giscus에서 제공해주는 스크립트의 속성명(케밥케이스)과 컴포넌트에 넣어야하는 prop이름(카멜케이스)이 다르기 때문에 주의해야 한다. 이 사항은 &lt;code class=&quot;language-text&quot;&gt;@giscus/react&lt;/code&gt; 패키지 설명에도 나와있긴하다.&lt;/p&gt;
&lt;p&gt;그러면 댓글 기능 완성이다. 그런데 이렇게만 하면 내가 포스트들을 일일이 확인해야 댓글이 달렸는지 알 수 있다. 그래서 댓글이 달리면 슬랙으로 알림이 오도록 설정해줬다.&lt;/p&gt;
&lt;p&gt;먼저 슬랙에 워크스페이스를 만들고 슬랙 봇을 생성해준다. 그리고 댓글 전용 repository에 Actions를 추가해준다. 그럼 끝이다&lt;/p&gt;
&lt;p&gt;github actions는 github에서 제공하는 CI/CD를 위해 제공되는 서비스로 repository에서 에서 어떤 이벤트가 발생했을 때 특정 작업이 일어나게 하거나 주기적으로 어떤 작업들을 반복해서 실행시킬 수도 있다. 그래서 댓글이 달리면(discussion이 생성되거나, discussion에 댓글이 달렸을 경우), 슬랙으로 알림을 보낼 수 있도록 설정해주면 되는 것이다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bf44b554a1e617c1f0b5bcd1abcc7b97/d7ceb/slackcomment.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.10144927536232%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCElEQVR42p2RW2vCQBCF8///SaEv/QO2Ul9K9VGkBRONunHjJRdzT3a/TgQfpKWoA2eHZZdzZs5xRi8jJu8TVLDGXyzYak2S5RhjuFTXdVf3/8qxxpKmGVN3zfdSMVdH3PDE4VTxSDlFVpJnBcFWc4xiqqq+a6JfhG/PQ8bDsayqWPlLdKiJkoyqbh4jNJ0hSU7MPMXXQuGpA9N1TJiW5w/2XsKmaijyQkLRaL07k3ci0gth7W3ohcsaI5s5r08DPgcfBJsVvjtHq0C8TCSoHCukN0H8tmWDkTxkwpo4TplvdnjBHj+MmKkYFRWPedgfbduSy8hl3QrEArGhlt6n3b9d+l+w9trlH+EavUn9vw4vAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;slackcomment&quot;
        title=&quot;&quot;
        src=&quot;/static/bf44b554a1e617c1f0b5bcd1abcc7b97/dd45a/slackcomment.png&quot;
        srcset=&quot;/static/bf44b554a1e617c1f0b5bcd1abcc7b97/948cf/slackcomment.png 138w,
/static/bf44b554a1e617c1f0b5bcd1abcc7b97/6b2ea/slackcomment.png 275w,
/static/bf44b554a1e617c1f0b5bcd1abcc7b97/dd45a/slackcomment.png 550w,
/static/bf44b554a1e617c1f0b5bcd1abcc7b97/d4c13/slackcomment.png 825w,
/static/bf44b554a1e617c1f0b5bcd1abcc7b97/99f37/slackcomment.png 1100w,
/static/bf44b554a1e617c1f0b5bcd1abcc7b97/d7ceb/slackcomment.png 1446w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;자세한 과정은 &lt;a href=&quot;https://jjam89.tistory.com/287&quot;&gt;이 블로그&lt;/a&gt;를 참고했고, 이렇게 해주면 슬랙으로 알림이 잘 오는걸 확인할 수 있다!&lt;/p&gt;
&lt;h4&gt;Google Search Console 등록하기&lt;/h4&gt;
&lt;p&gt;이렇게 블로그도 만들고 댓글 기능도 만들었는데 아무도 안찾아오면 외롭고 슬프니까 Google Search Console에 등록해준다.&lt;/p&gt;
&lt;p&gt;이 과정은 Gatsby 플러그인을 사용해서 robots.txt과 sitemap을 생성하고, Google Search Console에 sitemap을 등록해주기만 하면 된다.&lt;/p&gt;
&lt;p&gt;등록하는 과정은 &lt;a href=&quot;https://janeljs.github.io/blog/google-search-console/&quot;&gt;이 블로그&lt;/a&gt; 내용을 참고하였다. 일단 따라서 등록은 했는데... 잘 된건지 모르겠다. 보통 노출되는데 며칠 걸린다고 하니까 좀 기다려봐야겠다&lt;/p&gt;
&lt;p&gt;+ 하루만에 노출이 되고 있는 것을 확인했다!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; overflow: hidden!important; border-radius: 8px!important; margin-left: 0!important; box-shadow: 0 0 10px rgb(210, 210, 210);&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/21fa6a716f6034cfbaa95add0ea01313/332b4/googlesite.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.04347826086957%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABKElEQVR42s1Ra0/DMBDr//+VIChtx9q830nNJWvHJjZgEh84yTolcZyz0ym2wBqFWkIIcM5bl1Ii59z213W9QikF3jlY62F9ImTab1R0kjE4axpRCEmCn6LOecQYG1JKCCE2+BDgvUcgRB8QYkbZFDtsVacJRHT0ciVXKK1pCrutA4wxUEpBa0P8glvVlUI2ysmKVgZGW4rAIaeCetZ6Xq8urRcxxEiTk4N93V2yDq8cb08zDv2C6YWBTRpLr6GZO2dXndS+1x7JecLLd8dxxDCM1KfWGeMtT0Y510xrPx6PZFnjXp0Fa6aafksKjphOFm798I4fBWvGfW8xPL9jIsvLqKBmj5LuX/5WsFrmM8d8YJDcIIWCYNKXD3lAEL+y9JDgX9T/F/wAc/UAviaoBeEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;googlesite&quot;
        title=&quot;&quot;
        src=&quot;/static/21fa6a716f6034cfbaa95add0ea01313/dd45a/googlesite.png&quot;
        srcset=&quot;/static/21fa6a716f6034cfbaa95add0ea01313/948cf/googlesite.png 138w,
/static/21fa6a716f6034cfbaa95add0ea01313/6b2ea/googlesite.png 275w,
/static/21fa6a716f6034cfbaa95add0ea01313/dd45a/googlesite.png 550w,
/static/21fa6a716f6034cfbaa95add0ea01313/d4c13/googlesite.png 825w,
/static/21fa6a716f6034cfbaa95add0ea01313/99f37/googlesite.png 1100w,
/static/21fa6a716f6034cfbaa95add0ea01313/332b4/googlesite.png 1826w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;향후 계획&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;1. about 페이지 추가&lt;/strong&gt;
&lt;br/&gt;
우측 상단에 버튼만 덩그러니 만들어 놨는데... 당장은 안할 것 같지만 언젠가 나에 대한 내용으로 차차 채워 볼 예정이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. 페이징 기능 추가&lt;/strong&gt;
&lt;br/&gt;
게시글이 많아진다면 페이징 기능도 추가해봐야할 것 같다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. 블로그 홈 배너 위치에 있는 내용 수정&lt;/strong&gt;
&lt;br/&gt;
뭐 넣어야할 지 몰라서 일단 갤러리 뒤져서 아무 사진이나 넣어뒀는데 나쁘지 않길래 그냥 뒀다. 좋은 아이디어가 떠오르면 바로 수정할 예정이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. SEO 최적화&lt;/strong&gt;
&lt;br/&gt;
아직 검색엔진과 검색엔진 최적화에 대한 개념이 많이 부족하기도 하고 작성한 글도 없으니...일단은 미뤄두지만 조만간 공부해보고 적용해볼 예정이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. 게시물 목차(TOC) 구현&lt;/strong&gt;
&lt;br/&gt;
그 보통 개발 블로그 보면 게시물 옆에 졸졸 따라다니는 목차가 있는데 나도 필요할 것 같다. 이건 이번주 안에 추가할 예정이다.&lt;/p&gt;</content:encoded></item></channel></rss>